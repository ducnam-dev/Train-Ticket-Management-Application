Index: src/dao/GaDao.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package dao;\n\nimport database.ConnectDB;\nimport entity.Ga;\n\nimport java.sql.*;\nimport java.util.Vector;\n\npublic class GaDao {\n\n\tpublic static Ga getGaById(String maGaDi) {\n\t\treturn null;\n\t}\n\tprivate static GaDao instance;\n\tpublic static GaDao getInstance() {\n        if (instance == null) {\n            // Đồng bộ hóa (synchronized) để đảm bảo an toàn đa luồng khi khởi tạo\n            synchronized (GaDao.class) {\n                if (instance == null) {\n                    // Tạo instance chỉ một lần\n                    instance = new GaDao();\n                }\n            }\n        }\n        return instance;\n    }\n\n\n    // Trong GaDao.java\n    public Vector<Ga> layDanhSachGa() {\n        Vector<Ga> danhSachGa = new Vector<>();\n        String sql = \"SELECT MaGa, TenGa, DiaChi FROM Ga\";\n\n        try (Connection con = ConnectDB.getInstance().getConnection(); // Khai báo trong try-with-resources\n             PreparedStatement pstmt = con.prepareStatement(sql);\n             ResultSet rs = pstmt.executeQuery()) { // Khai báo ResultSet trong try-with-resources\n\n            while (rs.next()) {\n                Ga ga = new Ga(rs.getString(\"MaGa\"), rs.getString(\"TenGa\"), rs.getString(\"DiaChi\"));\n                danhSachGa.add(ga);\n            }\n\n        } catch (SQLException e) {\n            System.err.println(\"Lỗi khi tải danh sách Ga: \" + e.getMessage());\n            e.printStackTrace();\n        }\n        return danhSachGa;\n    }\n\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/dao/GaDao.java b/src/dao/GaDao.java
--- a/src/dao/GaDao.java	(revision 4be61b24890bfa626c5ac99b691918220a3a9022)
+++ b/src/dao/GaDao.java	(date 1761500773020)
@@ -25,7 +25,6 @@
         return instance;
     }
 
-
     // Trong GaDao.java
     public Vector<Ga> layDanhSachGa() {
         Vector<Ga> danhSachGa = new Vector<>();
Index: src/gui/Panel/ManHinhBanVe.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package gui.Panel;\n\nimport dao.ChoDatDAO;\nimport dao.ChuyenTauDao;\nimport dao.GaDao;\nimport dao.ToaDAO;\nimport dao.GiaVeCoBanTheoGaDAO;\nimport dao.LoaiChoDatDAO;\nimport dao.LoaiVeDAO;\nimport dao.VeDAO;\nimport entity.*;\nimport gui.MainFrame.BanVeDashboard;\n\nimport javax.swing.*;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.TitledBorder;\nimport javax.swing.table.DefaultTableModel;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.*;\nimport java.util.List;\n\n/**\n * ManHinhBanVe - Phiên bản đã sắp xếp thành module để quan sát.\n * Bổ sung tính năng tính giá vé per-seat (dựa trên bảng GiaVeCoBanTheoGa,\n * hệ số LoaiChoDat và hệ số LoaiVe). Hiện các DAO mới là stub/mock để bạn triển khai DB.\n */\npublic class ManHinhBanVe extends JPanel implements MouseListener, ActionListener {\n\n    // ====================\n    // MODULE: Trạng thái & dữ liệu (State)\n    // ====================\n    private JPanel pnlToa;\n    private JPanel pnlSoDoGhe;\n    private JComboBox<Ga> cbGaDi;\n    private JComboBox<Ga> cbGaDen;\n    private JTextField dateField;\n\n    private JLabel lblTongSoKhach;\n    private JTextField txtNguoiCaoTuoi;\n    private JTextField txtNguoiLon;\n    private JTextField txtTreCon;\n    private JTextField txtSinhVien;\n\n    private JTable tableChuyenTau;\n    private DefaultTableModel tableModel;\n\n    private JPanel pnlDanhSachGheDaCho;\n\n    private Date date;\n    private List<ChuyenTau> ketQua = new ArrayList<>();\n    private String maChuyenTauHienTai = null;\n\n    private JButton lastSelectedToaButton = null;\n    private String maToaHienTai = null;\n\n    // Map tạm thời: MaChoDat -> TempKhachHang\n    private Map<String, ChiTietKhach> danhSachKhachHang = new LinkedHashMap<>();\n    // Map số lượng yêu cầu theo loại\n    private Map<String, Integer> soLuongYeuCau = new HashMap<>();\n\n    // Map toàn bộ ChoDat của toa hiện tại để tra cứu nhanh\n    private Map<String, ChoDat> tatCaChoDatToaHienTai = new HashMap<>();\n\n    // Danh sách ghế đang chọn: MaCho -> ChoDat\n    private Map<String, ChoDat> danhSachGheDaChon = new LinkedHashMap<>();\n\n    // Map nút ghế: MaCho -> JButton (để cập nhật trạng thái nút khi hủy chọn)\n    private Map<String, JButton> seatButtonsMap = new HashMap<>();\n\n    private static final SimpleDateFormat INPUT_DATE_FORMAT = new SimpleDateFormat(\"dd/MM/yyyy\");\n    private static final SimpleDateFormat SQL_DATE_FORMAT = new SimpleDateFormat(\"yyyy-MM-dd\");\n    private JScrollPane thongTinKhachScrollPane;\n\n    private static record ChiTietKhach(\n            ChoDat choDat,\n            String maLoaiVe,\n            String hoTen,\n            String cccd,\n            String sdt,\n            int tuoi\n    ) {\n        // PHƯƠNG THỨC HỖ TRỢ BẤT BIẾN (WITH)\n        // Dùng khi người dùng thay đổi loại vé\n        public ChiTietKhach withMaLoaiVe(String newMaLoaiVe) {\n            return new ChiTietKhach(this.choDat, newMaLoaiVe, this.hoTen, this.cccd, this.sdt, this.tuoi);\n        }\n\n        // Dùng khi người dùng thay đổi Họ tên\n        public ChiTietKhach withHoTen(String newHoTen) {\n            return new ChiTietKhach(this.choDat, this.maLoaiVe, newHoTen, this.cccd, this.sdt, this.tuoi);\n        }\n\n        // Dùng khi người dùng thay đổi CCCD\n        public ChiTietKhach withCccd(String newCccd) {\n            return new ChiTietKhach(this.choDat, this.maLoaiVe, this.hoTen, newCccd, this.sdt, this.tuoi);\n        }\n\n        // Dùng khi người dùng thay đổi SDT\n        public ChiTietKhach withSdt(String newSdt) {\n            return new ChiTietKhach(this.choDat, this.maLoaiVe, this.hoTen, this.cccd, newSdt, this.tuoi);\n        }\n\n        // Dùng khi người dùng thay đổi Tuổi\n        public ChiTietKhach withTuoi(int newTuoi) {\n            return new ChiTietKhach(this.choDat, this.maLoaiVe, this.hoTen, this.cccd, this.sdt, newTuoi);\n        }\n    }\n\n    // DAO\n    private ChoDatDAO choDatDao = new ChoDatDAO();\n    private GiaVeCoBanTheoGaDAO giaVeCoBanDAO = new GiaVeCoBanTheoGaDAO();\n    private LoaiChoDatDAO loaiChoDatDAO = new LoaiChoDatDAO();\n    private LoaiVeDAO loaiVeDAO = new LoaiVeDAO();\n    private VeDAO veDAO = new VeDAO();\n\n    // Mã loại vé (hằng)\n    private static final String MA_VE_NL = \"VT01\";\n    private static final String MA_VE_TE = \"VT02\";\n    private static final String MA_VE_NCT = \"VT03\";\n    private static final String MA_VE_SV = \"VT04\";\n    private JButton cancelButton, nextButton;\n    private JButton btnTimChuyen;\n\n    // Map lưu giá mỗi ghế (maCho -> giaVe đã làm tròn VNĐ)\n    private Map<String, Long> danhSachGiaVe = new HashMap<>();\n\n    // Label tổng tiền (phải là trường lớp để cập nhật)\n    private JLabel lblTotalPrice;\n    private JPanel loaiKhachSpinBoxPanel;\n    private JTextField txtTongSoKhach;\n    private JPanel pnlTongSoKhachControl;\n\n    // 1. Helper để cập nhật maLoaiVe (Dùng khi người dùng chọn ComboBox)\n\n    // 2. Helper chung để cập nhật bất kỳ trường nào (Dùng trong FocusListener)\n    private void updateKhachRecord(String maCho, String newValue, String fieldName) {\n        ChiTietKhach original = danhSachKhachHang.get(maCho);\n        if (original == null) return;\n\n        ChiTietKhach updated = switch (fieldName) {\n            case \"hoTen\" -> new ChiTietKhach(original.choDat(), original.maLoaiVe(), newValue, original.cccd(), original.sdt(), original.tuoi());\n            case \"cccd\" -> new ChiTietKhach(original.choDat(), original.maLoaiVe(), original.hoTen(), newValue, original.sdt(), original.tuoi());\n            case \"sdt\" -> new ChiTietKhach(original.choDat(), original.maLoaiVe(), original.hoTen(), original.cccd(), newValue, original.tuoi());\n            case \"tuoi\" -> new ChiTietKhach(original.choDat(), original.maLoaiVe(), original.hoTen(), original.cccd(), original.sdt(), parseTextFieldToInt(new JTextField(newValue)));\n            default -> original;\n        };\n        danhSachKhachHang.put(maCho, updated);\n    }\n\n    // ====================\n    // MODULE: Constructor + Layout chính\n    // ====================\n    public ManHinhBanVe() {\n        setLayout(new BorderLayout(5, 5));\n        setBorder(new EmptyBorder(10, 10, 10, 10));\n        setBackground(new Color(240, 242, 245));\n\n        add(taoPanelTieuDe(), BorderLayout.NORTH);\n        add(taoNoiDungChinh(), BorderLayout.CENTER);\n    }\n\n    // ====================\n    // MODULE: UI BUILDERS (các phương thức tạo vùng giao diện)\n    // ====================\n    private JPanel taoPanelTieuDe() {\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.setBackground(Color.WHITE);\n        panel.setPreferredSize(new Dimension(0, 50));\n        panel.setBorder(new EmptyBorder(0, 10, 0, 10));\n\n        JLabel titleLabel = new JLabel(\"Bán vé\");\n        titleLabel.setFont(titleLabel.getFont().deriveFont(Font.BOLD, 24f));\n        panel.add(titleLabel, BorderLayout.WEST);\n\n        JLabel idLabel = new JLabel(\"ID: QL200001\");\n        panel.add(idLabel, BorderLayout.EAST);\n\n        return panel;\n    }\n\n    private JPanel taoNoiDungChinh() {\n        JPanel mainPanel = new JPanel(new BorderLayout(10, 0));\n        mainPanel.setBackground(Color.WHITE);\n\n        JPanel contentLeftPanel = new JPanel();\n        contentLeftPanel.setLayout(new BoxLayout(contentLeftPanel, BoxLayout.Y_AXIS));\n        contentLeftPanel.setOpaque(false);\n        contentLeftPanel.setBorder(new EmptyBorder(0, 0, 0, 5));\n\n        // Các khu vực con (được tách modular)\n        contentLeftPanel.add(createKhuVucTimKiem());\n        contentLeftPanel.add(Box.createVerticalStrut(10));\n        contentLeftPanel.add(createKhuVucDanhSachChuyenTau());\n        contentLeftPanel.add(Box.createVerticalStrut(10));\n        contentLeftPanel.add(createKhuVucChonLoaiKhach());\n        contentLeftPanel.add(Box.createVerticalStrut(10));\n        contentLeftPanel.add(createKhuVucChonViTriGhe());\n        contentLeftPanel.add(Box.createVerticalStrut(10));\n\n        contentLeftPanel.add(Box.createVerticalGlue());\n\n        JScrollPane leftScrollPane = new JScrollPane(contentLeftPanel);\n        leftScrollPane.setBorder(null);\n        leftScrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n        leftScrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n        leftScrollPane.getVerticalScrollBar().setUnitIncrement(16);\n\n        JPanel leftContainer = new JPanel(new BorderLayout());\n        leftContainer.setOpaque(true);\n        leftContainer.add(leftScrollPane, BorderLayout.CENTER);\n\n        JPanel rightPanel = createKhuVucThongTinKhach();\n//        rightPanel.add(createKhuVucTongTien(), BorderLayout.SOUTH);\n        JSplitPane split = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, leftContainer, rightPanel);\n        split.setResizeWeight(0.75);\n        split.setOneTouchExpandable(true);\n        split.setDividerSize(6);\n\n        mainPanel.add(split, BorderLayout.CENTER);\n        return mainPanel;\n    }\n\n\n    private JPanel createKhuVucTimKiem() {\n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.LEFT, 10, 10));\n        panel.setBackground(Color.WHITE);\n        TitledBorder title = BorderFactory.createTitledBorder(BorderFactory.createLineBorder(Color.LIGHT_GRAY),\n                \"Tìm kiếm chuyến tàu\");\n        title.setTitleFont(title.getTitleFont().deriveFont(Font.BOLD, 14f));\n        panel.setBorder(title);\n\n        Vector<Ga> danhSachGa = new GaDao().layDanhSachGa();\n\n        panel.add(new JLabel(\"Ga đi\"));\n        cbGaDi = new JComboBox<>(danhSachGa);\n        panel.add(cbGaDi);\n\n        panel.add(new JLabel(\"Ga đến\"));\n        cbGaDen = new JComboBox<>(danhSachGa);\n        panel.add(cbGaDen);\n\n        if (danhSachGa.size() > 1) {\n            cbGaDen.setSelectedIndex(3);\n        }\n\n        panel.add(new JLabel(\"Ngày đi\"));\n        dateField = new JTextField(\"10/11/2025\", 8);\n        dateField.setPreferredSize(new Dimension(80, 25));\n        panel.add(dateField);\n\n        btnTimChuyen = new JButton(\"Tìm chuyến\");\n        styleNutChinh(btnTimChuyen);\n        btnTimChuyen.addActionListener(this);\n        panel.add(btnTimChuyen);\n\n        datCanhKhuVuc(panel);\n        return panel;\n    }\n\n    private JScrollPane createKhuVucDanhSachChuyenTau() {\n        String[] columnNames = {\"Tên Chuyến\", \"Ngày đi\", \"Giờ đi\"};\n        tableModel = new DefaultTableModel(columnNames, 0) {\n            @Override public boolean isCellEditable(int row, int column) { return false; }\n        };\n\n        tableChuyenTau = new JTable(tableModel);\n        tableChuyenTau.addMouseListener(this);\n\n        JScrollPane scrollPane = new JScrollPane(tableChuyenTau);\n        scrollPane.setPreferredSize(new Dimension(400, 100));\n        scrollPane.setMaximumSize(new Dimension(1200, 100));\n        return scrollPane;\n    }\n\n    private JPanel createKhuVucChonLoaiKhach() {\n        JPanel panel = new JPanel();\n        panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));\n        panel.setBackground(Color.WHITE);\n\n        TitledBorder title = BorderFactory.createTitledBorder(BorderFactory.createLineBorder(Color.LIGHT_GRAY),\n                \"Chọn toa và số lượng khách\");\n        title.setTitleFont(title.getTitleFont().deriveFont(Font.BOLD, 14f));\n        panel.setBorder(title);\n\n        JPanel topRow = new JPanel(new FlowLayout(FlowLayout.LEFT, 10, 10));\n        topRow.setOpaque(false);\n        topRow.setAlignmentX(Component.LEFT_ALIGNMENT);\n\n        // --- KHU VỰC NHẬP TỔNG SỐ KHÁCH (DÙNG ToaPanelTangGiam) ---\n\n        // 1. Khai báo và khởi tạo JTextField cho Tổng số khách\n        // Khởi tạo ở đây nếu chưa phải là biến cấp lớp hoặc đảm bảo biến đã được khai báo.\n        //columns = 3 để giới hạn độ rộng hiển thị\n        txtTongSoKhach = new JTextField(2);\n\n        txtTongSoKhach.setPreferredSize(new Dimension(60, 30));\n        txtTongSoKhach.setMaximumSize(new Dimension(60, 30));\n        // 2. Tạo control tăng/giảm chỉ cho TỔNG SỐ KHÁCH\n        pnlTongSoKhachControl = ToaPanelTangGiam(\"Tổng số khách\", \"1\", txtTongSoKhach);\n\n        // Giảm giới hạn chiều rộng để panel không chiếm hết không gian (tùy chọn)\n        pnlTongSoKhachControl.setMaximumSize(new Dimension(300, 40));\n\n        // Thêm control nhập số lượng vào topRow\n        topRow.add(pnlTongSoKhachControl);\n\n        // Thêm topRow (chứa control nhập tổng khách) vào panel chính\n        panel.add(topRow);\n\n        // --- KHU VỰC CHỌN TOA (Giữ nguyên) ---\n        pnlToa = new JPanel(new FlowLayout(FlowLayout.LEFT, 5, 10));\n        pnlToa.setOpaque(false);\n        pnlToa.setAlignmentX(Component.LEFT_ALIGNMENT);\n        pnlToa.add(new JLabel(\"Chọn toa:\"));\n        panel.add(pnlToa);\n\n        // Điều chỉnh giới hạn chiều cao phù hợp\n        panel.setMaximumSize(new Dimension(1200, 150));\n\n        // Gọi hàm cập nhật trạng thái\n        capNhatSoLuongYeuCau();\n        datCanhKhuVuc(panel);\n        return panel;\n    }\n    // ====================\n    // MODULE: SpinBox helpers\n    // ====================\n    private JPanel ToaPanelTangGiam(String labelText, String initialValue, JTextField targetField) {\n        JPanel panel = new JPanel(new BorderLayout(5, 0));\n        panel.setOpaque(false);\n        panel.setAlignmentX(Component.LEFT_ALIGNMENT);\n        panel.setBorder(new EmptyBorder(5, 0, 5, 0));\n\n        JPanel labelDiscountPanel = new JPanel(new FlowLayout(FlowLayout.LEFT, 5, 0));\n        labelDiscountPanel.setOpaque(false);\n\n        JLabel mainLabel = new JLabel(labelText);\n        mainLabel.setFont(mainLabel.getFont().deriveFont(Font.BOLD, 14f));\n        labelDiscountPanel.add(mainLabel);\n\n        JPanel controlPanel = new JPanel(new FlowLayout(FlowLayout.CENTER, 5, 0));\n        controlPanel.setOpaque(false);\n\n        JButton btnMinus = new JButton(\"−\");\n        btnMinus.setPreferredSize(new Dimension(30, 30));\n        btnMinus.setMargin(new Insets(0, 0, 0, 0));\n        styleSpinButton(btnMinus);\n\n        targetField.setText(initialValue);\n        targetField.setHorizontalAlignment(JTextField.CENTER);\n\n        targetField.setPreferredSize(new Dimension(60, 30));\n        targetField.setMaximumSize(new Dimension(60, 30));\n        targetField.setEditable(false);\n\n        JButton btnPlus = new JButton(\"+\");\n        btnPlus.setPreferredSize(new Dimension(30, 30));\n        btnPlus.setMargin(new Insets(0, 0, 0, 0));\n        styleSpinButton(btnPlus);\n\n        btnPlus.addActionListener(e -> changeQuantity(targetField, 1));\n        btnMinus.addActionListener(e -> changeQuantity(targetField, -1));\n\n        controlPanel.add(btnMinus);\n        controlPanel.add(targetField);\n        controlPanel.add(btnPlus);\n\n        panel.add(controlPanel, BorderLayout.EAST);\n        panel.setMaximumSize(new Dimension(Integer.MAX_VALUE, 40));\n        return panel;\n    }\n\n    private void styleSpinButton(JButton btn) {\n        btn.setBackground(Color.WHITE);\n        btn.setForeground(Color.BLACK);\n        btn.setFocusPainted(false);\n        btn.setBorder(BorderFactory.createLineBorder(Color.LIGHT_GRAY));\n    }\n    private int parseTextFieldToInt(JTextField field) {\n        try {\n            if (field.getText().trim().isEmpty()) return 0;\n            return Integer.parseInt(field.getText().trim());\n        } catch (NumberFormatException e) {\n            return 0;\n        }\n    }\n\n    private void changeQuantity(JTextField field, int delta) {\n        int currentValue = parseTextFieldToInt(field);\n        int newValue = currentValue + delta;\n        if (newValue < 0) newValue = 0;\n        field.setText(String.valueOf(newValue));\n        capNhatSoLuongYeuCau();\n    }\n\n\n    // MODULE: Logic tính toán & cập nhật trạng thái (ĐÃ SỬA)\n// ====================\n    private void capNhatSoLuongYeuCau() {\n        // Chỉ lấy giá trị từ trường TỔNG SỐ KHÁCH\n        int tongSoKhachMoi = parseTextFieldToInt(txtTongSoKhach);\n\n        // Cập nhật label (Nếu lblTongSoKhach không được sử dụng, có thể bỏ qua)\n        // Nếu bạn muốn hiển thị lại label tổng số khách, hãy thêm nó vào createKhuVucChonLoaiKhach()\n        // Nếu không, hãy kiểm tra xem bạn có cần nó nữa không.\n        if (lblTongSoKhach != null) {\n            lblTongSoKhach.setText(String.valueOf(tongSoKhachMoi));\n        }\n\n        // Cập nhật Map yêu cầu chỉ với TỔNG SỐ KHÁCH\n        soLuongYeuCau.clear();\n        // Bây giờ, chỉ cần một mục để lưu tổng số khách.\n        // Bạn có thể dùng một key chung hoặc key cũ là \"NguoiLon\" nếu hệ thống logic của bạn\n        // cần ít nhất 1 loại khách để hoạt động. Tôi dùng key mới.\n        soLuongYeuCau.put(\"TongSoKhach\", tongSoKhachMoi);\n\n        // Xóa các dòng cập nhật cho từng loại khách đã bị loại bỏ\n\n        // Cảnh báo nếu số ghế đã chọn vượt quá tổng số khách mới\n        if (danhSachGheDaChon != null && danhSachGheDaChon.size() > tongSoKhachMoi) {\n            JOptionPane.showMessageDialog(null, // Thay thế this bằng null nếu đây không phải là class JDialog/JFrame\n                    \"Số lượng ghế đã chọn (\" + danhSachGheDaChon.size() + \") vượt quá Tổng số khách mới (\" + tongSoKhachMoi + \"). Vui lòng hủy chọn bớt.\",\n                    \"Cảnh báo\", JOptionPane.WARNING_MESSAGE);\n        }\n    }\n\n    private JPanel createKhuVucChonViTriGhe() {\n        JPanel panel = new JPanel();\n        panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));\n        panel.setBackground(Color.WHITE);\n\n        TitledBorder title = BorderFactory.createTitledBorder(BorderFactory.createLineBorder(Color.LIGHT_GRAY),\n                \"Chọn vị trí của ghế\");\n        title.setTitleFont(title.getTitleFont().deriveFont(Font.BOLD, 14f));\n        panel.setBorder(title);\n\n        pnlSoDoGhe = new JPanel();\n        pnlSoDoGhe.setAlignmentX(Component.LEFT_ALIGNMENT);\n\n        JScrollPane soDoScrollPane = new JScrollPane(pnlSoDoGhe);\n        soDoScrollPane.setBorder(BorderFactory.createEmptyBorder());\n        soDoScrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n        soDoScrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_NEVER);\n        soDoScrollPane.setPreferredSize(new Dimension(100, 150));\n        soDoScrollPane.setMaximumSize(new Dimension(Integer.MAX_VALUE, 150));\n\n        panel.add(soDoScrollPane);\n        panel.add(Box.createVerticalStrut(10));\n\n        JPanel legendPanel = new JPanel(new FlowLayout(FlowLayout.LEFT, 15, 5));\n        legendPanel.setOpaque(false);\n        legendPanel.add(taoMucChuGiai(Color.LIGHT_GRAY, \"Chỗ trống\"));\n        legendPanel.add(taoMucChuGiai(Color.BLACK, \"Đã đặt\"));\n        legendPanel.add(taoMucChuGiai(new Color(0, 123, 255), \"Đang chọn\"));\n        legendPanel.setAlignmentX(Component.LEFT_ALIGNMENT);\n        panel.add(legendPanel);\n        panel.add(Box.createVerticalStrut(5));\n\n        pnlDanhSachGheDaCho = new JPanel(new FlowLayout(FlowLayout.LEFT, 10, 5));\n        pnlDanhSachGheDaCho.setOpaque(false);\n        pnlDanhSachGheDaCho.setAlignmentX(Component.LEFT_ALIGNMENT);\n        pnlDanhSachGheDaCho.add(new JLabel(\"Ghế đã chọn:\"));\n        capNhatDanhSachGheDaChonUI();\n        panel.add(pnlDanhSachGheDaCho);\n\n        datCanhKhuVuc(panel);\n        return panel;\n    }\n\n    private JPanel createKhuVucTongTien() {\n        JPanel fullSummary = new JPanel(new BorderLayout());\n        fullSummary.setBackground(Color.white);\n        fullSummary.setBorder(new EmptyBorder(5, 10, 5, 10));\n\n        JPanel summaryPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT, 15, 0));\n        summaryPanel.setOpaque(false);\n        summaryPanel.add(new JLabel(\"Đã chọn: X/Y\"));\n\n        lblTotalPrice = new JLabel(\"Tổng tiền vé: 0 VNĐ\");\n        lblTotalPrice.setFont(lblTotalPrice.getFont().deriveFont(Font.BOLD, 14f));\n        lblTotalPrice.setForeground(new Color(255, 165, 0));\n        summaryPanel.add(lblTotalPrice);\n\n        fullSummary.add(summaryPanel, BorderLayout.EAST);\n        datCanhKhuVuc(fullSummary);\n        return fullSummary;\n    }\n\n    private JPanel createKhuVucThongTinKhach() {\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.setBackground(Color.WHITE);\n        panel.setBorder(BorderFactory.createTitledBorder(BorderFactory.createLineBorder(Color.LIGHT_GRAY),\n                \"Thông tin khách hàng\"));\n\n        JPanel infoScrollPanel = new JPanel();\n        infoScrollPanel.setLayout(new BoxLayout(infoScrollPanel, BoxLayout.Y_AXIS));\n        infoScrollPanel.setOpaque(false);\n        infoScrollPanel.setBorder(new EmptyBorder(5, 5, 5, 5));\n\n        infoScrollPanel.add(new JLabel(\"Chọn ghế để thêm thông tin.\"));\n        infoScrollPanel.add(Box.createVerticalGlue());\n//        infoScrollPanel.setPreferredSize(new Dimension(800, 300));\n\n        thongTinKhachScrollPane = new JScrollPane(infoScrollPanel);\n        thongTinKhachScrollPane.setBorder(null);\n        thongTinKhachScrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n        thongTinKhachScrollPane.setPreferredSize(new Dimension(700, 300));\n        panel.add(thongTinKhachScrollPane, BorderLayout.CENTER);\n\n        SwingUtilities.invokeLater(this::capNhatThongTinKhachUI);\n\n        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT, 10, 10));\n        buttonPanel.setOpaque(false);\n\n        cancelButton = new JButton(\"< Hủy\");\n        cancelButton.setPreferredSize(new Dimension(80, 40));\n        cancelButton.setFont(cancelButton.getFont().deriveFont(Font.BOLD, 14f));\n        cancelButton.setBackground(new Color(220, 53, 69));\n        cancelButton.setForeground(Color.WHITE);\n\n        nextButton = new JButton(\"Tiếp theo >\");\n        nextButton.setPreferredSize(new Dimension(120, 40));\n        nextButton.setFont(nextButton.getFont().deriveFont(Font.BOLD, 14f));\n        nextButton.setBackground(new Color(0, 123, 255));\n        nextButton.setForeground(Color.WHITE);\n\n        buttonPanel.add(cancelButton);\n        buttonPanel.add(nextButton);\n        //Đăng ký sự kiện\n        cancelButton.addActionListener(this);\n        nextButton.addActionListener(this);\n\n        JPanel fullSummary = new JPanel(new BorderLayout());\n        fullSummary.setBackground(Color.white);\n        fullSummary.setBorder(new EmptyBorder(5, 10, 5, 10));\n\n        JPanel summaryPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT, 15, 0));\n        summaryPanel.setOpaque(false);\n        summaryPanel.add(new JLabel(\"Đã chọn: X/Y\"));\n\n        lblTotalPrice = new JLabel(\"Tổng tiền vé: 0 VNĐ\");\n        lblTotalPrice.setFont(lblTotalPrice.getFont().deriveFont(Font.BOLD, 14f));\n        lblTotalPrice.setForeground(new Color(255, 165, 0));\n        summaryPanel.add(lblTotalPrice);\n\n        fullSummary.add(summaryPanel, BorderLayout.EAST);\n        datCanhKhuVuc(fullSummary);\n\n        JPanel footerPanel = new JPanel();\n        footerPanel.setLayout(new BoxLayout(footerPanel, BoxLayout.Y_AXIS));\n        footerPanel.setOpaque(false);\n\n        footerPanel.add(fullSummary);\n        footerPanel.add(buttonPanel);\n\n        panel.add(footerPanel, BorderLayout.SOUTH);\n\n        return panel;\n    }\n\n    private JPanel createKhachPanel(ChiTietKhach khach) { // SỬA: Nhận ChiTietKhach\n        JPanel panel = new JPanel();\n        panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));\n        panel.setOpaque(false);\n        // Vẫn giữ border mờ để phân tách các form khách hàng\n        panel.setBorder(BorderFactory.createMatteBorder(0, 0, 1, 0, Color.LIGHT_GRAY));\n        panel.setAlignmentX(Component.LEFT_ALIGNMENT);\n\n        String soCho = khach.choDat().getSoCho(); // SỬA: Truy cập qua accessor\n        String soThuTuToa = laySoThuTuToa(khach.choDat().getMaToa()); // SỬA: Truy cập qua accessor\n        String loaiKhachHienThi = getTenLoaiVeHienThi(khach.maLoaiVe()); // SỬA: Truy cập qua accessor\n\n        // --- Cố định kích thước cho các Field và ComboBox ---\n        final int FIELD_HEIGHT = 28;\n        final int W_TEXT = 120;\n        final int W_COMBO = 120;\n        final Dimension FIXED_FIELD_SIZE = new Dimension(W_TEXT, FIELD_HEIGHT);\n        final Dimension FIXED_COMBO_SIZE = new Dimension(W_COMBO, FIELD_HEIGHT);\n        final Dimension FIXED_TUOI_SIZE = new Dimension(50, FIELD_HEIGHT);\n\n        // --- 1. Header Row (Ghế, Loại khách, Giá) ---\n        JPanel headerRow = new JPanel(new BorderLayout());\n        headerRow.setOpaque(false);\n        headerRow.setBorder(new EmptyBorder(5, 0, 5, 0));\n        headerRow.setMaximumSize(new Dimension(Integer.MAX_VALUE, FIELD_HEIGHT + 10)); // Cố định chiều cao\n\n        JPanel leftHeader = new JPanel(new FlowLayout(FlowLayout.LEFT, 10, 0));\n        leftHeader.setOpaque(false);\n        JLabel maGheLabel = new JLabel(\"Ghế: \" + soCho + \" / Toa: \" + soThuTuToa);\n        maGheLabel.setFont(maGheLabel.getFont().deriveFont(Font.BOLD));\n        leftHeader.add(maGheLabel);\n\n        JComboBox<String> cbLoaiKhach = new JComboBox<>(getLoaiVeOptions());\n        cbLoaiKhach.setSelectedItem(loaiKhachHienThi);\n\n        // Cố định kích thước ComboBox\n        cbLoaiKhach.setPreferredSize(FIXED_COMBO_SIZE);\n        cbLoaiKhach.setMaximumSize(FIXED_COMBO_SIZE);\n\n        cbLoaiKhach.addActionListener(e -> {\n            String maMoi = getMaLoaiVeFromHienThi((String) cbLoaiKhach.getSelectedItem());\n\n            // SỬA: Tạo bản sao mới của Record với maLoaiVe được cập nhật và thay thế nó trong Map\n            ChiTietKhach updatedKhach = new ChiTietKhach(\n                    khach.choDat(), khach.maLoaiVe(), khach.hoTen(), khach.cccd(), khach.sdt(), khach.tuoi()\n            ).withMaLoaiVe(maMoi); // SỬ DỤNG PHƯƠNG THỨC WITH HỖ TRỢ BÊN DƯỚI\n\n            danhSachKhachHang.put(khach.choDat().getMaCho(), updatedKhach); // Cập nhật Map\n\n            // Recompute price for this seat and update UI\n            try {\n                long gia = computeTicketPrice(updatedKhach.choDat(), updatedKhach.maLoaiVe());\n                danhSachGiaVe.put(updatedKhach.choDat().getMaCho(), gia);\n            } catch (Exception ex) {\n                JOptionPane.showMessageDialog(this, \"Không thể tính lại giá: \" + ex.getMessage(), \"Lỗi tính giá\", JOptionPane.ERROR_MESSAGE);\n                danhSachGiaVe.remove(updatedKhach.choDat().getMaCho());\n            }\n            capNhatThongTinKhachUI();\n            capNhatTongTienUI();\n        });\n        leftHeader.add(cbLoaiKhach);\n        headerRow.add(leftHeader, BorderLayout.WEST);\n\n        JLabel giaLabel = new JLabel(\"Giá vé sẽ được tính\");\n        giaLabel.setForeground(Color.BLUE);\n        headerRow.add(giaLabel, BorderLayout.EAST);\n\n        headerRow.setAlignmentX(Component.LEFT_ALIGNMENT);\n        panel.add(headerRow);\n\n        // --- 2. Detail Grid (Họ tên, Tuổi, SDT, CCCD) ---\n        JPanel detailGrid = new JPanel(new GridLayout(2, 4, 10, 5));\n        detailGrid.setOpaque(false);\n        detailGrid.setBorder(new EmptyBorder(5, 0, 5, 0));\n        detailGrid.setAlignmentX(Component.LEFT_ALIGNMENT);\n\n        // Đặt chiều cao ưu tiên cho Grid\n        int gridHeight = 2 * FIELD_HEIGHT + 10;\n        detailGrid.setMaximumSize(new Dimension(Integer.MAX_VALUE, gridHeight));\n\n\n        detailGrid.add(new JLabel(\"Họ và tên*\"));\n        JTextField hoTenField = new JTextField(khach.hoTen(), 10); // SỬA: Truy cập qua accessor\n        detailGrid.add(hoTenField);\n        detailGrid.add(new JLabel(\"Tuổi\"));\n        JTextField tuoiField = new JTextField(String.valueOf(khach.tuoi() > 0 ? khach.tuoi() : \"\"), 3); // SỬA: Truy cập qua accessor\n        detailGrid.add(tuoiField);\n\n        detailGrid.add(new JLabel(\"Số điện thoại\"));\n        JTextField sdtField = new JTextField(khach.sdt(), 10); // SỬA: Truy cập qua accessor\n        detailGrid.add(sdtField);\n        detailGrid.add(new JLabel(\"CCCD*\"));\n        JTextField cccdField = new JTextField(khach.cccd(), 10); // SỬA: Truy cập qua accessor\n        detailGrid.add(cccdField);\n\n        panel.add(detailGrid);\n\n        // ... (Code cố định kích thước giữ nguyên)\n\n        // --- 4. Focus Listeners (Giữ nguyên - CẦN SỬA ĐỂ CẬP NHẬT RECORD) ---\n        hoTenField.addFocusListener(new java.awt.event.FocusAdapter() { public void focusLost(java.awt.event.FocusEvent evt) {\n            updateKhachRecord(khach.choDat().getMaCho(), hoTenField.getText(), \"hoTen\");\n        }});\n        cccdField.addFocusListener(new java.awt.event.FocusAdapter() { public void focusLost(java.awt.event.FocusEvent evt) {\n            updateKhachRecord(khach.choDat().getMaCho(), cccdField.getText(), \"cccd\");\n        }});\n        sdtField.addFocusListener(new java.awt.event.FocusAdapter() { public void focusLost(java.awt.event.FocusEvent evt) {\n            updateKhachRecord(khach.choDat().getMaCho(), sdtField.getText(), \"sdt\");\n        }});\n        tuoiField.addFocusListener(new java.awt.event.FocusAdapter() {\n            public void focusLost(java.awt.event.FocusEvent evt) {\n                try {\n                    int tuoiMoi = Integer.parseInt(tuoiField.getText().trim());\n                    updateKhachRecord(khach.choDat().getMaCho(), String.valueOf(tuoiMoi), \"tuoi\");\n                } catch (Exception e) {\n                    updateKhachRecord(khach.choDat().getMaCho(), \"0\", \"tuoi\");\n                }\n            }\n        });\n\n\n        // --- 5. Cập nhật label giá (Giữ nguyên) ---\n        Long giaTinh = danhSachGiaVe.get(khach.choDat().getMaCho()); // SỬA: Truy cập qua accessor\n        if (giaTinh != null) {\n            giaLabel.setText(formatVnd(giaTinh));\n        } else {\n            // thử tính giá nếu chưa có (ví dụ khi UI gọi)\n            try {\n                long gia = computeTicketPrice(khach.choDat(), khach.maLoaiVe()); // SỬA: Truy cập qua accessor\n                danhSachGiaVe.put(khach.choDat().getMaCho(), gia);\n                giaLabel.setText(formatVnd(gia));\n            } catch (Exception ex) {\n                giaLabel.setText(\"Chưa có giá\");\n            }\n        }\n\n        // --- 6. Cố định chiều cao tổng thể của panel khách hàng ---\n        int totalPanelHeight = FIELD_HEIGHT + 10 + gridHeight + 10;\n        panel.setPreferredSize(new Dimension(400, totalPanelHeight));\n        panel.setMaximumSize(new Dimension(Integer.MAX_VALUE, totalPanelHeight));\n\n        return panel;\n    }\n\n    // --- Helper: reset state/UI ---\n    private void resetAllData() {\n        danhSachGheDaChon.clear();\n        danhSachKhachHang.clear();\n        tatCaChoDatToaHienTai.clear();\n        seatButtonsMap.clear();\n        danhSachGiaVe.clear();\n\n        maChuyenTauHienTai = null;\n        maToaHienTai = null;\n        lastSelectedToaButton = null;\n\n        SwingUtilities.invokeLater(() -> {\n            capNhatDanhSachGheDaChonUI();\n\n            if (pnlToa != null) {\n                pnlToa.removeAll();\n                pnlToa.add(new JLabel(\"Chọn toa:\"));\n                pnlToa.revalidate();\n                pnlToa.repaint();\n            }\n\n            if (pnlSoDoGhe != null) {\n                pnlSoDoGhe.removeAll();\n                pnlSoDoGhe.add(new JLabel(\"Chưa có sơ đồ ghế.\"));\n                pnlSoDoGhe.revalidate();\n                pnlSoDoGhe.repaint();\n            }\n\n            capNhatThongTinKhachUI();\n            capNhatTongTienUI();\n        });\n    }\n\n\n    private void capNhatThongTinKhachUI() {\n        if (thongTinKhachScrollPane == null) {\n            System.out.println(\"Lỗi: thongTinKhachScrollPane chưa được khởi tạo.\");\n            return;\n        }\n        JPanel infoScrollPanel = (JPanel) thongTinKhachScrollPane.getViewport().getView();\n        infoScrollPanel.removeAll();\n\n        // SỬA: Lấy danh sách ChiTietKhach\n        List<ChiTietKhach> danhSachChiTiet = new ArrayList<>(danhSachKhachHang.values());\n\n        if (danhSachChiTiet.isEmpty()) {\n            infoScrollPanel.add(new JLabel(\"Chưa có ghế nào được chọn.\"));\n            infoScrollPanel.add(Box.createVerticalGlue());\n            infoScrollPanel.revalidate();\n            infoScrollPanel.repaint();\n            return;\n        }\n\n        // SỬA: Vòng lặp chỉ hiển thị các form ChiTietKhach\n        for (ChiTietKhach khach : danhSachChiTiet) {\n            JPanel khachPanel = createKhachPanel(khach);\n            infoScrollPanel.add(khachPanel);\n        }\n\n        infoScrollPanel.add(Box.createVerticalGlue());\n        infoScrollPanel.revalidate();\n        infoScrollPanel.repaint();\n    }\n\n    // --- Helper: switch main frame to another panel ---\n    private void switchToPanel(Component panel) {\n        Window w = SwingUtilities.getWindowAncestor(this);\n        if (w instanceof JFrame) {\n            JFrame frame = (JFrame) w;\n            frame.getContentPane().removeAll();\n            frame.getContentPane().add(panel, BorderLayout.CENTER);\n            frame.revalidate();\n            frame.repaint();\n        } else {\n            JOptionPane.showMessageDialog(this,\n                    \"Không thể chuyển màn hình: top-level window không phải JFrame.\",\n                    \"Lỗi\", JOptionPane.ERROR_MESSAGE);\n        }\n    }\n\n\n\n    // --- Small helper to show instantiation error ---\n    private void showInstantiationError(String className, Exception ex) {\n        JOptionPane.showMessageDialog(this,\n                \"Không thể mở \" + className + \": \" + ex.getMessage(),\n                \"Lỗi\", JOptionPane.ERROR_MESSAGE);\n    }\n\n    // ====================\n    // MODULE: UI Helper Methods (style / small components)\n    // ====================\n    private void datCanhKhuVuc(JPanel panel) {\n        panel.setAlignmentX(Component.LEFT_ALIGNMENT);\n        panel.setMaximumSize(new Dimension(Integer.MAX_VALUE, panel.getPreferredSize().height));\n    }\n\n    private void styleNutChinh(JButton btn) {\n        btn.setBackground(new Color(0, 123, 255));\n        btn.setForeground(Color.WHITE);\n        btn.setPreferredSize(new Dimension(100, 25));\n    }\n\n    private JButton taoNutToa(String text, Color bgColor, Color fgColor) {\n        JButton btn = new JButton(String.format(\"<html><center>%s</center></html>\", text.replace(\"\\n\", \"<br>\")));\n        btn.setPreferredSize(new Dimension(110, 60));\n        btn.setFont(btn.getFont().deriveFont(Font.BOLD, 12f));\n        btn.setBackground(bgColor != null ? bgColor : Color.LIGHT_GRAY);\n        btn.setForeground(fgColor != null ? fgColor : Color.BLACK);\n        btn.setFocusPainted(false);\n        return btn;\n    }\n\n    private JPanel taoMucChuGiai(Color color, String text) {\n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.LEFT, 5, 0));\n        panel.setOpaque(false);\n        JLabel square = new JLabel();\n        square.setPreferredSize(new Dimension(15, 15));\n        square.setOpaque(true);\n        square.setBackground(color);\n        square.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n        panel.add(square);\n        panel.add(new JLabel(text));\n        return panel;\n    }\n\n\n\n\n\n    private String[] getLoaiVeOptions() {\n        return new String[] {\n                getTenLoaiVeHienThi(MA_VE_NL),\n                getTenLoaiVeHienThi(MA_VE_TE),\n                getTenLoaiVeHienThi(MA_VE_NCT),\n                getTenLoaiVeHienThi(MA_VE_SV)\n        };\n    }\n\n    private String getTenLoaiVeHienThi(String maLoaiVe) {\n        return switch (maLoaiVe) {\n            case \"VT01\" -> \"Người lớn (VT01)\";\n            case \"VT02\" -> \"Trẻ em (VT02)\";\n            case \"VT03\" -> \"Người cao tuổi (VT03)\";\n            case \"VT04\" -> \"Sinh viên (VT04)\";\n            default -> \"Người lớn (VT01)\";\n        };\n    }\n\n    private String getMaLoaiVeFromHienThi(String tenHienThi) {\n        if (tenHienThi.contains(\"(VT01)\")) return \"VT01\";\n        if (tenHienThi.contains(\"(VT02)\")) return \"VT02\";\n        if (tenHienThi.contains(\"(VT03)\")) return \"VT03\";\n        if (tenHienThi.contains(\"(VT04)\")) return \"VT04\";\n        return \"VT01\";\n    }\n\n    private Vector<String> taoDanhSachLoaiVeUuTien() {\n        Vector<String> dsMaVe = new Vector<>();\n        themLoaiVeVaoDanhSach(dsMaVe, MA_VE_NCT, soLuongYeuCau.getOrDefault(\"NguoiCaoTuoi\", 0));\n        themLoaiVeVaoDanhSach(dsMaVe, MA_VE_TE, soLuongYeuCau.getOrDefault(\"TreCon\", 0));\n        themLoaiVeVaoDanhSach(dsMaVe, MA_VE_SV, soLuongYeuCau.getOrDefault(\"SinhVien\", 0));\n        themLoaiVeVaoDanhSach(dsMaVe, MA_VE_NL, soLuongYeuCau.getOrDefault(\"NguoiLon\", 0));\n        return dsMaVe;\n    }\n\n    private void themLoaiVeVaoDanhSach(Vector<String> ds, String maVe, int soLuong) {\n        for (int i = 0; i < soLuong; i++) ds.add(maVe);\n    }\n\n    // ====================\n    // MODULE: Data / Actions (tìm chuyến, nạp dữ liệu)\n    // ====================\n    private void timKiemChuyenTau() {\n        Ga gaDiSelected = (Ga) cbGaDi.getSelectedItem();\n        Ga gaDenSelected = (Ga) cbGaDen.getSelectedItem();\n\n        if (gaDiSelected == null || gaDenSelected == null) {\n            JOptionPane.showMessageDialog(null, \"Vui lòng chọn ga đi và ga đến.\", \"Lỗi nhập liệu\", JOptionPane.ERROR_MESSAGE);\n            return;\n        }\n        if (gaDiSelected.getMaGa().equals(gaDenSelected.getMaGa())) {\n            JOptionPane.showMessageDialog(null, \"Ga đi và Ga đến không được trùng nhau.\", \"Lỗi nhập liệu\", JOptionPane.ERROR_MESSAGE);\n            return;\n        }\n\n        String maGaDi = gaDiSelected.getMaGa();\n        String maGaDen = gaDenSelected.getMaGa();\n        String ngayDiString = dateField.getText();\n        String ngayDiSQL;\n        try {\n            date = INPUT_DATE_FORMAT.parse(ngayDiString);\n            ngayDiSQL = SQL_DATE_FORMAT.format(date);\n        } catch (ParseException e) {\n            JOptionPane.showMessageDialog(null, \"Ngày đi không hợp lệ. Vui lòng nhập theo định dạng dd/MM/yyyy.\", \"Lỗi nhập liệu\", JOptionPane.ERROR_MESSAGE);\n            return;\n        }\n\n        ChuyenTauDao dao = new ChuyenTauDao();\n        ketQua = dao.timChuyenTau(maGaDi, maGaDen, ngayDiSQL);\n\n        if (ketQua == null || ketQua.isEmpty()) {\n            JOptionPane.showMessageDialog(null, \"Không tìm thấy chuyến tàu nào phù hợp.\", \"Thông báo\", JOptionPane.INFORMATION_MESSAGE);\n        }\n\n        napDuLieuLenBang(ketQua);\n    }\n\n    private void napDuLieuLenBang(List<ChuyenTau> danhSach) {\n        DefaultTableModel model = (DefaultTableModel) tableChuyenTau.getModel();\n        model.setRowCount(0);\n        if (danhSach == null) return;\n        for (ChuyenTau ct : danhSach) {\n            Object[] rowData = {ct.getMaChuyenTau(), ct.getNgayKhoiHanh(), ct.getGioKhoiHanh()};\n            model.addRow(rowData);\n        }\n    }\n\n    private void hienThiDanhSachToaTau(String maTau) {\n        List<Toa> danhSachToa = new ArrayList<>();\n        try {\n            ToaDAO toaTauDAO = new ToaDAO();\n            danhSachToa = toaTauDAO.layToaTheoMaTau(maTau);\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(this, \"Lỗi khi lấy danh sách toa tàu: \" + e.getMessage(), \"Lỗi\", JOptionPane.ERROR_MESSAGE);\n            e.printStackTrace();\n        }\n        napNutToa(danhSachToa);\n    }\n\n    public void napNutToa(List<Toa> danhSachToa) {\n        pnlToa.removeAll();\n        pnlToa.add(new JLabel(\"Chọn toa:\"));\n\n        for (Toa toa : danhSachToa) {\n            String soThuTuToa = laySoThuTuToa(toa.getMaToa());\n            String text = \"Toa \" + soThuTuToa + \"\\n\" + toa.getLoaiToa();\n            JButton btnToa = taoNutToa(text, null, null);\n            btnToa.addActionListener(e -> xuLyChonToa(btnToa, toa.getMaToa()));\n            pnlToa.add(btnToa);\n        }\n        pnlToa.revalidate();\n        pnlToa.repaint();\n    }\n\n    // ====================\n    // MODULE: XỬ LÝ CHỌN TOA / VẼ SƠ ĐỒ GHẾ\n    // ====================\n    private void xuLyChonToa(JButton currentButton, String maToa) {\n        maToaHienTai = maToa;\n\n        // Đổi màu nút\n        if (lastSelectedToaButton != null) {\n            lastSelectedToaButton.setBackground(Color.LIGHT_GRAY);\n            lastSelectedToaButton.setForeground(Color.BLACK);\n        }\n        currentButton.setBackground(new Color(0, 123, 255));\n        currentButton.setForeground(Color.WHITE);\n        lastSelectedToaButton = currentButton;\n\n        if (this.maChuyenTauHienTai == null || this.maChuyenTauHienTai.isEmpty()) {\n            JOptionPane.showMessageDialog(null, \"Vui lòng chọn chuyến tàu trước.\", \"Lỗi dữ liệu\", JOptionPane.WARNING_MESSAGE);\n            pnlSoDoGhe.removeAll();\n            pnlSoDoGhe.add(new JLabel(\"Chưa chọn chuyến tàu.\"));\n            pnlSoDoGhe.revalidate();\n            pnlSoDoGhe.repaint();\n            return;\n        }\n\n        System.out.println(\"Đã chọn Toa: \" + maToa + \". Tiến hành tải sơ đồ ghế.\" );\n\n        List<ChoDat> danhSachChoDat = choDatDao.getDanhSachChoDatByMaToaVaTrangThai(\n                maToa,\n                maChuyenTauHienTai\n        );\n\n        if (danhSachChoDat.isEmpty()) {\n            pnlSoDoGhe.removeAll();\n            pnlSoDoGhe.add(new JLabel(\"Toa này chưa có dữ liệu chỗ đặt.\"));\n            pnlSoDoGhe.revalidate();\n            pnlSoDoGhe.repaint();\n        } else {\n            veSoDoGhe(danhSachChoDat);\n        }\n    }\n\n    private String laySoThuTuToa(String maToa) {\n        if (maToa != null && maToa.contains(\"-\")) {\n            return maToa.substring(maToa.lastIndexOf('-') + 1);\n        }\n        return maToa;\n    }\n\n    private static final Dimension SQUARE_SEAT_SIZE = new Dimension(60, 30);\n\n    private void veSoDoGhe(List<ChoDat> danhSachChoDat) {\n        pnlSoDoGhe.removeAll();\n        seatButtonsMap.clear();\n        tatCaChoDatToaHienTai.clear();\n\n        pnlSoDoGhe.setLayout(new FlowLayout(FlowLayout.LEFT, 0, 0));\n        pnlSoDoGhe.setOpaque(true);\n        pnlSoDoGhe.setBackground(Color.WHITE);\n        pnlSoDoGhe.setBorder(new EmptyBorder(10, 10, 10, 10));\n\n        int rows = 4;\n        int columns = (int) Math.ceil((double) danhSachChoDat.size() / rows);\n        JPanel gridContainer = new JPanel(new GridLayout(rows, columns, 5, 5));\n        gridContainer.setOpaque(false);\n\n        for (ChoDat cho : danhSachChoDat) {\n            JButton btnCho = new JButton(cho.getSoCho());\n            btnCho.setPreferredSize(SQUARE_SEAT_SIZE);\n            btnCho.setMinimumSize(SQUARE_SEAT_SIZE);\n            btnCho.setMaximumSize(SQUARE_SEAT_SIZE);\n            btnCho.setFont(btnCho.getFont().deriveFont(Font.BOLD, 12f));\n\n            boolean isSelected = danhSachGheDaChon.containsKey(cho.getMaCho());\n            boolean isBooked = cho.isDaDat();\n            tatCaChoDatToaHienTai.put(cho.getMaCho(), cho);\n\n            if (isSelected) {\n                btnCho.setBackground(new Color(0, 123, 255));\n                btnCho.setForeground(Color.WHITE);\n                btnCho.setEnabled(true);\n                btnCho.setToolTipText(\"Ghế đang được chọn\");\n            } else if (isBooked) {\n                btnCho.setBackground(Color.BLACK);\n                btnCho.setForeground(Color.WHITE);\n                btnCho.setEnabled(false);\n                btnCho.setToolTipText(\"Ghế đã được bán\");\n            } else {\n                btnCho.setBackground(Color.LIGHT_GRAY);\n                btnCho.setForeground(Color.BLACK);\n                btnCho.setEnabled(true);\n            }\n\n            if (btnCho.isEnabled()) {\n                btnCho.addActionListener(e -> xuLyChonGhe(btnCho, cho));\n            }\n\n            seatButtonsMap.put(cho.getMaCho(), btnCho);\n            gridContainer.add(btnCho);\n        }\n\n        pnlSoDoGhe.add(gridContainer);\n        pnlSoDoGhe.revalidate();\n        pnlSoDoGhe.repaint();\n    }\n\n    // ====================\n    // MODULE: Chọn/Hủy ghế, cập nhật UI danh sách & form khách\n    // ====================\n    // ====================\n// MODULE: Chọn/Hủy ghế, cập nhật UI danh sách & form khách\n// ====================\n    private void xuLyChonGhe(JButton btnCho, ChoDat cho) {\n        String maCho = cho.getMaCho();\n\n        int tongSoKhachYeuCau = parseTextFieldToInt(txtTongSoKhach);\n\n        if (danhSachGheDaChon.containsKey(maCho)) {\n            // --- Logic Hủy chọn ghế ---\n            danhSachGheDaChon.remove(maCho);\n            danhSachGiaVe.remove(maCho);\n            danhSachKhachHang.remove(maCho); // Xóa Record ChiTietKhach\n            btnCho.setBackground(Color.LIGHT_GRAY);\n            btnCho.setForeground(Color.BLACK);\n        } else {\n            // --- Logic Chọn ghế ---\n            if (danhSachGheDaChon.size() >= tongSoKhachYeuCau) {\n                JOptionPane.showMessageDialog(this,\n                        \"Đã chọn đủ \" + tongSoKhachYeuCau + \" ghế. Vui lòng thay đổi số lượng khách hoặc hủy chọn ghế cũ trước.\",\n                        \"Giới hạn chọn\", JOptionPane.WARNING_MESSAGE);\n                return;\n            }\n\n            // SỬA: Tạo đối tượng ChiTietKhach (Record) mới\n            ChiTietKhach chiTietKhach = new ChiTietKhach(\n                    cho,            // choDat\n                    MA_VE_NL,       // maLoaiVe mặc định\n                    \"\",             // hoTen mặc định\n                    \"\",             // cccd mặc định\n                    \"\",             // sdt mặc định\n                    0               // tuoi mặc định\n            );\n\n            // Tính giá cho ghế ngay khi chọn\n            try {\n                // SỬA: Truyền maLoaiVe từ Record mới\n                long gia = computeTicketPrice(cho, chiTietKhach.maLoaiVe());\n                danhSachGiaVe.put(maCho, gia);\n            } catch (Exception ex) {\n                JOptionPane.showMessageDialog(this,\n                        \"Không thể tính giá cho ghế \" + cho.getSoCho() + \": \" + ex.getMessage(),\n                        \"Lỗi tính giá\", JOptionPane.ERROR_MESSAGE);\n                return;\n            }\n\n            danhSachGheDaChon.put(maCho, cho);\n            btnCho.setBackground(new Color(0, 123, 255));\n            btnCho.setForeground(Color.WHITE);\n\n            // SỬA: Thêm Record ChiTietKhach vào Map\n            danhSachKhachHang.put(maCho, chiTietKhach);\n        }\n\n        capNhatDanhSachGheDaChonUI();\n        capNhatThongTinKhachUI();\n        capNhatTongTienUI();\n    }\n\n    private void xuLyHuyChonGhe(String maCho) {\n        danhSachGheDaChon.remove(maCho);\n        danhSachGiaVe.remove(maCho);\n        JButton btnCho = seatButtonsMap.get(maCho);\n        if (btnCho != null) {\n            btnCho.setBackground(Color.LIGHT_GRAY);\n            btnCho.setForeground(Color.BLACK);\n        }\n        capNhatDanhSachGheDaChonUI();\n        capNhatThongTinKhachUI();\n        capNhatTongTienUI();\n    }\n\n    private void capNhatDanhSachGheDaChonUI() {\n        pnlDanhSachGheDaCho.removeAll();\n        pnlDanhSachGheDaCho.add(new JLabel(\"Ghế đã chọn (\" + danhSachGheDaChon.size() + \"):\"));\n        for (ChoDat cho : danhSachGheDaChon.values()) {\n            String soThuTuToa = laySoThuTuToa(cho.getMaToa());\n            String soCho = cho.getSoCho();\n            JButton btnGhe = taoNutGheDaChon(cho.getMaCho(), soThuTuToa, soCho);\n            pnlDanhSachGheDaCho.add(btnGhe);\n        }\n        pnlDanhSachGheDaCho.revalidate();\n        pnlDanhSachGheDaCho.repaint();\n    }\n\n    private JButton taoNutGheDaChon(String maGhe, String soThuTuToa, String soCho) {\n        String text = \"Chỗ \" + soCho + \", Toa \" + soThuTuToa;\n        JButton btn = new JButton(text);\n        btn.setBackground(new Color(0, 123, 255));\n        btn.setForeground(Color.WHITE);\n        btn.setFont(btn.getFont().deriveFont(Font.BOLD, 12f));\n        btn.setFocusPainted(false);\n        btn.setPreferredSize(new Dimension(120, 25));\n        btn.addActionListener(e -> xuLyHuyChonGhe(maGhe));\n        return btn;\n    }\n\n\n\n    // ====================\n    // MODULE: Event handlers (Mouse)\n    // ====================\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        int selectedRow = tableChuyenTau.getSelectedRow();\n        if (selectedRow != -1 && ketQua != null && selectedRow < ketQua.size()) {\n            String maTau = ketQua.get(selectedRow).getMaTau();\n            String maChuyenTauMoi = ketQua.get(selectedRow).getMaChuyenTau();\n\n            // Nếu chuyển sang chuyến tàu khác -> reset toàn bộ trạng thái liên quan\n            if (!maChuyenTauMoi.equals(maChuyenTauHienTai)) {\n                danhSachGheDaChon.clear();\n                danhSachKhachHang.clear();\n                danhSachGiaVe.clear();\n\n                lastSelectedToaButton = null;\n                maToaHienTai = null;\n                seatButtonsMap.clear();\n                tatCaChoDatToaHienTai.clear();\n\n                capNhatDanhSachGheDaChonUI();\n                pnlToa.removeAll();\n                pnlToa.add(new JLabel(\"Chọn toa: (Đang tải...)\"));\n                pnlToa.revalidate();\n                pnlToa.repaint();\n\n                pnlSoDoGhe.removeAll();\n                pnlSoDoGhe.add(new JLabel(\"Vui lòng chọn Toa.\"));\n                pnlSoDoGhe.revalidate();\n                pnlSoDoGhe.repaint();\n            }\n\n            maChuyenTauHienTai = maChuyenTauMoi;\n            hienThiDanhSachToaTau(maTau);\n        }\n    }\n\n    @Override public void mousePressed(MouseEvent e) { }\n    @Override public void mouseReleased(MouseEvent e) { }\n    @Override public void mouseEntered(MouseEvent e) { }\n    @Override public void mouseExited(MouseEvent e) { }\n\n\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        Object src = e.getSource();\n        if(src == btnTimChuyen){\n            timKiemChuyenTau();\n        }\n\n        else if (src == cancelButton) {\n            int confirm = JOptionPane.showConfirmDialog(this,\n                    \"Bạn có muốn hủy toàn bộ dữ liệu và quay về Trang chủ?\",\n                    \"Xác nhận\", JOptionPane.YES_NO_OPTION, JOptionPane.WARNING_MESSAGE);\n            if (confirm != JOptionPane.YES_OPTION) return;\n\n            resetAllData();\n\n            Window w = SwingUtilities.getWindowAncestor(this);\n\n            if (w instanceof BanVeDashboard) {\n                BanVeDashboard dashboard = (BanVeDashboard) w;\n\n                ManHinhTrangChuNVBanVe confirmPanel = new ManHinhTrangChuNVBanVe();\n\n                dashboard.addOrUpdateCard(confirmPanel, \"trangChu\");\n                dashboard.switchToCard(\"trangChu\");\n\n            } else {\n                JOptionPane.showMessageDialog(this,\n                        \"Không thể tìm thấy cửa sổ Dashboard. Vui lòng chạy ứng dụng từ BanVeDashboard.\",\n                        \"Lỗi Hệ thống\", JOptionPane.ERROR_MESSAGE);\n            }\n\n        } else if (src == nextButton) {\n            xuLyNutTiepTheo();\n        }\n    }\n\n    // Sửa đổi phương thức xuLyNutTiepTheo\n    private void xuLyNutTiepTheo() {\n        // SỬA: Lấy tổng số khách yêu cầu từ trường nhập tổng duy nhất\n        int required = parseTextFieldToInt(txtTongSoKhach);\n\n        if (required <= 0) {\n            JOptionPane.showMessageDialog(this,\n                    \"Vui lòng chọn số lượng khách hợp lệ.\",\n                    \"Lỗi\", JOptionPane.WARNING_MESSAGE);\n            return;\n        }\n\n        // Kiểm tra số ghế đã chọn có khớp với yêu cầu không\n        if (danhSachGheDaChon.size() != required) {\n            JOptionPane.showMessageDialog(this,\n                    \"Số ghế đã chọn (\" + danhSachGheDaChon.size() + \") không khớp với Tổng số khách (\" + required + \").\",\n                    \"Lỗi\", JOptionPane.WARNING_MESSAGE);\n            return;\n        }\n\n        // Bổ sung: Kiểm tra thông tin khách hàng bắt buộc (Họ tên, CCCD)\n        for (ChiTietKhach khach : danhSachKhachHang.values()) {\n            // CẬP NHẬT: Sử dụng accessor methods (hoTen(), cccd()) của Record\n            if (khach.hoTen() == null || khach.hoTen().trim().isEmpty() ||\n                    khach.cccd() == null || khach.cccd().trim().isEmpty()) {\n\n                JOptionPane.showMessageDialog(this,\n                        \"Vui lòng nhập đầy đủ Họ tên và CCCD cho tất cả \" + required + \" khách hàng.\",\n                        \"Lỗi\", JOptionPane.WARNING_MESSAGE);\n                return;\n            }\n        }\n\n\n        // --- Logic chuyển màn hình (Giữ nguyên) ---\n        Window w = SwingUtilities.getWindowAncestor(this);\n\n        if (w instanceof BanVeDashboard) {\n            BanVeDashboard dashboard = (BanVeDashboard) w;\n\n            ManHinhXacNhanBanVe confirmPanel = new ManHinhXacNhanBanVe(\n                    danhSachGheDaChon,\n                    danhSachKhachHang,\n                    maChuyenTauHienTai,\n                    date,\n                    new HashMap<>(danhSachGiaVe) // pass a defensive copy of prices\n            );\n\n            dashboard.addOrUpdateCard(confirmPanel, \"xacNhanBanVe\");\n            dashboard.switchToCard(\"xacNhanBanVe\");\n\n        } else {\n            JOptionPane.showMessageDialog(this,\n                    \"Không thể tìm thấy cửa sổ Dashboard. Vui lòng chạy ứng dụng từ BanVeDashboard.\",\n                    \"Lỗi Hệ thống\", JOptionPane.ERROR_MESSAGE);\n        }\n    }\n\n    // ====================\n    // MODULE: Main (để chạy độc lập)\n    // ====================\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -> {\n            JFrame frame = new JFrame(\"Panel Bán vé (Kiểm tra)\");\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setLayout(new BorderLayout());\n            frame.add(new ManHinhBanVe(), BorderLayout.CENTER);\n            frame.pack();\n            frame.setSize(1200, 850);\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n\n    // ====================\n    // MODULE: Giá vé helpers\n    // ====================\n    private long roundUpToNextTen(long value) {\n        return ((value + 9) / 10) * 10;\n    }\n\n    private long computeTicketPrice(ChoDat cho, String maLoaiVe) throws Exception {\n        Ga gaDi = (Ga) cbGaDi.getSelectedItem();\n        Ga gaDen = (Ga) cbGaDen.getSelectedItem();\n        if (gaDi == null || gaDen == null) throw new Exception(\"Ga đi hoặc ga đến chưa được chọn.\");\n\n        long base = giaVeCoBanDAO.getGiaCoBan(gaDi.getMaGa(), gaDen.getMaGa());\n        if (base <= 0) throw new Exception(\"Không tìm thấy giá cơ bản cho cặp ga.\");\n\n        // Lấy loại toa từ ToaDAO bằng cách lấy danh sách toa của tàu hiện tại rồi tìm maToa\n        ToaDAO tdao = new ToaDAO();\n        String maTau = null;\n        if (maChuyenTauHienTai != null) {\n            for (ChuyenTau ct : ketQua) {\n                if (maChuyenTauHienTai.equals(ct.getMaChuyenTau())) {\n                    maTau = ct.getMaTau();\n                    break;\n                }\n            }\n        }\n        if (maTau == null) throw new Exception(\"Không xác định được mã tàu để tra loại toa.\");\n\n        List<Toa> toas = tdao.layToaTheoMaTau(maTau);\n        String loaiToa = null;\n        if (toas != null) {\n            for (Toa t : toas) {\n                if (t.getMaToa().equals(cho.getMaToa())) {\n                    loaiToa = t.getLoaiToa();\n                    break;\n                }\n            }\n        }\n        if (loaiToa == null) throw new Exception(\"Không tìm thấy thông tin loại toa cho ghế.\");\n\n        double heSoToa = loaiChoDatDAO.getHeSoByLoaiToa(loaiToa);\n        double heSoLoaiVe = loaiVeDAO.getHeSoByMaLoaiVe(maLoaiVe);\n\n        double price = base * heSoToa * heSoLoaiVe;\n        long rounded = roundUpToNextTen(Math.round(price));\n        return rounded;\n    }\n\n    private void capNhatTongTienUI() {\n        long total = 0L;\n        for (Long v : danhSachGiaVe.values()) total += v == null ? 0L : v;\n        lblTotalPrice.setText(\"Tổng tiền vé: \" + formatVnd(total));\n    }\n\n    private String formatVnd(long amount) {\n        try {\n            java.text.NumberFormat nf = java.text.NumberFormat.getInstance(new Locale(\"vi\", \"VN\"));\n            return nf.format(amount) + \" VNĐ\";\n        } catch (Exception e) {\n            return amount + \" VNĐ\";\n        }\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/gui/Panel/ManHinhBanVe.java b/src/gui/Panel/ManHinhBanVe.java
--- a/src/gui/Panel/ManHinhBanVe.java	(revision 4be61b24890bfa626c5ac99b691918220a3a9022)
+++ b/src/gui/Panel/ManHinhBanVe.java	(date 1761500773074)
@@ -895,8 +895,8 @@
             return;
         }
 
-        String maGaDi = gaDiSelected.getMaGa();
-        String maGaDen = gaDenSelected.getMaGa();
+        String tenGaDi = gaDiSelected.getTenGa(); //Sửa tối 26/10
+        String tenGaDen = gaDenSelected.getTenGa();//Sửa tôí 26/10
         String ngayDiString = dateField.getText();
         String ngayDiSQL;
         try {
@@ -908,7 +908,7 @@
         }
 
         ChuyenTauDao dao = new ChuyenTauDao();
-        ketQua = dao.timChuyenTau(maGaDi, maGaDen, ngayDiSQL);
+        ketQua = dao.timChuyenTau(tenGaDi, tenGaDen, ngayDiSQL); //Sửa tối 26/10
 
         if (ketQua == null || ketQua.isEmpty()) {
             JOptionPane.showMessageDialog(null, "Không tìm thấy chuyến tàu nào phù hợp.", "Thông báo", JOptionPane.INFORMATION_MESSAGE);
Index: src/database/ConnectDB.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package database;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class ConnectDB {\n    public static Connection con = null;\n    private static ConnectDB instance = new ConnectDB();\n\n    public static ConnectDB getInstance() {\n        return instance;\n    }\n\n    public void connect() {\n        // CẦN SỬA ĐỔI: Kiểm tra xem có nên tạo lại kết nối hay không.\n        boolean isConnectionValid = false;\n        try {\n            if (con != null && !con.isClosed()) {\n                isConnectionValid = true;\n            }\n        } catch (SQLException e) {\n            // Nếu kiểm tra isClosed() ném lỗi, kết nối đã chết và cần tạo lại.\n            isConnectionValid = false;\n        }\n\n        if(!isConnectionValid) {\n            // Logic tạo kết nối chỉ chạy khi kết nối là NULL hoặc không hợp lệ/đã đóng\n            String url = \"jdbc:sqlserver://localhost:1433;databaseName=QuanLyVeTauTest;trustServerCertificate=true\";\n            String user = \"sa\";\n            String password = \"sapassword\";\n            try {\n                con = DriverManager.getConnection(url, user, password);\n            } catch (SQLException e) {\n                System.out.println(\"Kết nối chưa được thiết lập. Đang thực hiện kết nối...\");\n                e.printStackTrace();\n                con = null; // Đảm bảo con là null nếu thất bại\n            }\n        }\n    }\n\n    public static void disconnect() {\n        if(con != null)\n            try {\n                con.close();\n                con = null;\n                System.out.println(\"Đã ngắt kết nối!\");\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n    }\n\n    // Phương thức này đã đúng và gọi connect() khi cần thiết\n    public static Connection getConnection() throws SQLException {\n        if (con == null || con.isClosed()) { // Kiểm tra trạng thái hiện tại\n            getInstance().connect();\n            if (con == null){\n                throw new SQLException(\"Failed to establish a database connection.\");\n            }\n        }\n        return con;\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/database/ConnectDB.java b/src/database/ConnectDB.java
--- a/src/database/ConnectDB.java	(revision 4be61b24890bfa626c5ac99b691918220a3a9022)
+++ b/src/database/ConnectDB.java	(date 1761500773090)
@@ -26,9 +26,9 @@
 
         if(!isConnectionValid) {
             // Logic tạo kết nối chỉ chạy khi kết nối là NULL hoặc không hợp lệ/đã đóng
-            String url = "jdbc:sqlserver://localhost:1433;databaseName=QuanLyVeTauTest;trustServerCertificate=true";
+            String url = "jdbc:sqlserver://localhost:1433;databaseName=QuanLyVeTauTest2;trustServerCertificate=true";
             String user = "sa";
-            String password = "sapassword";
+            String password = "Sapassword123@";
             try {
                 con = DriverManager.getConnection(url, user, password);
             } catch (SQLException e) {
Index: src/dao/ChuyenTauDao.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\npackage dao;\n\nimport java.sql.*;\nimport java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport entity.ChuyenTau;\nimport entity.Ga;\nimport entity.NhanVien;\nimport entity.Tau;\nimport database.ConnectDB;\nimport entity.lopEnum.TrangThaiChuyenTau;\n\npublic class ChuyenTauDao {\n    private ArrayList<ChuyenTau> danhSachChuyenTau;\n\n    public ChuyenTauDao() {\n        danhSachChuyenTau = new ArrayList<ChuyenTau>();\n    }\n\n    public List<ChuyenTau> timChuyenTau(String gaXP, String gaKT, String ngayDi) {\n        List<ChuyenTau> danhSachChuyenTau = new ArrayList<>();\n        // Định dạng ngày: SQL Server thường dùng yyyy-MM-dd. Đổi \"30/09/2025\" thành \"2025-09-30\"\n\n        String sql = \"SELECT * FROM ChuyenTau WHERE MaGaKhoiHanh = ? AND MaGaDen = ? AND NgayKhoiHanh = ?\";\n\n        try {\n            Connection con = ConnectDB.getConnection();\n            try (PreparedStatement pstmt = con.prepareStatement(sql)) {\n                pstmt.setString(1, gaXP);\n                pstmt.setString(2, gaKT);\n                pstmt.setString(3, ngayDi); // Đã format lại\n                try (ResultSet rs = pstmt.executeQuery()) {\n                    while (rs.next()) {\n                        String maChuyenTau = rs.getString(\"MaChuyenTau\");\n                        String maTau = rs.getString(\"MaTau\");\n                        String maNV = rs.getString(\"MaNV\");\n                        String maGaDiDb = rs.getString(\"MaGaKhoiHanh\");\n                        String maGaDenDb = rs.getString(\"MaGaDen\");\n                        LocalDate ngayKH = rs.getDate(\"NgayKhoiHanh\").toLocalDate();\n                        LocalTime gioKH = rs.getTime(\"GioKhoiHanh\").toLocalTime();\n                        LocalDate ngayDen = rs.getDate(\"NgayDenDuKien\").toLocalDate();\n                        LocalTime gioDen = rs.getTime(\"GioDenDuKien\").toLocalTime();\n                        String trangThai = rs.getString(\"TrangThai\");\n\n                        TrangThaiChuyenTau tt = TrangThaiChuyenTau.fromString(trangThai);\n\n                        Ga gaDi = GaDao.getGaById(maGaDiDb);\n                        Ga gaDen = GaDao.getGaById(maGaDenDb);\n                        Tau tau = TauDAO.getTauById(maTau);\n                        NhanVien nv = NhanVienDao.getNhanVienById(maNV);\n\n                        ChuyenTau ct = new ChuyenTau(maChuyenTau, maTau, ngayKH, gioKH, gaDi, gaDen, tau, ngayDen, gioDen, nv, tt);\n                        danhSachChuyenTau.add(ct);\n                    }\n                }\n            }// PreparedStatement is closed here\n        } catch (SQLException e) {\n            System.err.println(\"Lỗi khi tìm chuyến tàu: \");\n            e.printStackTrace();\n        }\n        return danhSachChuyenTau;\n    }\n\n    public boolean chuyenTrangThaiChuyenTau(String maChuyenTau, String trangThai) {\n        String sql = \"UPDATE ChuyenTau SET TrangThai = ? WHERE MaChuyenTau = ?\";\n        try (Connection con = ConnectDB.getInstance().getConnection();\n             PreparedStatement stmt = con.prepareStatement(sql)) {\n\n            stmt.setString(1, trangThai);\n            stmt.setString(2, maChuyenTau);\n\n            int rows = stmt.executeUpdate();\n            if (rows > 0) {\n                if (this.danhSachChuyenTau != null) {\n                    for (ChuyenTau ct : this.danhSachChuyenTau) {\n                        if (ct.getMaChuyenTau().equals(maChuyenTau)) {\n                            // assuming setter exists\n                            ct.setThct(TrangThaiChuyenTau.valueOf(trangThai));\n                            break;\n                        }\n                    }\n                }\n                return true;\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return false;\n    }\n\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/dao/ChuyenTauDao.java b/src/dao/ChuyenTauDao.java
--- a/src/dao/ChuyenTauDao.java	(revision 4be61b24890bfa626c5ac99b691918220a3a9022)
+++ b/src/dao/ChuyenTauDao.java	(date 1761500773110)
@@ -25,7 +25,7 @@
         List<ChuyenTau> danhSachChuyenTau = new ArrayList<>();
         // Định dạng ngày: SQL Server thường dùng yyyy-MM-dd. Đổi "30/09/2025" thành "2025-09-30"
 
-        String sql = "SELECT * FROM ChuyenTau WHERE MaGaKhoiHanh = ? AND MaGaDen = ? AND NgayKhoiHanh = ?";
+        String sql = "SELECT * FROM ChuyenTau WHERE GaDi = ? AND GaDen = ? AND NgayKhoiHanh = ?";
 
         try {
             Connection con = ConnectDB.getConnection();
@@ -38,8 +38,8 @@
                         String maChuyenTau = rs.getString("MaChuyenTau");
                         String maTau = rs.getString("MaTau");
                         String maNV = rs.getString("MaNV");
-                        String maGaDiDb = rs.getString("MaGaKhoiHanh");
-                        String maGaDenDb = rs.getString("MaGaDen");
+                        String maGaDiDb = rs.getString("GaDi");
+                        String maGaDenDb = rs.getString("GaDen");
                         LocalDate ngayKH = rs.getDate("NgayKhoiHanh").toLocalDate();
                         LocalTime gioKH = rs.getTime("GioKhoiHanh").toLocalTime();
                         LocalDate ngayDen = rs.getDate("NgayDenDuKien").toLocalDate();
@@ -50,10 +50,10 @@
 
                         Ga gaDi = GaDao.getGaById(maGaDiDb);
                         Ga gaDen = GaDao.getGaById(maGaDenDb);
-                        Tau tau = TauDAO.getTauById(maTau);
+                        Tau tau = TauDAO.getTauById(maTau); //Sửa ở đây
                         NhanVien nv = NhanVienDao.getNhanVienById(maNV);
 
-                        ChuyenTau ct = new ChuyenTau(maChuyenTau, maTau, ngayKH, gioKH, gaDi, gaDen, tau, ngayDen, gioDen, nv, tt);
+                        ChuyenTau ct = new ChuyenTau(maChuyenTau, maTau, ngayKH, gioKH, gaDi, gaDen, tau, ngayDen, gioDen, nv, tt); //Sửa ở đây
                         danhSachChuyenTau.add(ct);
                     }
                 }
@@ -62,6 +62,7 @@
             System.err.println("Lỗi khi tìm chuyến tàu: ");
             e.printStackTrace();
         }
+
         return danhSachChuyenTau;
     }
 
Index: src/gui/Panel/PopUpChiTietHoaDon.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package gui.Panel;\n\nimport java.awt.*;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.SwingConstants;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.JTableHeader;\nimport javax.swing.table.TableColumnModel;\nimport javax.swing.*;\n\n/**\n *\n * @author laptoptt\n */\npublic class PopUpChiTietHoaDon extends JPanel {\n\n    /**\n     * Creates new form PopUpChiTietHoaDon\n     */\n\n    // Variables declaration - do not modify\n    private JTable BangChiTietHanhKhach;\n    private JButton btnDongChiTietHoaDon, btnInHoaDon, btnSoLuongVe;\n    private JLabel jLabel10, jLabel12, jLabel15, jLabel18, jLabel19, jLabel20, jLabel21, jLabel22, jLabel25, jLabel26, jLabel27, jLabel29, jLabel3, jLabel30, jLabel31, jLabel32, jLabel33, jLabel34, jLabel35, jLabel4, jLabel5;\n    private JLabel lblEmail, lblGaDen, lblGaDi, lblGioDuKien, lblGioKhoiHanh, lblKMchoHoaDon, lblMaChuyen, lblNgayDuKien, lblNgayKhoiHanh, lblNgayLapHD, lblNguoiThanhToan, lblNoiDungKhuyenMai, lblPhuongThucThanhToan, lblSoDienThoai, lblSoHieuTau, lblSoTienPhaiThanhToan, lblTenHanhKhach, lblTenNguoiLap, lblTieuDeHanhKhach, lblTieuDeMaHoaDon, lblTongTien;\n    private JPanel jPanel1, jPanel2, jPanel3, jPanel4;\n    private JScrollPane jScrollPane1;\n    // End of variables declaration\n\n    public PopUpChiTietHoaDon() {\n        initComponents();\n\n        // --- BẮT ĐẦU CODE CUSTOM CỦA BẠN ---\n\n        // 1. Đường dẫn đến ảnh của bạn\n        String imagePath_Train = \"/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/train.png\";\n        String imagePath_Passenger = \"/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/hanhkhach.png\";\n        String imagePath_Telephone = \"/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/telephone.png\";\n        String imagePath_Email = \"/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/email.png\";\n        String imagePath_Passengers = \"/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/nhieuhanhkhach.png\";\n        String imagePath_Transaction = \"/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/payment-success.png\";\n        String imagePath_PaymentMethod = \"/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/payment-method.png\";\n        String imagePath_Calendar = \"/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/schedule.png\";\n\n\n        // 2. Đặt kích thước mới bạn muốn (ví dụ: 24x24)\n        // 3. Gọi hàm resize\n        ImageIcon resizedTrainIcon = resizeIcon(imagePath_Train, 28, 28);\n        ImageIcon resizedPassengerIcon = resizeIcon(imagePath_Passenger,20, 20 );\n        ImageIcon resizedTelephoneIcon = resizeIcon(imagePath_Telephone,20, 20 );\n        ImageIcon resizedEmailIcon = resizeIcon(imagePath_Email,20, 20 );\n        ImageIcon resizedPassengersIcon = resizeIcon(imagePath_Passengers,25, 25 );\n        ImageIcon resizedTransactionIcon = resizeIcon(imagePath_Transaction,30, 30 );\n        ImageIcon resizedPaymentMethodIcon = resizeIcon(imagePath_PaymentMethod,20, 20 );\n        ImageIcon resizedCalendarIcon = resizeIcon(imagePath_Calendar, 20, 20);\n\n\n        // 4. Đặt lại icon cho jLabel1\n        // Dòng này sẽ GHI ĐÈ lên icon to mà NetBeans đã set\n        lblTieuDeMaHoaDon.setIcon(resizedTrainIcon);\n        jLabel25.setIcon(resizedPassengerIcon);\n        lblSoDienThoai.setIcon(resizedTelephoneIcon);\n        lblEmail.setIcon(resizedEmailIcon);\n        jLabel18.setIcon(resizedPassengersIcon);\n        lblSoTienPhaiThanhToan.setIcon(resizedTransactionIcon);\n        jLabel27.setIcon(resizedPaymentMethodIcon);\n        lblNgayLapHD.setIcon(resizedCalendarIcon);\n\n        // Giả sử nút của bạn tên là btnInHoaDon (thay tên cho đúng)\n        btnInHoaDon.setOpaque(true);\n        btnInHoaDon.setBorderPainted(false);\n\n        // Thay 'btnDong' bằng tên biến của nút \"Đóng\"\n        btnDongChiTietHoaDon.setOpaque(true);\n        btnDongChiTietHoaDon.setBorderPainted(false);\n\n        // --- BẮT ĐẦU CODE CUSTOM BẢNG (PHIÊN BẢN 7 CỘT) ---\n\n        // 1. TÙY CHỈNH TIÊU ĐỀ (HEADER)\n        JTableHeader header = BangChiTietHanhKhach.getTableHeader();\n\n        // 1a. Đặt màu nền xám nhẹ cho header\n        header.setBackground(new Color(230, 230, 230));\n        header.setForeground(Color.BLACK); // Đặt màu chữ là màu đen\n\n        // 1b. Đặt font chữ in đậm, cỡ 15\n        header.setFont(new Font(\"Helvetica Neue\", Font.BOLD, 15));\n\n        // 1c. Căn giữa TẤT CẢ tiêu đề cột\n        DefaultTableCellRenderer headerRenderer = (DefaultTableCellRenderer) header.getDefaultRenderer();\n        headerRenderer.setHorizontalAlignment(SwingConstants.CENTER);\n\n        // 2. TÙY CHỈNH CÁC Ô DỮ LIỆU (DATA CELLS)\n\n        // 2a. Tạo một renderer để CĂN GIỮA DỮ LIỆU\n        DefaultTableCellRenderer centerDataRenderer = new DefaultTableCellRenderer();\n        centerDataRenderer.setHorizontalAlignment(SwingConstants.CENTER);\n\n        // Lấy model cột để chỉnh\n        TableColumnModel columnModel = BangChiTietHanhKhach.getColumnModel();\n\n        // 2b. Áp dụng renderer CĂN GIỮA cho các cột bạn muốn\n        // Cột 0, 3, 4, 5, 6\n        columnModel.getColumn(0).setCellRenderer(centerDataRenderer); // STT\n        columnModel.getColumn(2).setCellRenderer(centerDataRenderer);\n        columnModel.getColumn(4).setCellRenderer(centerDataRenderer); // Giá vé\n        columnModel.getColumn(5).setCellRenderer(centerDataRenderer); // Khuyến mãi (%)\n        columnModel.getColumn(6).setCellRenderer(centerDataRenderer); // Thành tiền\n\n        // 3. TÙY CHỈNH ĐỘ RỘNG CỘT\n\n        // 3a. Cho 2 cột chính RỘNG RA\n        columnModel.getColumn(1).setPreferredWidth(155); // Họ và tên\n        columnModel.getColumn(2).setPreferredWidth(150); // Mã định danh/CCCD\n\n        // 3b. THU GỌN các cột còn lại cho vừa đủ\n        columnModel.getColumn(0).setPreferredWidth(40);  // STT\n        columnModel.getColumn(0).setMaxWidth(50);       // STT (đặt chiều rộng tối đa)\n        columnModel.getColumn(3).setPreferredWidth(80); // Loại vé\n        columnModel.getColumn(4).setPreferredWidth(70); // Giá vé\n        columnModel.getColumn(5).setPreferredWidth(110); // Khuyến mãi (%)\n        //columnModel.getColumn(5).setPreferredWidth(70);//Thành tiền\n\n        // 4. BỎ VIỀN Ô VÀ TẠO KHOẢNG CÁCH\n        // 4a. Tắt các đường kẻ viền (grid)\n        BangChiTietHanhKhach.setShowGrid(false);\n\n        // 4b. Tạo khoảng cách 8px ngang giữa các cột\n        BangChiTietHanhKhach.setIntercellSpacing(new Dimension(8, 0));\n\n        // --- KẾT THÚC CODE CUSTOM BẢNG ---\n\n        // --- KẾT THÚC CODE CUSTOM ---\n    }\n\n    private ImageIcon resizeIcon(String path, int width, int height) {\n        // 1. Tải ảnh gốc\n        ImageIcon originalIcon = new ImageIcon(path);\n\n        // 2. Lấy Image từ icon\n        Image originalImage = originalIcon.getImage();\n\n        // 3. Thay đổi kích thước (chọn SCALE_SMOOTH là cân bằng nhất)\n        //    Nếu bạn muốn nó \"sắc\" và \"vỡ\" hơn, dùng: Image.SCALE_REPLICATE\n        Image resizedImage = originalImage.getScaledInstance(width, height, Image.SCALE_SMOOTH);\n\n        // 4. Trả về icon mới\n        return new ImageIcon(resizedImage);\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(\"unchecked\")\n    // <editor-fold defaultstate=\"collapsed\" desc=\"Generated Code\">\n    private void initComponents() {\n\n        jPanel1 = new JPanel();\n        lblTieuDeMaHoaDon = new javax.swing.JLabel();\n        jPanel2 = new JPanel();\n        jLabel3 = new JLabel();\n        jLabel4 = new JLabel();\n        jLabel5 = new JLabel();\n        lblMaChuyen = new JLabel();\n        lblNgayKhoiHanh = new JLabel();\n        lblGaDi = new JLabel();\n        lblGioKhoiHanh = new JLabel();\n        jLabel10 = new JLabel();\n        lblGaDen = new JLabel();\n        jLabel12 = new JLabel();\n        lblNgayDuKien = new JLabel();\n        lblGioDuKien = new JLabel();\n        jLabel15 = new JLabel();\n        lblSoHieuTau = new JLabel();\n        jPanel3 = new JPanel();\n        jLabel18 = new JLabel() {\n            {\n                setOpaque(false);\n            }\n\n            @Override\n            protected void paintComponent(java.awt.Graphics g) {\n                Graphics2D g2 = (java.awt.Graphics2D) g.create();\n                g2.setRenderingHint(java.awt.RenderingHints.KEY_ANTIALIASING, java.awt.RenderingHints.VALUE_ANTIALIAS_ON);\n\n                // 1. VẼ NỀN BO TRÒN:\n                // Lấy màu nền (background) mà bạn set trong Properties\n                g2.setColor(getBackground());\n\n                // Vẽ nền bo tròn (số 5 là độ bo bạn yêu cầu)\n                g2.fillRoundRect(0, 0, getWidth(), getHeight(), 10, 10);\n\n                g2.dispose();\n\n                super.paintComponent(g);\n            }\n        };\n        jLabel19 = new JLabel();\n        jLabel20 = new JLabel();\n        jLabel21 = new JLabel();\n        lblTenHanhKhach = new JLabel();\n        lblEmail = new JLabel();\n        lblSoDienThoai = new JLabel();\n        jLabel25 = new JLabel() {\n            {\n                setOpaque(false);\n            }\n\n            @Override\n            protected void paintComponent(java.awt.Graphics g) {\n                java.awt.Graphics2D g2 = (java.awt.Graphics2D) g.create();\n                g2.setRenderingHint(java.awt.RenderingHints.KEY_ANTIALIASING, java.awt.RenderingHints.VALUE_ANTIALIAS_ON);\n\n                // 1. VẼ NỀN BO TRÒN:\n                // Lấy màu nền (background) mà bạn set trong Properties\n                g2.setColor(getBackground());\n\n                // Vẽ nền bo tròn (số 5 là độ bo bạn yêu cầu)\n                g2.fillRoundRect(0, 0, getWidth(), getHeight(), 10, 10);\n\n                g2.dispose();\n\n                super.paintComponent(g);\n            }\n        };\n        jScrollPane1 = new javax.swing.JScrollPane();\n        BangChiTietHanhKhach = new javax.swing.JTable();\n        btnSoLuongVe = new javax.swing.JButton();\n        lblTieuDeHanhKhach = new javax.swing.JLabel();\n        jPanel4 = new javax.swing.JPanel();\n        lblNgayLapHD = new javax.swing.JLabel();\n        jLabel29 = new javax.swing.JLabel();\n        jLabel31 = new javax.swing.JLabel();\n        lblSoTienPhaiThanhToan = new javax.swing.JLabel();\n        jLabel33 = new javax.swing.JLabel();\n        lblPhuongThucThanhToan = new javax.swing.JLabel();\n        jLabel30 = new javax.swing.JLabel();\n        lblTenNguoiLap = new javax.swing.JLabel();\n        jLabel27 = new javax.swing.JLabel();\n        jLabel32 = new javax.swing.JLabel();\n        lblKMchoHoaDon = new javax.swing.JLabel();\n        jLabel34 = new javax.swing.JLabel();\n        lblTongTien = new javax.swing.JLabel();\n        jLabel22 = new javax.swing.JLabel();\n        lblNguoiThanhToan = new javax.swing.JLabel();\n        jLabel35 = new javax.swing.JLabel();\n        lblNoiDungKhuyenMai = new javax.swing.JLabel();\n        jLabel26 = new javax.swing.JLabel();\n        btnDongChiTietHoaDon = new javax.swing.JButton();\n        btnInHoaDon = new javax.swing.JButton();\n\n        setBackground(new java.awt.Color(218, 218, 218));\n        setForeground(new java.awt.Color(218, 218, 218));\n\n        jPanel1.setBackground(new java.awt.Color(255, 255, 255));\n\n        lblTieuDeMaHoaDon.setFont(new java.awt.Font(\"Microsoft Sans Serif\", 0, 24)); // NOI18N\n        lblTieuDeMaHoaDon.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        lblTieuDeMaHoaDon.setIcon(new javax.swing.ImageIcon(\"/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/train.png\")); // NOI18N\n        lblTieuDeMaHoaDon.setText(\"Chi tiết hóa đơn HD2109202400010005 \");\n\n        jPanel2.setBackground(new java.awt.Color(255, 255, 255));\n\n        jLabel3.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        jLabel3.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel3.setText(\"Mã chuyến :\");\n\n        jLabel4.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        jLabel4.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel4.setText(\"Ga đi :\");\n\n        jLabel5.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        jLabel5.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel5.setText(\"Ngày đi :\");\n\n        lblMaChuyen.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        lblMaChuyen.setText(\"C78324\");\n\n        lblNgayKhoiHanh.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        lblNgayKhoiHanh.setText(\"21/08/2024\");\n\n        lblGaDi.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        lblGaDi.setText(\"Sài Gòn\");\n\n        lblGioKhoiHanh.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        lblGioKhoiHanh.setText(\"08:30\");\n\n        jLabel10.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        jLabel10.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel10.setText(\"Ga đến :\");\n\n        lblGaDen.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        lblGaDen.setText(\"Hà Nội\");\n\n        jLabel12.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        jLabel12.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel12.setText(\"Dự kiến :\");\n\n        lblNgayDuKien.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        lblNgayDuKien.setText(\"23/09/2024\");\n\n        lblGioDuKien.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        lblGioDuKien.setText(\"06 : 45\");\n\n        jLabel15.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        jLabel15.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel15.setText(\"Số hiệu tàu :\");\n\n        lblSoHieuTau.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        lblSoHieuTau.setText(\"SE1\");\n\n        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);\n        jPanel2.setLayout(jPanel2Layout);\n        jPanel2Layout.setHorizontalGroup(\n                jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                        .addGroup(jPanel2Layout.createSequentialGroup()\n                                .addGap(71, 71, 71)\n                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\n                                        .addComponent(jLabel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                                        .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 84, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                        .addComponent(jLabel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                                .addGap(70, 70, 70)\n                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                        .addComponent(lblMaChuyen)\n                                        .addComponent(lblGaDi)\n                                        .addComponent(lblNgayKhoiHanh)\n                                        .addComponent(lblGioKhoiHanh))\n                                .addGap(188, 188, 188)\n                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)\n                                        .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel2Layout.createSequentialGroup()\n                                                .addComponent(jLabel12)\n                                                .addGap(94, 94, 94)\n                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                                        .addComponent(lblGioDuKien)\n                                                        .addComponent(lblNgayDuKien)))\n                                        .addGroup(jPanel2Layout.createSequentialGroup()\n                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()\n                                                                .addComponent(jLabel10, javax.swing.GroupLayout.PREFERRED_SIZE, 79, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                                                .addGap(84, 84, 84))\n                                                        .addGroup(jPanel2Layout.createSequentialGroup()\n                                                                .addComponent(jLabel15)\n                                                                .addGap(68, 68, 68)))\n                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                                        .addComponent(lblSoHieuTau)\n                                                        .addComponent(lblGaDen))\n                                                .addGap(28, 28, 28)))\n                                .addContainerGap(80, Short.MAX_VALUE))\n        );\n        jPanel2Layout.setVerticalGroup(\n                jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                        .addGroup(jPanel2Layout.createSequentialGroup()\n                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                        .addGroup(jPanel2Layout.createSequentialGroup()\n                                                .addGap(14, 14, 14)\n                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                                                        .addComponent(jLabel3)\n                                                        .addComponent(lblMaChuyen)))\n                                        .addGroup(jPanel2Layout.createSequentialGroup()\n                                                .addContainerGap()\n                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                                                        .addComponent(jLabel15)\n                                                        .addComponent(lblSoHieuTau))))\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                        .addGroup(jPanel2Layout.createSequentialGroup()\n                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                                                        .addComponent(lblGaDi)\n                                                        .addComponent(jLabel4))\n                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                                        .addComponent(lblNgayKhoiHanh)\n                                                        .addComponent(jLabel5))\n                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                                .addComponent(lblGioKhoiHanh))\n                                        .addGroup(jPanel2Layout.createSequentialGroup()\n                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                                                        .addComponent(jLabel10)\n                                                        .addComponent(lblGaDen))\n                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                                                        .addComponent(lblNgayDuKien)\n                                                        .addComponent(jLabel12))\n                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                                .addComponent(lblGioDuKien)))\n                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n\n        jPanel3.setBackground(new java.awt.Color(255, 255, 255));\n\n        jLabel18.setBackground(new java.awt.Color(100, 100, 100));\n        jLabel18.setFont(new java.awt.Font(\"Oriya Sangam MN\", 0, 16)); // NOI18N\n        jLabel18.setForeground(new java.awt.Color(255, 255, 255));\n        jLabel18.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        jLabel18.setIcon(new javax.swing.ImageIcon(\"/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/nhieuhanhkhach.png\")); // NOI18N\n        jLabel18.setText(\"Hành khách \");\n        jLabel18.setSize(new java.awt.Dimension(17, 60));\n\n        jLabel19.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        jLabel19.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel19.setText(\"Họ tên :\");\n\n        jLabel20.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        jLabel20.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel20.setText(\"Email :\");\n\n        jLabel21.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        jLabel21.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel21.setText(\"Số điện thoại :\");\n\n        lblTenHanhKhach.setFont(new java.awt.Font(\"Kailasa\", 0, 17)); // NOI18N\n        lblTenHanhKhach.setText(\"Nguyễn Văn Nam\");\n\n        lblEmail.setFont(new java.awt.Font(\"Kailasa\", 0, 17)); // NOI18N\n        lblEmail.setIcon(new javax.swing.ImageIcon(\"/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/email.png\")); // NOI18N\n        lblEmail.setText(\"abcxyz@gmail.com\");\n\n        lblSoDienThoai.setFont(new java.awt.Font(\"Kailasa\", 0, 17)); // NOI18N\n        lblSoDienThoai.setIcon(new javax.swing.ImageIcon(\"/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/telephone.png\")); // NOI18N\n        lblSoDienThoai.setText(\"0123456789\");\n\n        jLabel25.setBackground(new java.awt.Color(100, 100, 100));\n        jLabel25.setFont(new java.awt.Font(\"Oriya Sangam MN\", 0, 16)); // NOI18N\n        jLabel25.setForeground(new java.awt.Color(255, 255, 255));\n        jLabel25.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        jLabel25.setIcon(new javax.swing.ImageIcon(\"/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/hanhkhach.png\")); // NOI18N\n        jLabel25.setText(\" Người đặt vé  \");\n\n        BangChiTietHanhKhach.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));\n        BangChiTietHanhKhach.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 15)); // NOI18N\n        BangChiTietHanhKhach.setModel(new javax.swing.table.DefaultTableModel(\n                new Object [][] {\n                        { new Integer(1), \"Nguyễn Văn Nam\", \"044180000960\", \"Người lớn\", \"900.000đ\", \"0\", \"900.000đ\"},\n                        { new Integer(2), \"Nguyễn Trúc Thùy Tiên\", \"077202000870\", \"Sinh Viên\", \"900.000đ\", \"10\", \"810.000đ\"},\n                        { new Integer(3), \"Trần Đức Nam\", \"044210000102\", \"Trẻ em\", \"871.000đ\", \"15\", \"740.000đ\"},\n                        {null, null, null, null, null, null, null}\n                },\n                new String [] {\n                        \"STT\", \"Họ và tên\", \"Định danh/CCCD\", \"Loại vé\", \"Giá vé\", \"Khuyến mãi (%)\", \"Thành tiền\"\n                }\n        ) {\n            Class[] types = new Class [] {\n                    java.lang.Integer.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.Object.class, java.lang.Object.class, java.lang.String.class\n            };\n\n            public Class getColumnClass(int columnIndex) {\n                return types [columnIndex];\n            }\n        });\n        BangChiTietHanhKhach.setRowHeight(30);\n        jScrollPane1.setViewportView(BangChiTietHanhKhach);\n\n        btnSoLuongVe.setFont(new java.awt.Font(\"Helvetica Neue\", 1, 13)); // NOI18N\n        btnSoLuongVe.setForeground(new java.awt.Color(204, 204, 204));\n        btnSoLuongVe.setText(\"Số lượng: 3\");\n        btnSoLuongVe.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                btnSoLuongVeActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);\n        jPanel3.setLayout(jPanel3Layout);\n        jPanel3Layout.setHorizontalGroup(\n                jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                        .addGroup(jPanel3Layout.createSequentialGroup()\n                                .addGap(29, 29, 29)\n                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                        .addComponent(jLabel25)\n                                        .addGroup(jPanel3Layout.createSequentialGroup()\n                                                .addComponent(jLabel18)\n                                                .addGap(39, 39, 39)\n                                                .addComponent(btnSoLuongVe, javax.swing.GroupLayout.PREFERRED_SIZE, 57, javax.swing.GroupLayout.PREFERRED_SIZE))\n                                        .addGroup(jPanel3Layout.createSequentialGroup()\n                                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                                        .addGroup(jPanel3Layout.createSequentialGroup()\n                                                                .addGap(41, 41, 41)\n                                                                .addComponent(jLabel19, javax.swing.GroupLayout.PREFERRED_SIZE, 74, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                                                .addGap(134, 134, 134)\n                                                                .addComponent(jLabel21))\n                                                        .addGroup(jPanel3Layout.createSequentialGroup()\n                                                                .addGap(56, 56, 56)\n                                                                .addComponent(lblTenHanhKhach)\n                                                                .addGap(78, 78, 78)\n                                                                .addComponent(lblSoDienThoai, javax.swing.GroupLayout.PREFERRED_SIZE, 161, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                                        .addGroup(jPanel3Layout.createSequentialGroup()\n                                                                .addGap(67, 67, 67)\n                                                                .addComponent(lblEmail, javax.swing.GroupLayout.PREFERRED_SIZE, 214, javax.swing.GroupLayout.PREFERRED_SIZE))\n                                                        .addGroup(jPanel3Layout.createSequentialGroup()\n                                                                .addGap(43, 43, 43)\n                                                                .addComponent(jLabel20, javax.swing.GroupLayout.PREFERRED_SIZE, 74, javax.swing.GroupLayout.PREFERRED_SIZE)))))\n                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                        .addGroup(jPanel3Layout.createSequentialGroup()\n                                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 823, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addGap(0, 0, Short.MAX_VALUE))\n        );\n        jPanel3Layout.setVerticalGroup(\n                jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                        .addGroup(jPanel3Layout.createSequentialGroup()\n                                .addGap(12, 12, 12)\n                                .addComponent(jLabel25, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                                        .addComponent(jLabel19, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                                        .addComponent(jLabel20)\n                                        .addComponent(jLabel21, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                                        .addComponent(lblTenHanhKhach)\n                                        .addComponent(lblSoDienThoai, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                        .addComponent(lblEmail, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))\n                                .addGap(18, 18, 18)\n                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                                        .addComponent(jLabel18, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                        .addComponent(btnSoLuongVe))\n                                .addGap(18, 18, 18)\n                                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 137, javax.swing.GroupLayout.PREFERRED_SIZE))\n        );\n\n        lblTieuDeHanhKhach.setFont(new java.awt.Font(\"Noto Sans Tagalog\", 0, 16)); // NOI18N\n        lblTieuDeHanhKhach.setText(\"- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\");\n\n        jPanel4.setBackground(new java.awt.Color(255, 255, 255));\n\n        lblNgayLapHD.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 16)); // NOI18N\n        lblNgayLapHD.setIcon(new javax.swing.ImageIcon(\"/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/schedule.png\")); // NOI18N\n        lblNgayLapHD.setText(\"19/08/2024\");\n\n        jLabel29.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 16)); // NOI18N\n        jLabel29.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel29.setText(\"Ngày lập :\");\n\n        jLabel31.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 16)); // NOI18N\n        jLabel31.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel31.setText(\"Số tiền phải thanh toán :\");\n\n        lblSoTienPhaiThanhToan.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 20)); // NOI18N\n        lblSoTienPhaiThanhToan.setIcon(new javax.swing.ImageIcon(\"/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/payment-success.png\")); // NOI18N\n        lblSoTienPhaiThanhToan.setText(\"2.240.000 ₫\");\n\n        jLabel33.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 16)); // NOI18N\n        jLabel33.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel33.setText(\"Khuyến mãi :\");\n\n        lblPhuongThucThanhToan.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 16)); // NOI18N\n        lblPhuongThucThanhToan.setText(\"Tiền mặt\");\n\n        jLabel30.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 16)); // NOI18N\n        jLabel30.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel30.setText(\"Người lập hóa đơn:\");\n\n        lblTenNguoiLap.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 16)); // NOI18N\n        lblTenNguoiLap.setText(\"Phạm Lan Thy\");\n\n        jLabel27.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 19)); // NOI18N\n        jLabel27.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel27.setIcon(new javax.swing.ImageIcon(\"/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/payment-method.png\")); // NOI18N\n        jLabel27.setText(\":\");\n\n        jLabel32.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 16)); // NOI18N\n        jLabel32.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel32.setText(\"Tổng tiền :\");\n\n        lblKMchoHoaDon.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 16)); // NOI18N\n        lblKMchoHoaDon.setText(\"5%\");\n\n        jLabel34.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 16)); // NOI18N\n        jLabel34.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel34.setText(\"Nội dung :\");\n\n        lblTongTien.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 16)); // NOI18N\n        lblTongTien.setText(\"2.240.000 đ\");\n\n        jLabel22.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        jLabel22.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel22.setText(\"Người thanh toán :\");\n\n        lblNguoiThanhToan.setFont(new java.awt.Font(\"Kailasa\", 0, 16)); // NOI18N\n        lblNguoiThanhToan.setText(\"Nguyễn Văn Nam\");\n\n        jLabel35.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 16)); // NOI18N\n        jLabel35.setForeground(new java.awt.Color(158, 158, 158));\n        jLabel35.setText(\"Phương thức\");\n\n        lblNoiDungKhuyenMai.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 16)); // NOI18N\n        lblNoiDungKhuyenMai.setText(\"Giảm trực tiếp cho hóa đơn\");\n\n        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);\n        jPanel4.setLayout(jPanel4Layout);\n        jPanel4Layout.setHorizontalGroup(\n                jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                        .addGroup(jPanel4Layout.createSequentialGroup()\n                                .addGap(80, 80, 80)\n                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                        .addGroup(jPanel4Layout.createSequentialGroup()\n                                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                                        .addGroup(jPanel4Layout.createSequentialGroup()\n                                                                .addComponent(jLabel30)\n                                                                .addGap(18, 18, 18)\n                                                                .addComponent(lblTenNguoiLap))\n                                                        .addGroup(jPanel4Layout.createSequentialGroup()\n                                                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)\n                                                                        .addComponent(jLabel33, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                                                                        .addComponent(jLabel32, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 88, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                                                        .addGroup(jPanel4Layout.createSequentialGroup()\n                                                                                .addComponent(jLabel35, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                                                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                                                                .addComponent(jLabel27, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))\n                                                                        .addComponent(jLabel22, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 149, javax.swing.GroupLayout.PREFERRED_SIZE))\n                                                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                                                        .addGroup(jPanel4Layout.createSequentialGroup()\n                                                                                .addGap(11, 11, 11)\n                                                                                .addComponent(lblTongTien))\n                                                                        .addGroup(jPanel4Layout.createSequentialGroup()\n                                                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                                                                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                                                                        .addComponent(lblPhuongThucThanhToan)\n                                                                                        .addComponent(lblKMchoHoaDon)\n                                                                                        .addComponent(lblNguoiThanhToan))))))\n                                                .addGap(59, 59, 59)\n                                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                                        .addGroup(jPanel4Layout.createSequentialGroup()\n                                                                .addComponent(jLabel34, javax.swing.GroupLayout.PREFERRED_SIZE, 106, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                                                .addComponent(lblNoiDungKhuyenMai))\n                                                        .addGroup(jPanel4Layout.createSequentialGroup()\n                                                                .addComponent(jLabel29, javax.swing.GroupLayout.PREFERRED_SIZE, 97, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                                                .addComponent(lblNgayLapHD, javax.swing.GroupLayout.PREFERRED_SIZE, 197, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                                                .addGap(110, 110, Short.MAX_VALUE))\n                                        .addGroup(jPanel4Layout.createSequentialGroup()\n                                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                                        .addComponent(lblSoTienPhaiThanhToan, javax.swing.GroupLayout.PREFERRED_SIZE, 236, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                                        .addComponent(jLabel31, javax.swing.GroupLayout.PREFERRED_SIZE, 202, javax.swing.GroupLayout.PREFERRED_SIZE))\n                                                .addGap(0, 0, Short.MAX_VALUE))))\n        );\n        jPanel4Layout.setVerticalGroup(\n                jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                        .addGroup(jPanel4Layout.createSequentialGroup()\n                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                                        .addComponent(jLabel30, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                        .addComponent(lblTenNguoiLap, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                        .addComponent(jLabel29, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                        .addComponent(lblNgayLapHD, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                                        .addComponent(jLabel32, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                        .addComponent(lblTongTien, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                                        .addComponent(jLabel33, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                        .addComponent(lblKMchoHoaDon, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                        .addComponent(jLabel34, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                        .addComponent(lblNoiDungKhuyenMai, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                                        .addComponent(jLabel27, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                        .addComponent(jLabel35, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                        .addComponent(lblPhuongThucThanhToan))\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                                        .addComponent(jLabel22, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                                        .addComponent(lblNguoiThanhToan))\n                                .addGap(29, 29, 29)\n                                .addComponent(jLabel31)\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                .addComponent(lblSoTienPhaiThanhToan, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addContainerGap(40, Short.MAX_VALUE))\n        );\n\n        jLabel26.setFont(new java.awt.Font(\"Noto Sans Tagalog\", 0, 16)); // NOI18N\n        jLabel26.setText(\"- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\");\n\n        btnDongChiTietHoaDon.setBackground(new java.awt.Color(255, 0, 0));\n        btnDongChiTietHoaDon.setFont(new java.awt.Font(\"Helvetica Neue\", 0, 24)); // NOI18N\n        btnDongChiTietHoaDon.setForeground(new java.awt.Color(255, 255, 255));\n        btnDongChiTietHoaDon.setText(\"X\");\n        btnDongChiTietHoaDon.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(255, 0, 51)));\n        btnDongChiTietHoaDon.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                btnDongChiTietHoaDonActionPerformed(evt);\n            }\n        });\n\n        btnInHoaDon.setBackground(new java.awt.Color(0, 222, 40));\n        btnInHoaDon.setFont(new java.awt.Font(\"Helvetica Neue\", 1, 16)); // NOI18N\n        btnInHoaDon.setForeground(new java.awt.Color(255, 255, 255));\n        btnInHoaDon.setText(\"In hóa đơn\");\n        btnInHoaDon.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));\n\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\n        jPanel1.setLayout(jPanel1Layout);\n        jPanel1Layout.setHorizontalGroup(\n                jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                        .addGroup(jPanel1Layout.createSequentialGroup()\n                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                        .addGroup(jPanel1Layout.createSequentialGroup()\n                                                .addGap(29, 29, 29)\n                                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                                        .addGroup(jPanel1Layout.createSequentialGroup()\n                                                                .addComponent(lblTieuDeMaHoaDon, javax.swing.GroupLayout.PREFERRED_SIZE, 814, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                                                                .addComponent(btnDongChiTietHoaDon))\n                                                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\n                                                                .addComponent(lblTieuDeHanhKhach, javax.swing.GroupLayout.DEFAULT_SIZE, 1073, Short.MAX_VALUE)\n                                                                .addComponent(jLabel26, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                                                                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                                                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                                                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))\n                                        .addGroup(jPanel1Layout.createSequentialGroup()\n                                                .addGap(217, 217, 217)\n                                                .addComponent(btnInHoaDon, javax.swing.GroupLayout.PREFERRED_SIZE, 492, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                                .addGap(0, 0, Short.MAX_VALUE))\n        );\n        jPanel1Layout.setVerticalGroup(\n                jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                        .addGroup(jPanel1Layout.createSequentialGroup()\n                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                        .addGroup(jPanel1Layout.createSequentialGroup()\n                                                .addContainerGap()\n                                                .addComponent(lblTieuDeMaHoaDon, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE))\n                                        .addComponent(btnDongChiTietHoaDon))\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                .addComponent(lblTieuDeHanhKhach, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                .addComponent(jLabel26, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addGap(18, 18, 18)\n                                .addComponent(btnInHoaDon, javax.swing.GroupLayout.PREFERRED_SIZE, 44, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addContainerGap(17, Short.MAX_VALUE))\n        );\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);\n        this.setLayout(layout);\n        layout.setHorizontalGroup(\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\n                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, 886, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addContainerGap())\n        );\n        layout.setVerticalGroup(\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                        .addGroup(layout.createSequentialGroup()\n                                .addContainerGap()\n                                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addContainerGap(16, Short.MAX_VALUE))\n        );\n    }// </editor-fold>\n\n    private void btnDongChiTietHoaDonActionPerformed(java.awt.event.ActionEvent evt) {\n        // TODO add your handling code here:\n        // Lấy cửa sổ JFrame cha\n        JFrame topFrame = (JFrame) SwingUtilities.getWindowAncestor(this);\n\n        if (topFrame != null) {\n            // Lấy cái Glass Pane (chính là cái nền mờ đang chứa popup này)\n            java.awt.Component glassPane = topFrame.getGlassPane();\n\n            // Và ẩn nó đi\n            glassPane.setVisible(false);\n        }\n    }\n\n    private void btnSoLuongVeActionPerformed(java.awt.event.ActionEvent evt) {\n        // TODO add your handling code here:\n    }\n\n\n\n\n    public static void main(String[] args) {\n        JFrame frame = new javax.swing.JFrame(\"Test Màn Hình Tra Cứu\");\n\n        // 2. Tạo một bản sao của JPanel (chính là class này)\n        PopUpChiTietHoaDon panel = new PopUpChiTietHoaDon();\n\n        // 3. Thêm panel vào làm nội dung cho cửa sổ\n        frame.setContentPane(panel);\n\n        // 4. Thiết lập hành động mặc định khi bấm nút X (tắt chương trình)\n        frame.setDefaultCloseOperation(javax.swing.JFrame.EXIT_ON_CLOSE);\n\n        // 5. Tự động điều chỉnh kích thước cửa sổ vừa với nội dung panel\n        frame.pack();\n\n        // 6. Tùy chọn: Đặt cửa sổ ra giữa màn hình\n        frame.setLocationRelativeTo(null);\n\n        // 7. Hiển thị cửa sổ\n        frame.setVisible(true);\n    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/gui/Panel/PopUpChiTietHoaDon.java b/src/gui/Panel/PopUpChiTietHoaDon.java
--- a/src/gui/Panel/PopUpChiTietHoaDon.java	(revision 4be61b24890bfa626c5ac99b691918220a3a9022)
+++ b/src/gui/Panel/PopUpChiTietHoaDon.java	(date 1761525998259)
@@ -1,39 +1,44 @@
-package gui.Panel;
+package gui.Panel; // <-- Giữ nguyên package
+
+// AWT Imports
+import java.awt.Color;
+import java.awt.Component;
+import java.awt.Dimension;
+import java.awt.Font;
+import java.awt.Graphics;
+import java.awt.Graphics2D;
+import java.awt.Image; // Cho resizeIcon
+import java.awt.RenderingHints;
+import java.awt.event.ActionEvent; // Cho ActionListener
+import java.awt.event.ActionListener; // Cho ActionListener
 
-import java.awt.*;
-import javax.swing.ImageIcon;
-import javax.swing.JFrame;
-import javax.swing.SwingConstants;
+// Swing Imports
+import javax.swing.*;
+
+// Swing Table Imports
 import javax.swing.table.DefaultTableCellRenderer;
+import javax.swing.table.DefaultTableModel;
 import javax.swing.table.JTableHeader;
 import javax.swing.table.TableColumnModel;
-import javax.swing.*;
+
+// Ghi chú: Đã xóa "import javax.swing.*;"
 
 /**
  *
  * @author laptoptt
  */
+// Đã sửa javax.swing.JPanel -> JPanel
 public class PopUpChiTietHoaDon extends JPanel {
 
     /**
      * Creates new form PopUpChiTietHoaDon
      */
-
-    // Variables declaration - do not modify
-    private JTable BangChiTietHanhKhach;
-    private JButton btnDongChiTietHoaDon, btnInHoaDon, btnSoLuongVe;
-    private JLabel jLabel10, jLabel12, jLabel15, jLabel18, jLabel19, jLabel20, jLabel21, jLabel22, jLabel25, jLabel26, jLabel27, jLabel29, jLabel3, jLabel30, jLabel31, jLabel32, jLabel33, jLabel34, jLabel35, jLabel4, jLabel5;
-    private JLabel lblEmail, lblGaDen, lblGaDi, lblGioDuKien, lblGioKhoiHanh, lblKMchoHoaDon, lblMaChuyen, lblNgayDuKien, lblNgayKhoiHanh, lblNgayLapHD, lblNguoiThanhToan, lblNoiDungKhuyenMai, lblPhuongThucThanhToan, lblSoDienThoai, lblSoHieuTau, lblSoTienPhaiThanhToan, lblTenHanhKhach, lblTenNguoiLap, lblTieuDeHanhKhach, lblTieuDeMaHoaDon, lblTongTien;
-    private JPanel jPanel1, jPanel2, jPanel3, jPanel4;
-    private JScrollPane jScrollPane1;
-    // End of variables declaration
-
     public PopUpChiTietHoaDon() {
         initComponents();
 
         // --- BẮT ĐẦU CODE CUSTOM CỦA BẠN ---
 
-        // 1. Đường dẫn đến ảnh của bạn
+        // 1. Đường dẫn ảnh (giữ nguyên)
         String imagePath_Train = "/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/train.png";
         String imagePath_Passenger = "/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/hanhkhach.png";
         String imagePath_Telephone = "/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/telephone.png";
@@ -43,8 +48,6 @@
         String imagePath_PaymentMethod = "/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/payment-method.png";
         String imagePath_Calendar = "/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/schedule.png";
 
-
-        // 2. Đặt kích thước mới bạn muốn (ví dụ: 24x24)
         // 3. Gọi hàm resize
         ImageIcon resizedTrainIcon = resizeIcon(imagePath_Train, 28, 28);
         ImageIcon resizedPassengerIcon = resizeIcon(imagePath_Passenger,20, 20 );
@@ -55,97 +58,59 @@
         ImageIcon resizedPaymentMethodIcon = resizeIcon(imagePath_PaymentMethod,20, 20 );
         ImageIcon resizedCalendarIcon = resizeIcon(imagePath_Calendar, 20, 20);
 
-
-        // 4. Đặt lại icon cho jLabel1
-        // Dòng này sẽ GHI ĐÈ lên icon to mà NetBeans đã set
+        // 4. Đặt lại icon
         lblTieuDeMaHoaDon.setIcon(resizedTrainIcon);
         jLabel25.setIcon(resizedPassengerIcon);
         lblSoDienThoai.setIcon(resizedTelephoneIcon);
         lblEmail.setIcon(resizedEmailIcon);
         jLabel18.setIcon(resizedPassengersIcon);
-        lblSoTienPhaiThanhToan.setIcon(resizedTransactionIcon);
+        lblSoTienPhaiThanhToan.setIcon(resizedTransactionIcon); // Đã sửa từ lblTongTien
         jLabel27.setIcon(resizedPaymentMethodIcon);
-        lblNgayLapHD.setIcon(resizedCalendarIcon);
+        lblNgayLapHD.setIcon(resizedCalendarIcon); // Đã sửa từ lblNgayThanhToan
 
-        // Giả sử nút của bạn tên là btnInHoaDon (thay tên cho đúng)
+        // Custom nút
         btnInHoaDon.setOpaque(true);
         btnInHoaDon.setBorderPainted(false);
-
-        // Thay 'btnDong' bằng tên biến của nút "Đóng"
         btnDongChiTietHoaDon.setOpaque(true);
         btnDongChiTietHoaDon.setBorderPainted(false);
 
-        // --- BẮT ĐẦU CODE CUSTOM BẢNG (PHIÊN BẢN 7 CỘT) ---
-
-        // 1. TÙY CHỈNH TIÊU ĐỀ (HEADER)
+        // --- BẮT ĐẦU CODE CUSTOM BẢNG ---
         JTableHeader header = BangChiTietHanhKhach.getTableHeader();
-
-        // 1a. Đặt màu nền xám nhẹ cho header
-        header.setBackground(new Color(230, 230, 230));
-        header.setForeground(Color.BLACK); // Đặt màu chữ là màu đen
-
-        // 1b. Đặt font chữ in đậm, cỡ 15
-        header.setFont(new Font("Helvetica Neue", Font.BOLD, 15));
-
-        // 1c. Căn giữa TẤT CẢ tiêu đề cột
+        header.setBackground(new Color(230, 230, 230)); // Đã sửa java.awt.Color -> Color
+        header.setForeground(Color.BLACK); // Đã sửa
+        header.setFont(new Font("Helvetica Neue", Font.BOLD, 15)); // Đã sửa java.awt.Font -> Font
         DefaultTableCellRenderer headerRenderer = (DefaultTableCellRenderer) header.getDefaultRenderer();
-        headerRenderer.setHorizontalAlignment(SwingConstants.CENTER);
+        headerRenderer.setHorizontalAlignment(SwingConstants.CENTER); // Đã sửa javax.swing.SwingConstants -> SwingConstants
 
-        // 2. TÙY CHỈNH CÁC Ô DỮ LIỆU (DATA CELLS)
-
-        // 2a. Tạo một renderer để CĂN GIỮA DỮ LIỆU
         DefaultTableCellRenderer centerDataRenderer = new DefaultTableCellRenderer();
-        centerDataRenderer.setHorizontalAlignment(SwingConstants.CENTER);
-
-        // Lấy model cột để chỉnh
+        centerDataRenderer.setHorizontalAlignment(SwingConstants.CENTER); // Đã sửa
         TableColumnModel columnModel = BangChiTietHanhKhach.getColumnModel();
 
-        // 2b. Áp dụng renderer CĂN GIỮA cho các cột bạn muốn
-        // Cột 0, 3, 4, 5, 6
         columnModel.getColumn(0).setCellRenderer(centerDataRenderer); // STT
-        columnModel.getColumn(2).setCellRenderer(centerDataRenderer);
-        columnModel.getColumn(4).setCellRenderer(centerDataRenderer); // Giá vé
-        columnModel.getColumn(5).setCellRenderer(centerDataRenderer); // Khuyến mãi (%)
-        columnModel.getColumn(6).setCellRenderer(centerDataRenderer); // Thành tiền
+        columnModel.getColumn(2).setCellRenderer(centerDataRenderer); // Định danh/CCCD (Index 2)
+        columnModel.getColumn(4).setCellRenderer(centerDataRenderer); // Giá vé (Index 4)
+        columnModel.getColumn(5).setCellRenderer(centerDataRenderer); // Khuyến mãi (%) (Index 5)
+        columnModel.getColumn(6).setCellRenderer(centerDataRenderer); // Thành tiền (Index 6)
 
-        // 3. TÙY CHỈNH ĐỘ RỘNG CỘT
-
-        // 3a. Cho 2 cột chính RỘNG RA
         columnModel.getColumn(1).setPreferredWidth(155); // Họ và tên
         columnModel.getColumn(2).setPreferredWidth(150); // Mã định danh/CCCD
-
-        // 3b. THU GỌN các cột còn lại cho vừa đủ
         columnModel.getColumn(0).setPreferredWidth(40);  // STT
-        columnModel.getColumn(0).setMaxWidth(50);       // STT (đặt chiều rộng tối đa)
+        columnModel.getColumn(0).setMaxWidth(50);
         columnModel.getColumn(3).setPreferredWidth(80); // Loại vé
         columnModel.getColumn(4).setPreferredWidth(70); // Giá vé
         columnModel.getColumn(5).setPreferredWidth(110); // Khuyến mãi (%)
-        //columnModel.getColumn(5).setPreferredWidth(70);//Thành tiền
+        // columnModel.getColumn(6).setPreferredWidth(70); // Thành tiền (đã có ở trên, dòng này dư)
 
-        // 4. BỎ VIỀN Ô VÀ TẠO KHOẢNG CÁCH
-        // 4a. Tắt các đường kẻ viền (grid)
         BangChiTietHanhKhach.setShowGrid(false);
-
-        // 4b. Tạo khoảng cách 8px ngang giữa các cột
-        BangChiTietHanhKhach.setIntercellSpacing(new Dimension(8, 0));
-
+        BangChiTietHanhKhach.setIntercellSpacing(new Dimension(8, 0)); // Đã sửa java.awt.Dimension -> Dimension
         // --- KẾT THÚC CODE CUSTOM BẢNG ---
-
-        // --- KẾT THÚC CODE CUSTOM ---
     }
 
+    // Đã sửa javax.swing.ImageIcon -> ImageIcon, java.awt.Image -> Image
     private ImageIcon resizeIcon(String path, int width, int height) {
-        // 1. Tải ảnh gốc
         ImageIcon originalIcon = new ImageIcon(path);
-
-        // 2. Lấy Image từ icon
         Image originalImage = originalIcon.getImage();
-
-        // 3. Thay đổi kích thước (chọn SCALE_SMOOTH là cân bằng nhất)
-        //    Nếu bạn muốn nó "sắc" và "vỡ" hơn, dùng: Image.SCALE_REPLICATE
         Image resizedImage = originalImage.getScaledInstance(width, height, Image.SCALE_SMOOTH);
-
-        // 4. Trả về icon mới
         return new ImageIcon(resizedImage);
     }
 
@@ -158,8 +123,9 @@
     // <editor-fold defaultstate="collapsed" desc="Generated Code">
     private void initComponents() {
 
+        // Đã sửa javax.swing.* -> Simple names
         jPanel1 = new JPanel();
-        lblTieuDeMaHoaDon = new javax.swing.JLabel();
+        lblTieuDeMaHoaDon = new JLabel();
         jPanel2 = new JPanel();
         jLabel3 = new JLabel();
         jLabel4 = new JLabel();
@@ -177,24 +143,14 @@
         lblSoHieuTau = new JLabel();
         jPanel3 = new JPanel();
         jLabel18 = new JLabel() {
-            {
-                setOpaque(false);
-            }
-
+            { setOpaque(false); }
             @Override
-            protected void paintComponent(java.awt.Graphics g) {
-                Graphics2D g2 = (java.awt.Graphics2D) g.create();
-                g2.setRenderingHint(java.awt.RenderingHints.KEY_ANTIALIASING, java.awt.RenderingHints.VALUE_ANTIALIAS_ON);
-
-                // 1. VẼ NỀN BO TRÒN:
-                // Lấy màu nền (background) mà bạn set trong Properties
+            protected void paintComponent(Graphics g) { // Đã sửa java.awt.* -> *
+                Graphics2D g2 = (Graphics2D) g.create();
+                g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);
                 g2.setColor(getBackground());
-
-                // Vẽ nền bo tròn (số 5 là độ bo bạn yêu cầu)
                 g2.fillRoundRect(0, 0, getWidth(), getHeight(), 10, 10);
-
                 g2.dispose();
-
                 super.paintComponent(g);
             }
         };
@@ -205,581 +161,578 @@
         lblEmail = new JLabel();
         lblSoDienThoai = new JLabel();
         jLabel25 = new JLabel() {
-            {
-                setOpaque(false);
-            }
-
+            { setOpaque(false); }
             @Override
-            protected void paintComponent(java.awt.Graphics g) {
-                java.awt.Graphics2D g2 = (java.awt.Graphics2D) g.create();
-                g2.setRenderingHint(java.awt.RenderingHints.KEY_ANTIALIASING, java.awt.RenderingHints.VALUE_ANTIALIAS_ON);
-
-                // 1. VẼ NỀN BO TRÒN:
-                // Lấy màu nền (background) mà bạn set trong Properties
+            protected void paintComponent(Graphics g) { // Đã sửa
+                Graphics2D g2 = (Graphics2D) g.create();
+                g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);
                 g2.setColor(getBackground());
-
-                // Vẽ nền bo tròn (số 5 là độ bo bạn yêu cầu)
                 g2.fillRoundRect(0, 0, getWidth(), getHeight(), 10, 10);
-
                 g2.dispose();
-
                 super.paintComponent(g);
             }
         };
-        jScrollPane1 = new javax.swing.JScrollPane();
-        BangChiTietHanhKhach = new javax.swing.JTable();
-        btnSoLuongVe = new javax.swing.JButton();
-        lblTieuDeHanhKhach = new javax.swing.JLabel();
-        jPanel4 = new javax.swing.JPanel();
-        lblNgayLapHD = new javax.swing.JLabel();
-        jLabel29 = new javax.swing.JLabel();
-        jLabel31 = new javax.swing.JLabel();
-        lblSoTienPhaiThanhToan = new javax.swing.JLabel();
-        jLabel33 = new javax.swing.JLabel();
-        lblPhuongThucThanhToan = new javax.swing.JLabel();
-        jLabel30 = new javax.swing.JLabel();
-        lblTenNguoiLap = new javax.swing.JLabel();
-        jLabel27 = new javax.swing.JLabel();
-        jLabel32 = new javax.swing.JLabel();
-        lblKMchoHoaDon = new javax.swing.JLabel();
-        jLabel34 = new javax.swing.JLabel();
-        lblTongTien = new javax.swing.JLabel();
-        jLabel22 = new javax.swing.JLabel();
-        lblNguoiThanhToan = new javax.swing.JLabel();
-        jLabel35 = new javax.swing.JLabel();
-        lblNoiDungKhuyenMai = new javax.swing.JLabel();
-        jLabel26 = new javax.swing.JLabel();
-        btnDongChiTietHoaDon = new javax.swing.JButton();
-        btnInHoaDon = new javax.swing.JButton();
+        jScrollPane1 = new JScrollPane();
+        BangChiTietHanhKhach = new JTable();
+        btnSoLuongVe = new JButton();
+        lblTieuDeHanhKhach = new JLabel();
+        jPanel4 = new JPanel();
+        lblNgayLapHD = new JLabel();
+        jLabel29 = new JLabel();
+        jLabel31 = new JLabel();
+        lblSoTienPhaiThanhToan = new JLabel();
+        jLabel33 = new JLabel();
+        lblPhuongThucThanhToan = new JLabel();
+        jLabel30 = new JLabel();
+        lblTenNguoiLap = new JLabel();
+        jLabel27 = new JLabel();
+        jLabel32 = new JLabel();
+        lblKMchoHoaDon = new JLabel();
+        jLabel34 = new JLabel();
+        lblTongTien = new JLabel();
+        jLabel22 = new JLabel();
+        lblNguoiThanhToan = new JLabel();
+        jLabel35 = new JLabel();
+        lblNoiDungKhuyenMai = new JLabel();
+        jLabel26 = new JLabel();
+        btnDongChiTietHoaDon = new JButton();
+        btnInHoaDon = new JButton();
 
-        setBackground(new java.awt.Color(218, 218, 218));
-        setForeground(new java.awt.Color(218, 218, 218));
+        setBackground(new Color(218, 218, 218)); // Đã sửa
+        setForeground(new Color(218, 218, 218)); // Đã sửa
 
-        jPanel1.setBackground(new java.awt.Color(255, 255, 255));
+        jPanel1.setBackground(new Color(255, 255, 255)); // Đã sửa
 
-        lblTieuDeMaHoaDon.setFont(new java.awt.Font("Microsoft Sans Serif", 0, 24)); // NOI18N
-        lblTieuDeMaHoaDon.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
-        lblTieuDeMaHoaDon.setIcon(new javax.swing.ImageIcon("/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/train.png")); // NOI18N
+        lblTieuDeMaHoaDon.setFont(new Font("Microsoft Sans Serif", Font.PLAIN, 24)); // Đã sửa java.awt.Font -> Font
+        lblTieuDeMaHoaDon.setHorizontalAlignment(SwingConstants.CENTER); // Đã sửa javax.swing.SwingConstants -> SwingConstants
+        lblTieuDeMaHoaDon.setIcon(new ImageIcon("/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/train.png")); // Đã sửa javax.swing.ImageIcon -> ImageIcon
         lblTieuDeMaHoaDon.setText("Chi tiết hóa đơn HD2109202400010005 ");
 
-        jPanel2.setBackground(new java.awt.Color(255, 255, 255));
+        jPanel2.setBackground(new Color(255, 255, 255)); // Đã sửa
 
-        jLabel3.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
-        jLabel3.setForeground(new java.awt.Color(158, 158, 158));
+        jLabel3.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
+        jLabel3.setForeground(new Color(158, 158, 158)); // Đã sửa
         jLabel3.setText("Mã chuyến :");
 
-        jLabel4.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
-        jLabel4.setForeground(new java.awt.Color(158, 158, 158));
+        jLabel4.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
+        jLabel4.setForeground(new Color(158, 158, 158)); // Đã sửa
         jLabel4.setText("Ga đi :");
 
-        jLabel5.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
-        jLabel5.setForeground(new java.awt.Color(158, 158, 158));
+        jLabel5.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
+        jLabel5.setForeground(new Color(158, 158, 158)); // Đã sửa
         jLabel5.setText("Ngày đi :");
 
-        lblMaChuyen.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
+        lblMaChuyen.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
         lblMaChuyen.setText("C78324");
 
-        lblNgayKhoiHanh.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
+        lblNgayKhoiHanh.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
         lblNgayKhoiHanh.setText("21/08/2024");
 
-        lblGaDi.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
+        lblGaDi.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
         lblGaDi.setText("Sài Gòn");
 
-        lblGioKhoiHanh.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
+        lblGioKhoiHanh.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
         lblGioKhoiHanh.setText("08:30");
 
-        jLabel10.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
-        jLabel10.setForeground(new java.awt.Color(158, 158, 158));
+        jLabel10.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
+        jLabel10.setForeground(new Color(158, 158, 158)); // Đã sửa
         jLabel10.setText("Ga đến :");
 
-        lblGaDen.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
+        lblGaDen.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
         lblGaDen.setText("Hà Nội");
 
-        jLabel12.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
-        jLabel12.setForeground(new java.awt.Color(158, 158, 158));
+        jLabel12.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
+        jLabel12.setForeground(new Color(158, 158, 158)); // Đã sửa
         jLabel12.setText("Dự kiến :");
 
-        lblNgayDuKien.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
+        lblNgayDuKien.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
         lblNgayDuKien.setText("23/09/2024");
 
-        lblGioDuKien.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
+        lblGioDuKien.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
         lblGioDuKien.setText("06 : 45");
 
-        jLabel15.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
-        jLabel15.setForeground(new java.awt.Color(158, 158, 158));
+        jLabel15.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
+        jLabel15.setForeground(new Color(158, 158, 158)); // Đã sửa
         jLabel15.setText("Số hiệu tàu :");
 
-        lblSoHieuTau.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
+        lblSoHieuTau.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
         lblSoHieuTau.setText("SE1");
 
-        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
+        GroupLayout jPanel2Layout = new GroupLayout(jPanel2); // Đã sửa javax.swing.GroupLayout -> GroupLayout
         jPanel2.setLayout(jPanel2Layout);
-        jPanel2Layout.setHorizontalGroup(
-                jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+        jPanel2Layout.setHorizontalGroup( // Giữ nguyên cấu trúc layout
+                jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                         .addGroup(jPanel2Layout.createSequentialGroup()
                                 .addGap(71, 71, 71)
-                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
-                                        .addComponent(jLabel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
-                                        .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 84, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                        .addComponent(jLabel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
+                                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
+                                        .addComponent(jLabel3, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                        .addComponent(jLabel4, GroupLayout.PREFERRED_SIZE, 84, GroupLayout.PREFERRED_SIZE)
+                                        .addComponent(jLabel5, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                 .addGap(70, 70, 70)
-                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                         .addComponent(lblMaChuyen)
                                         .addComponent(lblGaDi)
                                         .addComponent(lblNgayKhoiHanh)
                                         .addComponent(lblGioKhoiHanh))
                                 .addGap(188, 188, 188)
-                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
-                                        .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel2Layout.createSequentialGroup()
+                                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.TRAILING, false)
+                                        .addGroup(GroupLayout.Alignment.LEADING, jPanel2Layout.createSequentialGroup()
                                                 .addComponent(jLabel12)
                                                 .addGap(94, 94, 94)
-                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                                         .addComponent(lblGioDuKien)
                                                         .addComponent(lblNgayDuKien)))
                                         .addGroup(jPanel2Layout.createSequentialGroup()
-                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                                                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
-                                                                .addComponent(jLabel10, javax.swing.GroupLayout.PREFERRED_SIZE, 79, javax.swing.GroupLayout.PREFERRED_SIZE)
+                                                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
+                                                        .addGroup(GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
+                                                                .addComponent(jLabel10, GroupLayout.PREFERRED_SIZE, 79, GroupLayout.PREFERRED_SIZE)
                                                                 .addGap(84, 84, 84))
                                                         .addGroup(jPanel2Layout.createSequentialGroup()
                                                                 .addComponent(jLabel15)
                                                                 .addGap(68, 68, 68)))
-                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                                         .addComponent(lblSoHieuTau)
                                                         .addComponent(lblGaDen))
                                                 .addGap(28, 28, 28)))
                                 .addContainerGap(80, Short.MAX_VALUE))
         );
-        jPanel2Layout.setVerticalGroup(
-                jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+        jPanel2Layout.setVerticalGroup( // Giữ nguyên cấu trúc layout
+                jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                         .addGroup(jPanel2Layout.createSequentialGroup()
-                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                         .addGroup(jPanel2Layout.createSequentialGroup()
                                                 .addGap(14, 14, 14)
-                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
+                                                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                                                         .addComponent(jLabel3)
                                                         .addComponent(lblMaChuyen)))
                                         .addGroup(jPanel2Layout.createSequentialGroup()
                                                 .addContainerGap()
-                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
+                                                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                                                         .addComponent(jLabel15)
                                                         .addComponent(lblSoHieuTau))))
-                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
+                                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                         .addGroup(jPanel2Layout.createSequentialGroup()
-                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
+                                                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                                                         .addComponent(lblGaDi)
                                                         .addComponent(jLabel4))
-                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
+                                                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                                         .addComponent(lblNgayKhoiHanh)
                                                         .addComponent(jLabel5))
-                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                                                 .addComponent(lblGioKhoiHanh))
                                         .addGroup(jPanel2Layout.createSequentialGroup()
-                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
+                                                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                                                         .addComponent(jLabel10)
                                                         .addComponent(lblGaDen))
-                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
+                                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
+                                                .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                                                         .addComponent(lblNgayDuKien)
                                                         .addComponent(jLabel12))
-                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                                                 .addComponent(lblGioDuKien)))
-                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
+                                .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
         );
 
-        jPanel3.setBackground(new java.awt.Color(255, 255, 255));
+        jPanel3.setBackground(new Color(255, 255, 255)); // Đã sửa
 
-        jLabel18.setBackground(new java.awt.Color(100, 100, 100));
-        jLabel18.setFont(new java.awt.Font("Oriya Sangam MN", 0, 16)); // NOI18N
-        jLabel18.setForeground(new java.awt.Color(255, 255, 255));
-        jLabel18.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
-        jLabel18.setIcon(new javax.swing.ImageIcon("/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/nhieuhanhkhach.png")); // NOI18N
+        jLabel18.setBackground(new Color(100, 100, 100)); // Đã sửa
+        jLabel18.setFont(new Font("Oriya Sangam MN", Font.PLAIN, 16)); // Đã sửa
+        jLabel18.setForeground(new Color(255, 255, 255)); // Đã sửa
+        jLabel18.setHorizontalAlignment(SwingConstants.CENTER); // Đã sửa
+        jLabel18.setIcon(new ImageIcon("/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/nhieuhanhkhach.png")); // Đã sửa
         jLabel18.setText("Hành khách ");
-        jLabel18.setSize(new java.awt.Dimension(17, 60));
+        jLabel18.setSize(new Dimension(17, 60)); // Đã sửa
 
-        jLabel19.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
-        jLabel19.setForeground(new java.awt.Color(158, 158, 158));
+        jLabel19.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
+        jLabel19.setForeground(new Color(158, 158, 158)); // Đã sửa
         jLabel19.setText("Họ tên :");
 
-        jLabel20.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
-        jLabel20.setForeground(new java.awt.Color(158, 158, 158));
+        jLabel20.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
+        jLabel20.setForeground(new Color(158, 158, 158)); // Đã sửa
         jLabel20.setText("Email :");
 
-        jLabel21.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
-        jLabel21.setForeground(new java.awt.Color(158, 158, 158));
+        jLabel21.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
+        jLabel21.setForeground(new Color(158, 158, 158)); // Đã sửa
         jLabel21.setText("Số điện thoại :");
 
-        lblTenHanhKhach.setFont(new java.awt.Font("Kailasa", 0, 17)); // NOI18N
+        lblTenHanhKhach.setFont(new Font("Kailasa", Font.PLAIN, 17)); // Đã sửa
         lblTenHanhKhach.setText("Nguyễn Văn Nam");
 
-        lblEmail.setFont(new java.awt.Font("Kailasa", 0, 17)); // NOI18N
-        lblEmail.setIcon(new javax.swing.ImageIcon("/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/email.png")); // NOI18N
+        lblEmail.setFont(new Font("Kailasa", Font.PLAIN, 17)); // Đã sửa
+        lblEmail.setIcon(new ImageIcon("/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/email.png")); // Đã sửa
         lblEmail.setText("abcxyz@gmail.com");
 
-        lblSoDienThoai.setFont(new java.awt.Font("Kailasa", 0, 17)); // NOI18N
-        lblSoDienThoai.setIcon(new javax.swing.ImageIcon("/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/telephone.png")); // NOI18N
+        lblSoDienThoai.setFont(new Font("Kailasa", Font.PLAIN, 17)); // Đã sửa
+        lblSoDienThoai.setIcon(new ImageIcon("/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/telephone.png")); // Đã sửa
         lblSoDienThoai.setText("0123456789");
 
-        jLabel25.setBackground(new java.awt.Color(100, 100, 100));
-        jLabel25.setFont(new java.awt.Font("Oriya Sangam MN", 0, 16)); // NOI18N
-        jLabel25.setForeground(new java.awt.Color(255, 255, 255));
-        jLabel25.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
-        jLabel25.setIcon(new javax.swing.ImageIcon("/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/hanhkhach.png")); // NOI18N
+        jLabel25.setBackground(new Color(100, 100, 100)); // Đã sửa
+        jLabel25.setFont(new Font("Oriya Sangam MN", Font.PLAIN, 16)); // Đã sửa
+        jLabel25.setForeground(new Color(255, 255, 255)); // Đã sửa
+        jLabel25.setHorizontalAlignment(SwingConstants.CENTER); // Đã sửa
+        jLabel25.setIcon(new ImageIcon("/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/hanhkhach.png")); // Đã sửa
         jLabel25.setText(" Người đặt vé  ");
 
-        BangChiTietHanhKhach.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
-        BangChiTietHanhKhach.setFont(new java.awt.Font("Helvetica Neue", 0, 15)); // NOI18N
-        BangChiTietHanhKhach.setModel(new javax.swing.table.DefaultTableModel(
+        BangChiTietHanhKhach.setBorder(BorderFactory.createEmptyBorder(1, 1, 1, 1)); // Đã sửa javax.swing.BorderFactory -> BorderFactory
+        BangChiTietHanhKhach.setFont(new Font("Helvetica Neue", Font.PLAIN, 15)); // Đã sửa
+        BangChiTietHanhKhach.setModel(new DefaultTableModel( // Đã sửa javax.swing.table.DefaultTableModel -> DefaultTableModel
                 new Object [][] {
-                        { new Integer(1), "Nguyễn Văn Nam", "044180000960", "Người lớn", "900.000đ", "0", "900.000đ"},
-                        { new Integer(2), "Nguyễn Trúc Thùy Tiên", "077202000870", "Sinh Viên", "900.000đ", "10", "810.000đ"},
-                        { new Integer(3), "Trần Đức Nam", "044210000102", "Trẻ em", "871.000đ", "15", "740.000đ"},
+                        { 1, "Nguyễn Văn Nam", "044180000960", "Người lớn", "900.000đ", "0", "900.000đ"}, // Integer tự động boxing/unboxing
+                        { 2, "Nguyễn Trúc Thùy Tiên", "077202000870", "Sinh Viên", "900.000đ", "10", "810.000đ"},
+                        { 3, "Trần Đức Nam", "044210000102", "Trẻ em", "871.000đ", "15", "740.000đ"},
                         {null, null, null, null, null, null, null}
                 },
                 new String [] {
                         "STT", "Họ và tên", "Định danh/CCCD", "Loại vé", "Giá vé", "Khuyến mãi (%)", "Thành tiền"
                 }
         ) {
-            Class[] types = new Class [] {
-                    java.lang.Integer.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.Object.class, java.lang.Object.class, java.lang.String.class
+            // Đã sửa java.lang.* -> *
+            Class<?>[] types = new Class [] {
+                    Integer.class, String.class, String.class, String.class, Object.class, Object.class, String.class
             };
 
-            public Class getColumnClass(int columnIndex) {
+            @Override
+            public Class<?> getColumnClass(int columnIndex) { // Đã sửa Class -> Class<?>
                 return types [columnIndex];
             }
         });
         BangChiTietHanhKhach.setRowHeight(30);
         jScrollPane1.setViewportView(BangChiTietHanhKhach);
 
-        btnSoLuongVe.setFont(new java.awt.Font("Helvetica Neue", 1, 13)); // NOI18N
-        btnSoLuongVe.setForeground(new java.awt.Color(204, 204, 204));
-        btnSoLuongVe.setText("Số lượng: 3");
-        btnSoLuongVe.addActionListener(new java.awt.event.ActionListener() {
-            public void actionPerformed(java.awt.event.ActionEvent evt) {
+        btnSoLuongVe.setFont(new Font("Helvetica Neue", Font.BOLD, 13)); // Đã sửa
+        btnSoLuongVe.setForeground(new Color(0, 0, 0)); // Đã sửa
+        btnSoLuongVe.setText("3 vé");
+        btnSoLuongVe.addActionListener(new ActionListener() { // Đã sửa
+            public void actionPerformed(ActionEvent evt) { // Đã sửa
                 btnSoLuongVeActionPerformed(evt);
             }
         });
 
-        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
+        GroupLayout jPanel3Layout = new GroupLayout(jPanel3); // Đã sửa
         jPanel3.setLayout(jPanel3Layout);
-        jPanel3Layout.setHorizontalGroup(
-                jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+        jPanel3Layout.setHorizontalGroup( // Giữ nguyên cấu trúc layout
+                jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                         .addGroup(jPanel3Layout.createSequentialGroup()
                                 .addGap(29, 29, 29)
-                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                         .addComponent(jLabel25)
                                         .addGroup(jPanel3Layout.createSequentialGroup()
                                                 .addComponent(jLabel18)
                                                 .addGap(39, 39, 39)
-                                                .addComponent(btnSoLuongVe, javax.swing.GroupLayout.PREFERRED_SIZE, 57, javax.swing.GroupLayout.PREFERRED_SIZE))
+                                                .addComponent(btnSoLuongVe))
                                         .addGroup(jPanel3Layout.createSequentialGroup()
-                                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                                         .addGroup(jPanel3Layout.createSequentialGroup()
                                                                 .addGap(41, 41, 41)
-                                                                .addComponent(jLabel19, javax.swing.GroupLayout.PREFERRED_SIZE, 74, javax.swing.GroupLayout.PREFERRED_SIZE)
+                                                                .addComponent(jLabel19, GroupLayout.PREFERRED_SIZE, 74, GroupLayout.PREFERRED_SIZE)
                                                                 .addGap(134, 134, 134)
                                                                 .addComponent(jLabel21))
                                                         .addGroup(jPanel3Layout.createSequentialGroup()
                                                                 .addGap(56, 56, 56)
                                                                 .addComponent(lblTenHanhKhach)
                                                                 .addGap(78, 78, 78)
-                                                                .addComponent(lblSoDienThoai, javax.swing.GroupLayout.PREFERRED_SIZE, 161, javax.swing.GroupLayout.PREFERRED_SIZE)))
-                                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                                                .addComponent(lblSoDienThoai, GroupLayout.PREFERRED_SIZE, 161, GroupLayout.PREFERRED_SIZE)))
+                                                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                                         .addGroup(jPanel3Layout.createSequentialGroup()
                                                                 .addGap(67, 67, 67)
-                                                                .addComponent(lblEmail, javax.swing.GroupLayout.PREFERRED_SIZE, 214, javax.swing.GroupLayout.PREFERRED_SIZE))
+                                                                .addComponent(lblEmail, GroupLayout.PREFERRED_SIZE, 214, GroupLayout.PREFERRED_SIZE))
                                                         .addGroup(jPanel3Layout.createSequentialGroup()
                                                                 .addGap(43, 43, 43)
-                                                                .addComponent(jLabel20, javax.swing.GroupLayout.PREFERRED_SIZE, 74, javax.swing.GroupLayout.PREFERRED_SIZE)))))
-                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
+                                                                .addComponent(jLabel20, GroupLayout.PREFERRED_SIZE, 74, GroupLayout.PREFERRED_SIZE)))))
+                                .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                         .addGroup(jPanel3Layout.createSequentialGroup()
-                                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 823, javax.swing.GroupLayout.PREFERRED_SIZE)
+                                .addComponent(jScrollPane1, GroupLayout.PREFERRED_SIZE, 823, GroupLayout.PREFERRED_SIZE)
                                 .addGap(0, 0, Short.MAX_VALUE))
         );
-        jPanel3Layout.setVerticalGroup(
-                jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+        jPanel3Layout.setVerticalGroup( // Giữ nguyên cấu trúc layout
+                jPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                         .addGroup(jPanel3Layout.createSequentialGroup()
                                 .addGap(12, 12, 12)
-                                .addComponent(jLabel25, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
-                                        .addComponent(jLabel19, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                .addComponent(jLabel25, GroupLayout.PREFERRED_SIZE, 25, GroupLayout.PREFERRED_SIZE)
+                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
+                                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
+                                        .addComponent(jLabel19, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                         .addComponent(jLabel20)
-                                        .addComponent(jLabel21, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
-                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
+                                        .addComponent(jLabel21, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
+                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
+                                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
                                         .addComponent(lblTenHanhKhach)
-                                        .addComponent(lblSoDienThoai, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                        .addComponent(lblEmail, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
+                                        .addComponent(lblSoDienThoai, GroupLayout.PREFERRED_SIZE, 29, GroupLayout.PREFERRED_SIZE)
+                                        .addComponent(lblEmail, GroupLayout.PREFERRED_SIZE, 27, GroupLayout.PREFERRED_SIZE))
                                 .addGap(18, 18, 18)
-                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
-                                        .addComponent(jLabel18, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
+                                .addGroup(jPanel3Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
+                                        .addComponent(jLabel18, GroupLayout.PREFERRED_SIZE, 27, GroupLayout.PREFERRED_SIZE)
                                         .addComponent(btnSoLuongVe))
                                 .addGap(18, 18, 18)
-                                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 137, javax.swing.GroupLayout.PREFERRED_SIZE))
+                                .addComponent(jScrollPane1, GroupLayout.PREFERRED_SIZE, 137, GroupLayout.PREFERRED_SIZE))
         );
 
-        lblTieuDeHanhKhach.setFont(new java.awt.Font("Noto Sans Tagalog", 0, 16)); // NOI18N
+        lblTieuDeHanhKhach.setFont(new Font("Noto Sans Tagalog", Font.PLAIN, 16)); // Đã sửa
         lblTieuDeHanhKhach.setText("- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -");
 
-        jPanel4.setBackground(new java.awt.Color(255, 255, 255));
+        jPanel4.setBackground(new Color(255, 255, 255)); // Đã sửa
 
-        lblNgayLapHD.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
-        lblNgayLapHD.setIcon(new javax.swing.ImageIcon("/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/schedule.png")); // NOI18N
+        lblNgayLapHD.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // Đã sửa
+        lblNgayLapHD.setIcon(new ImageIcon("/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/schedule.png")); // Đã sửa
         lblNgayLapHD.setText("19/08/2024");
 
-        jLabel29.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
-        jLabel29.setForeground(new java.awt.Color(158, 158, 158));
+        jLabel29.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // Đã sửa
+        jLabel29.setForeground(new Color(158, 158, 158)); // Đã sửa
         jLabel29.setText("Ngày lập :");
 
-        jLabel31.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
-        jLabel31.setForeground(new java.awt.Color(158, 158, 158));
+        jLabel31.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // Đã sửa
+        jLabel31.setForeground(new Color(158, 158, 158)); // Đã sửa
         jLabel31.setText("Số tiền phải thanh toán :");
 
-        lblSoTienPhaiThanhToan.setFont(new java.awt.Font("Helvetica Neue", 0, 20)); // NOI18N
-        lblSoTienPhaiThanhToan.setIcon(new javax.swing.ImageIcon("/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/payment-success.png")); // NOI18N
+        lblSoTienPhaiThanhToan.setFont(new Font("Helvetica Neue", Font.PLAIN, 20)); // Đã sửa
+        lblSoTienPhaiThanhToan.setIcon(new ImageIcon("/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/payment-success.png")); // Đã sửa
         lblSoTienPhaiThanhToan.setText("2.240.000 ₫");
 
-        jLabel33.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
-        jLabel33.setForeground(new java.awt.Color(158, 158, 158));
+        jLabel33.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // Đã sửa
+        jLabel33.setForeground(new Color(158, 158, 158)); // Đã sửa
         jLabel33.setText("Khuyến mãi :");
 
-        lblPhuongThucThanhToan.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
+        lblPhuongThucThanhToan.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // Đã sửa
         lblPhuongThucThanhToan.setText("Tiền mặt");
 
-        jLabel30.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
-        jLabel30.setForeground(new java.awt.Color(158, 158, 158));
+        jLabel30.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // Đã sửa
+        jLabel30.setForeground(new Color(158, 158, 158)); // Đã sửa
         jLabel30.setText("Người lập hóa đơn:");
 
-        lblTenNguoiLap.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
+        lblTenNguoiLap.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // Đã sửa
         lblTenNguoiLap.setText("Phạm Lan Thy");
 
-        jLabel27.setFont(new java.awt.Font("Helvetica Neue", 0, 19)); // NOI18N
-        jLabel27.setForeground(new java.awt.Color(158, 158, 158));
-        jLabel27.setIcon(new javax.swing.ImageIcon("/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/payment-method.png")); // NOI18N
+        jLabel27.setFont(new Font("Helvetica Neue", Font.PLAIN, 19)); // Đã sửa
+        jLabel27.setForeground(new Color(158, 158, 158)); // Đã sửa
+        jLabel27.setIcon(new ImageIcon("/Users/laptoptt/Project_BanVeTau/Train-Ticket-Management-Application/src/images/payment-method.png")); // Đã sửa
         jLabel27.setText(":");
 
-        jLabel32.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
-        jLabel32.setForeground(new java.awt.Color(158, 158, 158));
-        jLabel32.setText("Tổng tiền :");
+        jLabel32.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // Đã sửa
+        jLabel32.setForeground(new Color(158, 158, 158)); // Đã sửa
+        jLabel32.setText("Tổng cộng :");
 
-        lblKMchoHoaDon.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
+        lblKMchoHoaDon.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // Đã sửa
         lblKMchoHoaDon.setText("5%");
 
-        jLabel34.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
-        jLabel34.setForeground(new java.awt.Color(158, 158, 158));
+        jLabel34.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // Đã sửa
+        jLabel34.setForeground(new Color(158, 158, 158)); // Đã sửa
         jLabel34.setText("Nội dung :");
 
-        lblTongTien.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
+        lblTongTien.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // Đã sửa
         lblTongTien.setText("2.240.000 đ");
 
-        jLabel22.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
-        jLabel22.setForeground(new java.awt.Color(158, 158, 158));
+        jLabel22.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
+        jLabel22.setForeground(new Color(158, 158, 158)); // Đã sửa
         jLabel22.setText("Người thanh toán :");
 
-        lblNguoiThanhToan.setFont(new java.awt.Font("Kailasa", 0, 16)); // NOI18N
+        lblNguoiThanhToan.setFont(new Font("Kailasa", Font.PLAIN, 16)); // Đã sửa
         lblNguoiThanhToan.setText("Nguyễn Văn Nam");
 
-        jLabel35.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
-        jLabel35.setForeground(new java.awt.Color(158, 158, 158));
+        jLabel35.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // Đã sửa
+        jLabel35.setForeground(new Color(158, 158, 158)); // Đã sửa
         jLabel35.setText("Phương thức");
 
-        lblNoiDungKhuyenMai.setFont(new java.awt.Font("Helvetica Neue", 0, 16)); // NOI18N
+        lblNoiDungKhuyenMai.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // Đã sửa
         lblNoiDungKhuyenMai.setText("Giảm trực tiếp cho hóa đơn");
 
-        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
+        GroupLayout jPanel4Layout = new GroupLayout(jPanel4); // Đã sửa
         jPanel4.setLayout(jPanel4Layout);
-        jPanel4Layout.setHorizontalGroup(
-                jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+        jPanel4Layout.setHorizontalGroup( // Giữ nguyên cấu trúc layout
+                jPanel4Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                         .addGroup(jPanel4Layout.createSequentialGroup()
                                 .addGap(80, 80, 80)
-                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                .addGroup(jPanel4Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                         .addGroup(jPanel4Layout.createSequentialGroup()
-                                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                                .addGroup(jPanel4Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                                         .addGroup(jPanel4Layout.createSequentialGroup()
                                                                 .addComponent(jLabel30)
                                                                 .addGap(18, 18, 18)
                                                                 .addComponent(lblTenNguoiLap))
                                                         .addGroup(jPanel4Layout.createSequentialGroup()
-                                                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
-                                                                        .addComponent(jLabel33, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
-                                                                        .addComponent(jLabel32, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 88, javax.swing.GroupLayout.PREFERRED_SIZE)
+                                                                .addGroup(jPanel4Layout.createParallelGroup(GroupLayout.Alignment.TRAILING, false)
+                                                                        .addComponent(jLabel33, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                                                        .addComponent(jLabel32, GroupLayout.Alignment.LEADING, GroupLayout.PREFERRED_SIZE, 88, GroupLayout.PREFERRED_SIZE)
                                                                         .addGroup(jPanel4Layout.createSequentialGroup()
-                                                                                .addComponent(jLabel35, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
-                                                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                                                                .addComponent(jLabel27, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))
-                                                                        .addComponent(jLabel22, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 149, javax.swing.GroupLayout.PREFERRED_SIZE))
-                                                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                                                                .addComponent(jLabel35, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                                                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
+                                                                                .addComponent(jLabel27, GroupLayout.PREFERRED_SIZE, 37, GroupLayout.PREFERRED_SIZE))
+                                                                        .addComponent(jLabel22, GroupLayout.Alignment.LEADING, GroupLayout.PREFERRED_SIZE, 149, GroupLayout.PREFERRED_SIZE))
+                                                                .addGroup(jPanel4Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                                                         .addGroup(jPanel4Layout.createSequentialGroup()
                                                                                 .addGap(11, 11, 11)
                                                                                 .addComponent(lblTongTien))
                                                                         .addGroup(jPanel4Layout.createSequentialGroup()
-                                                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
-                                                                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                                                                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
+                                                                                .addGroup(jPanel4Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                                                                         .addComponent(lblPhuongThucThanhToan)
                                                                                         .addComponent(lblKMchoHoaDon)
                                                                                         .addComponent(lblNguoiThanhToan))))))
                                                 .addGap(59, 59, 59)
-                                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                                .addGroup(jPanel4Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                                         .addGroup(jPanel4Layout.createSequentialGroup()
-                                                                .addComponent(jLabel34, javax.swing.GroupLayout.PREFERRED_SIZE, 106, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                                                                .addComponent(jLabel34, GroupLayout.PREFERRED_SIZE, 106, GroupLayout.PREFERRED_SIZE)
+                                                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
                                                                 .addComponent(lblNoiDungKhuyenMai))
                                                         .addGroup(jPanel4Layout.createSequentialGroup()
-                                                                .addComponent(jLabel29, javax.swing.GroupLayout.PREFERRED_SIZE, 97, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                                                .addComponent(lblNgayLapHD, javax.swing.GroupLayout.PREFERRED_SIZE, 197, javax.swing.GroupLayout.PREFERRED_SIZE)))
+                                                                .addComponent(jLabel29, GroupLayout.PREFERRED_SIZE, 97, GroupLayout.PREFERRED_SIZE)
+                                                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
+                                                                .addComponent(lblNgayLapHD, GroupLayout.PREFERRED_SIZE, 197, GroupLayout.PREFERRED_SIZE)))
                                                 .addGap(110, 110, Short.MAX_VALUE))
                                         .addGroup(jPanel4Layout.createSequentialGroup()
-                                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                                                        .addComponent(lblSoTienPhaiThanhToan, javax.swing.GroupLayout.PREFERRED_SIZE, 236, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                                        .addComponent(jLabel31, javax.swing.GroupLayout.PREFERRED_SIZE, 202, javax.swing.GroupLayout.PREFERRED_SIZE))
+                                                .addGroup(jPanel4Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
+                                                        .addComponent(lblSoTienPhaiThanhToan, GroupLayout.PREFERRED_SIZE, 236, GroupLayout.PREFERRED_SIZE)
+                                                        .addComponent(jLabel31, GroupLayout.PREFERRED_SIZE, 202, GroupLayout.PREFERRED_SIZE))
                                                 .addGap(0, 0, Short.MAX_VALUE))))
         );
-        jPanel4Layout.setVerticalGroup(
-                jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+        jPanel4Layout.setVerticalGroup( // Giữ nguyên cấu trúc layout
+                jPanel4Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                         .addGroup(jPanel4Layout.createSequentialGroup()
-                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
-                                        .addComponent(jLabel30, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                        .addComponent(lblTenNguoiLap, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                        .addComponent(jLabel29, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                        .addComponent(lblNgayLapHD, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
-                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
-                                        .addComponent(jLabel32, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                        .addComponent(lblTongTien, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
-                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
-                                        .addComponent(jLabel33, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                        .addComponent(lblKMchoHoaDon, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                        .addComponent(jLabel34, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                        .addComponent(lblNoiDungKhuyenMai, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
-                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
-                                        .addComponent(jLabel27, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                        .addComponent(jLabel35, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
+                                .addGroup(jPanel4Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
+                                        .addComponent(jLabel30, GroupLayout.PREFERRED_SIZE, 24, GroupLayout.PREFERRED_SIZE)
+                                        .addComponent(lblTenNguoiLap, GroupLayout.PREFERRED_SIZE, 20, GroupLayout.PREFERRED_SIZE)
+                                        .addComponent(jLabel29, GroupLayout.PREFERRED_SIZE, 24, GroupLayout.PREFERRED_SIZE)
+                                        .addComponent(lblNgayLapHD, GroupLayout.PREFERRED_SIZE, 20, GroupLayout.PREFERRED_SIZE))
+                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
+                                .addGroup(jPanel4Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
+                                        .addComponent(jLabel32, GroupLayout.PREFERRED_SIZE, 24, GroupLayout.PREFERRED_SIZE)
+                                        .addComponent(lblTongTien, GroupLayout.PREFERRED_SIZE, 20, GroupLayout.PREFERRED_SIZE))
+                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
+                                .addGroup(jPanel4Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
+                                        .addComponent(jLabel33, GroupLayout.PREFERRED_SIZE, 29, GroupLayout.PREFERRED_SIZE)
+                                        .addComponent(lblKMchoHoaDon, GroupLayout.PREFERRED_SIZE, 20, GroupLayout.PREFERRED_SIZE)
+                                        .addComponent(jLabel34, GroupLayout.PREFERRED_SIZE, 29, GroupLayout.PREFERRED_SIZE)
+                                        .addComponent(lblNoiDungKhuyenMai, GroupLayout.PREFERRED_SIZE, 20, GroupLayout.PREFERRED_SIZE))
+                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
+                                .addGroup(jPanel4Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
+                                        .addComponent(jLabel27, GroupLayout.PREFERRED_SIZE, 29, GroupLayout.PREFERRED_SIZE)
+                                        .addComponent(jLabel35, GroupLayout.PREFERRED_SIZE, 29, GroupLayout.PREFERRED_SIZE)
                                         .addComponent(lblPhuongThucThanhToan))
-                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
-                                        .addComponent(jLabel22, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
+                                .addGroup(jPanel4Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
+                                        .addComponent(jLabel22, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                         .addComponent(lblNguoiThanhToan))
                                 .addGap(29, 29, 29)
                                 .addComponent(jLabel31)
-                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                .addComponent(lblSoTienPhaiThanhToan, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE)
+                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
+                                .addComponent(lblSoTienPhaiThanhToan, GroupLayout.PREFERRED_SIZE, 28, GroupLayout.PREFERRED_SIZE)
                                 .addContainerGap(40, Short.MAX_VALUE))
         );
 
-        jLabel26.setFont(new java.awt.Font("Noto Sans Tagalog", 0, 16)); // NOI18N
+        jLabel26.setFont(new Font("Noto Sans Tagalog", Font.PLAIN, 16)); // Đã sửa
         jLabel26.setText("- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -");
 
-        btnDongChiTietHoaDon.setBackground(new java.awt.Color(255, 0, 0));
-        btnDongChiTietHoaDon.setFont(new java.awt.Font("Helvetica Neue", 0, 24)); // NOI18N
-        btnDongChiTietHoaDon.setForeground(new java.awt.Color(255, 255, 255));
+        btnDongChiTietHoaDon.setBackground(new Color(255, 0, 0)); // Đã sửa
+        btnDongChiTietHoaDon.setFont(new Font("Helvetica Neue", Font.PLAIN, 24)); // Đã sửa
+        btnDongChiTietHoaDon.setForeground(new Color(255, 255, 255)); // Đã sửa
         btnDongChiTietHoaDon.setText("X");
-        btnDongChiTietHoaDon.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(255, 0, 51)));
-        btnDongChiTietHoaDon.addActionListener(new java.awt.event.ActionListener() {
-            public void actionPerformed(java.awt.event.ActionEvent evt) {
+        btnDongChiTietHoaDon.setBorder(BorderFactory.createLineBorder(new Color(255, 0, 51))); // Đã sửa
+        btnDongChiTietHoaDon.addActionListener(new ActionListener() { // Đã sửa
+            public void actionPerformed(ActionEvent evt) { // Đã sửa
                 btnDongChiTietHoaDonActionPerformed(evt);
             }
         });
 
-        btnInHoaDon.setBackground(new java.awt.Color(0, 222, 40));
-        btnInHoaDon.setFont(new java.awt.Font("Helvetica Neue", 1, 16)); // NOI18N
-        btnInHoaDon.setForeground(new java.awt.Color(255, 255, 255));
+        btnInHoaDon.setBackground(new Color(0, 222, 40)); // Đã sửa
+        btnInHoaDon.setFont(new Font("Helvetica Neue", Font.BOLD, 16)); // Đã sửa
+        btnInHoaDon.setForeground(new Color(255, 255, 255)); // Đã sửa
         btnInHoaDon.setText("In hóa đơn");
-        btnInHoaDon.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
+        btnInHoaDon.setBorder(BorderFactory.createEmptyBorder(1, 1, 1, 1)); // Đã sửa
 
-        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
+        GroupLayout jPanel1Layout = new GroupLayout(jPanel1); // Đã sửa
         jPanel1.setLayout(jPanel1Layout);
-        jPanel1Layout.setHorizontalGroup(
-                jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+        jPanel1Layout.setHorizontalGroup( // Giữ nguyên cấu trúc layout
+                jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                         .addGroup(jPanel1Layout.createSequentialGroup()
-                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                         .addGroup(jPanel1Layout.createSequentialGroup()
                                                 .addGap(29, 29, 29)
-                                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                                         .addGroup(jPanel1Layout.createSequentialGroup()
-                                                                .addComponent(lblTieuDeMaHoaDon, javax.swing.GroupLayout.PREFERRED_SIZE, 814, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
+                                                                .addComponent(lblTieuDeMaHoaDon, GroupLayout.PREFERRED_SIZE, 814, GroupLayout.PREFERRED_SIZE)
+                                                                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
                                                                 .addComponent(btnDongChiTietHoaDon))
-                                                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
-                                                                .addComponent(lblTieuDeHanhKhach, javax.swing.GroupLayout.DEFAULT_SIZE, 1073, Short.MAX_VALUE)
-                                                                .addComponent(jLabel26, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
-                                                                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                                                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                                                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
+                                                        .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
+                                                                .addComponent(lblTieuDeHanhKhach, GroupLayout.DEFAULT_SIZE, 1073, Short.MAX_VALUE)
+                                                                .addComponent(jLabel26, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                                                .addComponent(jPanel4, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
+                                                                .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
+                                                                .addComponent(jPanel3, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))))
                                         .addGroup(jPanel1Layout.createSequentialGroup()
                                                 .addGap(217, 217, 217)
-                                                .addComponent(btnInHoaDon, javax.swing.GroupLayout.PREFERRED_SIZE, 492, javax.swing.GroupLayout.PREFERRED_SIZE)))
+                                                .addComponent(btnInHoaDon, GroupLayout.PREFERRED_SIZE, 492, GroupLayout.PREFERRED_SIZE)))
                                 .addGap(0, 0, Short.MAX_VALUE))
         );
-        jPanel1Layout.setVerticalGroup(
-                jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+        jPanel1Layout.setVerticalGroup( // Giữ nguyên cấu trúc layout
+                jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                         .addGroup(jPanel1Layout.createSequentialGroup()
-                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                                .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                                         .addGroup(jPanel1Layout.createSequentialGroup()
                                                 .addContainerGap()
-                                                .addComponent(lblTieuDeMaHoaDon, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE))
+                                                .addComponent(lblTieuDeMaHoaDon, GroupLayout.PREFERRED_SIZE, 42, GroupLayout.PREFERRED_SIZE))
                                         .addComponent(btnDongChiTietHoaDon))
-                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
-                                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                .addComponent(lblTieuDeHanhKhach, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                .addComponent(jLabel26, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
+                                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
+                                .addComponent(jPanel2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
+                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
+                                .addComponent(lblTieuDeHanhKhach, GroupLayout.PREFERRED_SIZE, 26, GroupLayout.PREFERRED_SIZE)
+                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
+                                .addComponent(jPanel3, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
+                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
+                                .addComponent(jLabel26, GroupLayout.PREFERRED_SIZE, 26, GroupLayout.PREFERRED_SIZE)
+                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
+                                .addComponent(jPanel4, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                                 .addGap(18, 18, 18)
-                                .addComponent(btnInHoaDon, javax.swing.GroupLayout.PREFERRED_SIZE, 44, javax.swing.GroupLayout.PREFERRED_SIZE)
+                                .addComponent(btnInHoaDon, GroupLayout.PREFERRED_SIZE, 44, GroupLayout.PREFERRED_SIZE)
                                 .addContainerGap(17, Short.MAX_VALUE))
         );
 
-        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
+        GroupLayout layout = new GroupLayout(this); // Đã sửa
         this.setLayout(layout);
-        layout.setHorizontalGroup(
-                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
-                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
-                                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, 886, javax.swing.GroupLayout.PREFERRED_SIZE)
+        layout.setHorizontalGroup( // Giữ nguyên cấu trúc layout
+                layout.createParallelGroup(GroupLayout.Alignment.LEADING)
+                        .addGroup(GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
+                                .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                .addComponent(jPanel1, GroupLayout.PREFERRED_SIZE, 886, GroupLayout.PREFERRED_SIZE)
                                 .addContainerGap())
         );
-        layout.setVerticalGroup(
-                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+        layout.setVerticalGroup( // Giữ nguyên cấu trúc layout
+                layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                         .addGroup(layout.createSequentialGroup()
                                 .addContainerGap()
-                                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
+                                .addComponent(jPanel1, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
                                 .addContainerGap(16, Short.MAX_VALUE))
         );
     }// </editor-fold>
 
-    private void btnDongChiTietHoaDonActionPerformed(java.awt.event.ActionEvent evt) {
-        // TODO add your handling code here:
-        // Lấy cửa sổ JFrame cha
-        JFrame topFrame = (JFrame) SwingUtilities.getWindowAncestor(this);
-
+    // Đã sửa java.awt.event.ActionEvent -> ActionEvent
+    private void btnDongChiTietHoaDonActionPerformed(ActionEvent evt) {
+        JFrame topFrame = (JFrame) SwingUtilities.getWindowAncestor(this); // Đã sửa javax.swing.* -> *
         if (topFrame != null) {
-            // Lấy cái Glass Pane (chính là cái nền mờ đang chứa popup này)
-            java.awt.Component glassPane = topFrame.getGlassPane();
-
-            // Và ẩn nó đi
+            Component glassPane = topFrame.getGlassPane(); // Đã sửa java.awt.Component -> Component
             glassPane.setVisible(false);
         }
     }
 
-    private void btnSoLuongVeActionPerformed(java.awt.event.ActionEvent evt) {
+    // Đã sửa
+    private void btnSoLuongVeActionPerformed(ActionEvent evt) {
         // TODO add your handling code here:
     }
 
-
+    // Variables declaration - do not modify
+    // Đã sửa javax.swing.* -> Simple names và gom nhóm
+    private JTable BangChiTietHanhKhach;
+    private JButton btnDongChiTietHoaDon, btnInHoaDon, btnSoLuongVe;
+    private JLabel jLabel10, jLabel12, jLabel15, jLabel18, jLabel19, jLabel20, jLabel21, jLabel22, jLabel25, jLabel26, jLabel27, jLabel29, jLabel3, jLabel30, jLabel31, jLabel32, jLabel33, jLabel34, jLabel35, jLabel4, jLabel5, lblEmail, lblGaDen, lblGaDi, lblGioDuKien, lblGioKhoiHanh, lblKMchoHoaDon, lblMaChuyen, lblNgayDuKien, lblNgayKhoiHanh, lblNgayLapHD, lblNguoiThanhToan, lblNoiDungKhuyenMai, lblPhuongThucThanhToan, lblSoDienThoai, lblSoHieuTau, lblSoTienPhaiThanhToan, lblTenHanhKhach, lblTenNguoiLap, lblTieuDeHanhKhach, lblTieuDeMaHoaDon, lblTongTien;
+    private JPanel jPanel1, jPanel2, jPanel3, jPanel4;
+    private JScrollPane jScrollPane1;
+    // End of variables declaration
 
-
+    // --- HÀM MAIN GIỮ NGUYÊN HOÀN TOÀN ---
     public static void main(String[] args) {
-        JFrame frame = new javax.swing.JFrame("Test Màn Hình Tra Cứu");
+        // 1. Tạo một cửa sổ mới
+        // Đã sửa javax.swing.JFrame -> JFrame
+        JFrame frame = new JFrame("Test Màn Hình Tra Cứu");
 
         // 2. Tạo một bản sao của JPanel (chính là class này)
         PopUpChiTietHoaDon panel = new PopUpChiTietHoaDon();
@@ -788,7 +741,8 @@
         frame.setContentPane(panel);
 
         // 4. Thiết lập hành động mặc định khi bấm nút X (tắt chương trình)
-        frame.setDefaultCloseOperation(javax.swing.JFrame.EXIT_ON_CLOSE);
+        // Đã sửa javax.swing.JFrame -> JFrame
+        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
 
         // 5. Tự động điều chỉnh kích thước cửa sổ vừa với nội dung panel
         frame.pack();
@@ -799,4 +753,5 @@
         // 7. Hiển thị cửa sổ
         frame.setVisible(true);
     }
-}
+    // ---------------------------------------------
+}
\ No newline at end of file
Index: src/gui/Panel/ManHinhTraCuuHoaDon.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package gui.Panel; // <-- Đảm bảo tên package đúng\n\n// AWT Imports\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagLayout;\nimport java.awt.RenderingHints;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\n// Swing Imports\nimport javax.swing.BorderFactory;\nimport javax.swing.DefaultComboBoxModel;\nimport javax.swing.GroupLayout;\nimport javax.swing.JButton;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.JTextField;\nimport javax.swing.LayoutStyle;\nimport javax.swing.SwingConstants;\nimport javax.swing.SwingUtilities;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\n// Swing Border Imports\nimport javax.swing.border.BevelBorder;\nimport javax.swing.border.SoftBevelBorder;\n\n// Swing Table Imports\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.JTableHeader;\nimport javax.swing.table.TableColumnModel;\n\n/**\n *\n * @author TranSon-Code\n */\npublic class ManHinhTraCuuHoaDon extends JPanel {\n\n    /**\n     * Creates new form ManHinhTraCuuHoaDon\n     */\n    public ManHinhTraCuuHoaDon() {\n        initComponents(); // Khởi tạo component từ NetBeans Design\n        customizeComponents(); // Gọi hàm tùy chỉnh giao diện\n        addTableClickListener(); // Gọi hàm thêm sự kiện click bảng\n    }\n\n    /**\n     * Tùy chỉnh giao diện cho các components (ComboBox, Table header, columns...).\n     */\n    private void customizeComponents() {\n        // Tùy chỉnh ComboBox Năm\n        Dimension newSize = new Dimension(163, 50);\n        comboBox_Year.setPreferredSize(newSize);\n        comboBox_Year.setMinimumSize(newSize);\n        comboBox_Year.setMaximumSize(newSize);\n\n        // Tùy chỉnh Header Bảng\n        styleTableHeader();\n\n        // Tùy chỉnh Cột và Renderer của Bảng\n        setupTableColumnsAndRenderers();\n    }\n\n    /**\n     * Tùy chỉnh giao diện cho Header của Bảng.\n     */\n    private void styleTableHeader() {\n        JTableHeader header = Table_DanhSachHoaDon.getTableHeader();\n        header.setBorder(BorderFactory.createEmptyBorder()); // Tắt viền ngoài\n        ((DefaultTableCellRenderer) header.getDefaultRenderer()).setBorder(BorderFactory.createEmptyBorder()); // Tắt viền ô\n        header.setBackground(new Color(230, 230, 230));\n        header.setForeground(Color.BLACK);\n        header.setFont(new Font(\"Helvetica Neue\", Font.BOLD, 14));\n        ((DefaultTableCellRenderer) header.getDefaultRenderer()).setHorizontalAlignment(SwingConstants.CENTER); // Căn giữa tiêu đề\n    }\n\n    /**\n     * Tùy chỉnh độ rộng cột và Cell Renderer cho các ô dữ liệu.\n     */\n    private void setupTableColumnsAndRenderers() {\n        // Căn lề TOP mặc định cho tất cả các ô\n        DefaultTableCellRenderer defaultRenderer = (DefaultTableCellRenderer) Table_DanhSachHoaDon.getDefaultRenderer(Object.class);\n        defaultRenderer.setVerticalAlignment(SwingConstants.TOP);\n\n        TableColumnModel columnModel = Table_DanhSachHoaDon.getColumnModel();\n\n        // Đặt độ rộng cột\n        columnModel.getColumn(0).setPreferredWidth(150); // Mã hóa đơn\n        columnModel.getColumn(1).setPreferredWidth(200); // Khách hàng\n\n        // Tạo renderer căn giữa dữ liệu\n        DefaultTableCellRenderer centerDataRenderer = new DefaultTableCellRenderer();\n        centerDataRenderer.setHorizontalAlignment(SwingConstants.CENTER);\n        centerDataRenderer.setVerticalAlignment(SwingConstants.TOP); // Giữ căn TOP\n\n        // Áp dụng renderer căn giữa cho các cột cần thiết\n        columnModel.getColumn(2).setCellRenderer(centerDataRenderer); // Tuyến\n        columnModel.getColumn(3).setCellRenderer(centerDataRenderer); // Số lượng vé\n        columnModel.getColumn(4).setCellRenderer(centerDataRenderer); // Ngày khởi hành\n        columnModel.getColumn(5).setCellRenderer(centerDataRenderer); // Tổng tiền\n\n        // Tạo renderer kiểu \"link\" cho cột \"Tùy chọn\"\n        DefaultTableCellRenderer linkRenderer = new DefaultTableCellRenderer() {\n            @Override\n            public Component getTableCellRendererComponent(JTable table, Object value,\n                                                           boolean isSelected, boolean hasFocus, int row, int column) {\n                Component c = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n                if (value != null) {\n                    setText(\"<html><u>\" + value.toString() + \"</u></html>\");\n                }\n                setForeground(Color.BLUE);\n                setVerticalAlignment(SwingConstants.TOP);\n                setHorizontalAlignment(SwingConstants.CENTER);\n                return c;\n            }\n        };\n        columnModel.getColumn(6).setCellRenderer(linkRenderer); // Áp dụng cho cột 6\n    }\n\n    /**\n     * Thêm sự kiện click chuột vào bảng để hiển thị chi tiết hóa đơn.\n     */\n    private void addTableClickListener() {\n        Table_DanhSachHoaDon.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent evt) {\n                int row = Table_DanhSachHoaDon.rowAtPoint(evt.getPoint());\n                int col = Table_DanhSachHoaDon.columnAtPoint(evt.getPoint());\n\n                if (col == 6 && row >= 0) { // Click vào cột \"Tùy chọn\"\n                    Object maHoaDonObj = Table_DanhSachHoaDon.getValueAt(row, 0);\n                    String maHoaDon = (maHoaDonObj != null) ? maHoaDonObj.toString() : \"N/A\";\n                    showChiTietPopup(maHoaDon); // Gọi hàm hiển thị popup\n                }\n            }\n        });\n    }\n\n    /**\n     * Hiển thị popup chi tiết hóa đơn với hiệu ứng nền mờ (overlay).\n     * @param maHoaDon Mã hóa đơn để hiển thị (hiện chưa dùng)\n     */\n    private void showChiTietPopup(String maHoaDon) {\n        JFrame topFrame = (JFrame) SwingUtilities.getWindowAncestor(this);\n        if (topFrame == null) return;\n\n        // Tạo panel chi tiết popup\n        PopUpChiTietHoaDon chiTietPanel = new PopUpChiTietHoaDon();\n        // TODO: (Trong tương lai) Truyền maHoaDon vào chiTietPanel để tải đúng dữ liệu\n        // chiTietPanel.loadDataByMaHoaDon(maHoaDon);\n\n        // Tạo panel nền mờ (overlay)\n        JPanel overlayPanel = new JPanel(new GridBagLayout()) {\n            @Override\n            protected void paintComponent(Graphics g) {\n                super.paintComponent(g);\n                g.setColor(new Color(0, 0, 0, 150)); // Màu đen mờ 50%\n                g.fillRect(0, 0, getWidth(), getHeight());\n            }\n        };\n        overlayPanel.setOpaque(false);\n        overlayPanel.add(chiTietPanel); // Đặt popup vào giữa nền mờ\n\n        // Đặt và hiển thị overlay lên Glass Pane của cửa sổ chính\n        topFrame.setGlassPane(overlayPanel);\n        overlayPanel.setVisible(true);\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(\"unchecked\")\n    // <editor-fold defaultstate=\"collapsed\" desc=\"Generated Code\">\n    private void initComponents() {\n\n        lblTieuDeLocTG = new JLabel();\n        lblNhapThang = new JLabel();\n        ComboBox_DanhMucTimKiem = new JComboBox<>();\n        lblThongTinTraCuu = new JLabel();\n        txt_NhapThongTin = new JTextField();\n        btn_TraCuu = new JButton();\n        lblNhapThongTin = new JLabel();\n        lblDanhMucTimKiem = new JLabel();\n        comboBox_Month = new JComboBox<>();\n        lblNhapNam = new JLabel();\n        btnKetQuaTimKiem = new JLabel();\n        lblThongBaoKetQua = new JLabel() {\n            {\n                // Tắt chế độ vẽ nền chữ nhật mặc định\n                setOpaque(false);\n            }\n\n            @Override\n            protected void paintComponent(Graphics g) {\n                Graphics2D g2 = (Graphics2D) g.create();\n                g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n                g2.setColor(getBackground());\n                g2.fillRoundRect(0, 0, getWidth(), getHeight(), 15, 15);\n                g2.dispose();\n                super.paintComponent(g);\n            }\n        };\n        jScrollPane1 = new JScrollPane();\n        Table_DanhSachHoaDon = new JTable();\n        btnFilter = new JButton();\n        comboBox_Year = new JComboBox<>();\n        btn_Xoa = new JButton();\n        btn_LamMoi = new JButton();\n\n        lblTieuDeLocTG.setFont(new Font(\"Helvetica Neue\", Font.PLAIN, 28)); // NOI18N\n        lblTieuDeLocTG.setText(\"Tìm kiếm theo thời gian\");\n\n        lblNhapThang.setFont(new Font(\"Helvetica Neue\", Font.BOLD, 16)); // NOI18N\n        lblNhapThang.setText(\"Tháng \");\n\n        ComboBox_DanhMucTimKiem.setBackground(new Color(220, 222, 221));\n        ComboBox_DanhMucTimKiem.setFont(new Font(\"Helvetica Neue\", Font.PLAIN, 18)); // NOI18N\n        ComboBox_DanhMucTimKiem.setForeground(new Color(102, 102, 102));\n        ComboBox_DanhMucTimKiem.setModel(new DefaultComboBoxModel<>(new String[] { \"Số điện thoại\", \"Số CCCD\", \"Mã hóa đơn\" }));\n        ComboBox_DanhMucTimKiem.setMinimumSize(new Dimension(124, 100));\n        ComboBox_DanhMucTimKiem.setPreferredSize(new Dimension(133, 50));\n        ComboBox_DanhMucTimKiem.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent evt) {\n                ComboBox_DanhMucTimKiemActionPerformed(evt);\n            }\n        });\n\n        lblThongTinTraCuu.setFont(new Font(\"Helvetica Neue\", Font.BOLD, 18)); // NOI18N\n        lblThongTinTraCuu.setText(\"Thông tin tra cứu \");\n\n        txt_NhapThongTin.setBackground(new Color(220, 222, 221));\n        txt_NhapThongTin.setFont(new Font(\"Helvetica Neue\", Font.PLAIN, 18)); // NOI18N\n        txt_NhapThongTin.setForeground(new Color(102, 102, 102));\n        txt_NhapThongTin.setText(\"VD : 0123456789\");\n        txt_NhapThongTin.setMinimumSize(new Dimension(124, 40));\n        txt_NhapThongTin.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent evt) {\n                txt_NhapThongTinActionPerformed(evt);\n            }\n        });\n\n        btn_TraCuu.setBackground(new Color(0, 102, 255));\n        btn_TraCuu.setFont(new Font(\"Helvetica Neue\", Font.PLAIN, 16)); // NOI18N\n        btn_TraCuu.setForeground(new Color(255, 255, 255));\n        btn_TraCuu.setText(\"Tra cứu\");\n        btn_TraCuu.setBorder(new SoftBevelBorder(BevelBorder.RAISED));\n        btn_TraCuu.setBorderPainted(false);\n        btn_TraCuu.setOpaque(true);\n        btn_TraCuu.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent evt) {\n                btn_TraCuuActionPerformed(evt);\n            }\n        });\n\n        lblNhapThongTin.setFont(new Font(\"Helvetica Neue\", Font.PLAIN, 28)); // NOI18N\n        lblNhapThongTin.setText(\"Nhập thông tin tra cứu hóa đơn\");\n\n        lblDanhMucTimKiem.setFont(new Font(\"Helvetica Neue\", Font.BOLD, 18)); // NOI18N\n        lblDanhMucTimKiem.setText(\"Tìm kiếm theo \");\n\n        comboBox_Month.setBackground(new Color(220, 222, 221));\n        comboBox_Month.setFont(new Font(\"Helvetica Neue\", Font.PLAIN, 18)); // NOI18N\n        comboBox_Month.setModel(new DefaultComboBoxModel<>(new String[] { \"<html><br><html>\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\", \" \" }));\n        comboBox_Month.setMinimumSize(new Dimension(72, 50));\n        comboBox_Month.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent evt) {\n                comboBox_MonthActionPerformed(evt);\n            }\n        });\n\n        lblNhapNam.setFont(new Font(\"Helvetica Neue\", Font.BOLD, 16)); // NOI18N\n        lblNhapNam.setText(\"Năm\");\n\n        btnKetQuaTimKiem.setFont(new Font(\"Apple Braille\", Font.PLAIN, 26)); // NOI18N\n        btnKetQuaTimKiem.setText(\"Kết quả tìm kiếm\");\n\n        lblThongBaoKetQua.setBackground(new Color(0, 204, 102));\n        lblThongBaoKetQua.setFont(new Font(\"Helvetica Neue\", Font.BOLD, 14)); // NOI18N\n        lblThongBaoKetQua.setForeground(new Color(255, 255, 255));\n        lblThongBaoKetQua.setHorizontalAlignment(SwingConstants.CENTER);\n        lblThongBaoKetQua.setText(\"2 hóa đơn\");\n\n        Table_DanhSachHoaDon.setFont(new Font(\"Helvetica Neue\", Font.PLAIN, 16)); // NOI18N\n        Table_DanhSachHoaDon.setModel(new DefaultTableModel(\n                new Object [][] {\n                        {\"HD2109202400010005\", \"<html>Nguyễn Văn Nam<br>0123456789</html>\", \"Sài Gòn - Hà Nội\", \"3\", \"<html>21-09-2024<br>08:30<html>\", \"2.420.000đ\", \"Xem\"},\n                        {\"HD1901202400080436\", \"<html>Nguyễn Văn Nam<br>0123456789</html>\", \"Sài Gòn - Đà Nẵng\", \"2\", \"<html>10-01-2024<br>17:25</html>\", \"1.850.000đ\", \"Xem\"},\n                        {null, null, null, null, \"\", null, null}\n                },\n                new String [] {\n                        \"Mã hóa đơn\", \"Khách hàng\", \"Tuyến\", \"Số lượng vé\", \"Ngày khởi hành\", \"Tổng tiền\", \"Tùy chọn\"\n                }\n        ) {\n            Class[] types = new Class [] {\n                    String.class, String.class, String.class, String.class, Object.class, String.class, Object.class\n            };\n\n            @Override\n            public Class getColumnClass(int columnIndex) {\n                return types [columnIndex];\n            }\n        });\n        Table_DanhSachHoaDon.setRowHeight(60);\n        jScrollPane1.setViewportView(Table_DanhSachHoaDon);\n\n        btnFilter.setBackground(new Color(0, 102, 255));\n        btnFilter.setFont(new Font(\"Helvetica Neue\", Font.PLAIN, 16)); // NOI18N\n        btnFilter.setForeground(new Color(255, 255, 255));\n        btnFilter.setText(\"Lọc\");\n        btnFilter.setBorder(new SoftBevelBorder(BevelBorder.RAISED));\n        btnFilter.setBorderPainted(false);\n        btnFilter.setOpaque(true);\n        btnFilter.setPreferredSize(new Dimension(33, 50));\n        btnFilter.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent evt) {\n                btnFilterActionPerformed(evt);\n            }\n        });\n\n        comboBox_Year.setBackground(new Color(220, 222, 221));\n        comboBox_Year.setFont(new Font(\"Helvetica Neue\", Font.PLAIN, 18)); // NOI18N\n        comboBox_Year.setModel(new DefaultComboBoxModel<>(new String[] { \"<html><br><html>\", \"2020\", \"2021\", \"2022\", \"2023\", \"2024\", \"2025\" }));\n        comboBox_Year.setMinimumSize(new Dimension(72, 50));\n        comboBox_Year.setPreferredSize(new Dimension(74, 50));\n        comboBox_Year.setSize(new Dimension(20, 20));\n\n        btn_Xoa.setBackground(new Color(255, 0, 51));\n        btn_Xoa.setFont(new Font(\"Helvetica Neue\", Font.PLAIN, 16)); // NOI18N\n        btn_Xoa.setForeground(new Color(255, 255, 255));\n        btn_Xoa.setText(\"Xóa\");\n        btn_Xoa.setBorder(new SoftBevelBorder(BevelBorder.RAISED));\n        btn_Xoa.setBorderPainted(false);\n        btn_Xoa.setOpaque(true);\n        btn_Xoa.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent evt) {\n                btn_XoaActionPerformed(evt);\n            }\n        });\n\n        btn_LamMoi.setBackground(new Color(255, 153, 0));\n        btn_LamMoi.setForeground(new Color(255, 255, 255));\n        btn_LamMoi.setText(\"Làm mới\");\n\n        GroupLayout layout = new GroupLayout(this);\n        this.setLayout(layout);\n        layout.setHorizontalGroup(\n                layout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                        .addGroup(layout.createSequentialGroup()\n                                .addGap(63, 63, 63)\n                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                                        .addGroup(layout.createSequentialGroup()\n                                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                                                        .addGroup(layout.createSequentialGroup()\n                                                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                                                                        .addComponent(ComboBox_DanhMucTimKiem, GroupLayout.PREFERRED_SIZE, 209, GroupLayout.PREFERRED_SIZE)\n                                                                        .addComponent(comboBox_Month, GroupLayout.PREFERRED_SIZE, 212, GroupLayout.PREFERRED_SIZE)\n                                                                        .addGroup(layout.createSequentialGroup()\n                                                                                .addGap(10, 10, 10)\n                                                                                .addComponent(lblDanhMucTimKiem)))\n                                                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                                                                        .addGroup(layout.createSequentialGroup()\n                                                                                .addGap(71, 71, 71)\n                                                                                .addComponent(lblThongTinTraCuu))\n                                                                        .addGroup(layout.createSequentialGroup()\n                                                                                .addGap(58, 58, 58)\n                                                                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.TRAILING)\n                                                                                        .addGroup(layout.createSequentialGroup()\n                                                                                                .addComponent(comboBox_Year, GroupLayout.PREFERRED_SIZE, 246, GroupLayout.PREFERRED_SIZE)\n                                                                                                .addGap(18, 18, 18)\n                                                                                                .addComponent(btnFilter, GroupLayout.PREFERRED_SIZE, 210, GroupLayout.PREFERRED_SIZE))\n                                                                                        .addComponent(txt_NhapThongTin, GroupLayout.PREFERRED_SIZE, 473, GroupLayout.PREFERRED_SIZE))\n                                                                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)\n                                                                                .addComponent(btn_TraCuu, GroupLayout.PREFERRED_SIZE, 126, GroupLayout.PREFERRED_SIZE)\n                                                                                .addGap(18, 18, 18)\n                                                                                .addComponent(btn_Xoa, GroupLayout.PREFERRED_SIZE, 59, GroupLayout.PREFERRED_SIZE))))\n                                                        .addComponent(lblNhapThongTin)\n                                                        .addComponent(lblTieuDeLocTG))\n                                                .addContainerGap(74, Short.MAX_VALUE))\n                                        .addGroup(layout.createSequentialGroup()\n                                                .addComponent(btnKetQuaTimKiem)\n                                                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)\n                                                .addComponent(lblThongBaoKetQua, GroupLayout.PREFERRED_SIZE, 77, GroupLayout.PREFERRED_SIZE)\n                                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                                                .addComponent(btn_LamMoi)\n                                                .addGap(17, 17, 17))))\n                        .addGroup(layout.createSequentialGroup()\n                                .addGap(73, 73, 73)\n                                .addComponent(lblNhapThang)\n                                .addGap(225, 225, 225)\n                                .addComponent(lblNhapNam)\n                                .addContainerGap(706, Short.MAX_VALUE))\n                        .addGroup(layout.createSequentialGroup()\n                                .addContainerGap()\n                                .addComponent(jScrollPane1)\n                                .addContainerGap())\n        );\n        layout.setVerticalGroup(\n                layout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                        .addGroup(layout.createSequentialGroup()\n                                .addGap(34, 34, 34)\n                                .addComponent(lblNhapThongTin)\n                                .addGap(18, 18, 18)\n                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)\n                                        .addComponent(lblDanhMucTimKiem)\n                                        .addComponent(lblThongTinTraCuu))\n                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)\n                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)\n                                        .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)\n                                                .addComponent(txt_NhapThongTin, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                                                .addComponent(btn_TraCuu, GroupLayout.PREFERRED_SIZE, 40, GroupLayout.PREFERRED_SIZE)\n                                                .addComponent(btn_Xoa, GroupLayout.PREFERRED_SIZE, 39, GroupLayout.PREFERRED_SIZE))\n                                        .addComponent(ComboBox_DanhMucTimKiem, GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))\n                                .addGap(22, 22, 22)\n                                .addComponent(lblTieuDeLocTG)\n                                .addGap(18, 18, 18)\n                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)\n                                        .addComponent(lblNhapThang)\n                                        .addComponent(lblNhapNam))\n                                .addGap(4, 4, 4)\n                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)\n                                        .addComponent(btnFilter, GroupLayout.PREFERRED_SIZE, 40, GroupLayout.PREFERRED_SIZE)\n                                        .addComponent(comboBox_Year, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE) // Chỉnh lại nếu cần\n                                        .addComponent(comboBox_Month, GroupLayout.PREFERRED_SIZE, 50, GroupLayout.PREFERRED_SIZE))\n                                .addGap(72, 72, 72)\n                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)\n                                        .addComponent(btnKetQuaTimKiem)\n                                        .addComponent(lblThongBaoKetQua, GroupLayout.PREFERRED_SIZE, 30, GroupLayout.PREFERRED_SIZE)\n                                        .addComponent(btn_LamMoi))\n                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)\n                                .addComponent(jScrollPane1, GroupLayout.PREFERRED_SIZE, 242, GroupLayout.PREFERRED_SIZE)\n                                .addContainerGap())\n        );\n    }// </editor-fold>\n\n    private void ComboBox_DanhMucTimKiemActionPerformed(ActionEvent evt) {\n        // TODO add your handling code here:\n    }\n\n    private void btn_TraCuuActionPerformed(ActionEvent evt) {\n        // TODO add your handling code here:\n    }\n\n    private void comboBox_MonthActionPerformed(ActionEvent evt) {\n        // TODO add your handling code here:\n    }\n\n    private void txt_NhapThongTinActionPerformed(ActionEvent evt) {\n        // TODO add your handling code here:\n    }\n\n    private void btnFilterActionPerformed(ActionEvent evt) {\n        // TODO add your handling code here:\n    }\n\n    private void btn_XoaActionPerformed(ActionEvent evt) {\n        // TODO add your handling code here:\n    }\n\n    // Variables declaration - do not modify\n    private JButton btnFilter, btn_LamMoi, btn_TraCuu, btn_Xoa;\n    private JComboBox<String> ComboBox_DanhMucTimKiem, comboBox_Month, comboBox_Year;\n    private JLabel btnKetQuaTimKiem, lblDanhMucTimKiem, lblNhapNam, lblNhapThang, lblNhapThongTin, lblThongBaoKetQua, lblThongTinTraCuu, lblTieuDeLocTG;\n    private JScrollPane jScrollPane1;\n    private JTable Table_DanhSachHoaDon;\n    private JTextField txt_NhapThongTin;\n    // End of variables declaration\n\n    public static void main(String[] args) {\n        try {\n            UIManager.setLookAndFeel(\"javax.swing.plaf.nimbus.NimbusLookAndFeel\");\n        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException e) {\n            e.printStackTrace();\n        }\n        SwingUtilities.invokeLater(() -> {\n            JFrame frame = new JFrame();\n            ManHinhTraCuuHoaDon panel = new ManHinhTraCuuHoaDon();\n            frame.setContentPane(panel);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/gui/Panel/ManHinhTraCuuHoaDon.java b/src/gui/Panel/ManHinhTraCuuHoaDon.java
--- a/src/gui/Panel/ManHinhTraCuuHoaDon.java	(revision 4be61b24890bfa626c5ac99b691918220a3a9022)
+++ b/src/gui/Panel/ManHinhTraCuuHoaDon.java	(date 1761530186491)
@@ -1,6 +1,9 @@
-package gui.Panel; // <-- Đảm bảo tên package đúng
+package gui.Panel;
 
 // AWT Imports
+import dao.HoaDonDAO;
+import entity.HoaDon;
+
 import java.awt.Color;
 import java.awt.Component;
 import java.awt.Dimension;
@@ -8,29 +11,17 @@
 import java.awt.Graphics;
 import java.awt.Graphics2D;
 import java.awt.GridBagLayout;
+import java.awt.Point;
 import java.awt.RenderingHints;
 import java.awt.event.ActionEvent;
 import java.awt.event.ActionListener;
 import java.awt.event.MouseAdapter;
 import java.awt.event.MouseEvent;
+import java.util.List;
 
 // Swing Imports
-import javax.swing.BorderFactory;
-import javax.swing.DefaultComboBoxModel;
-import javax.swing.GroupLayout;
-import javax.swing.JButton;
-import javax.swing.JComboBox;
-import javax.swing.JFrame;
-import javax.swing.JLabel;
-import javax.swing.JPanel;
-import javax.swing.JScrollPane;
-import javax.swing.JTable;
-import javax.swing.JTextField;
-import javax.swing.LayoutStyle;
-import javax.swing.SwingConstants;
-import javax.swing.SwingUtilities;
-import javax.swing.UIManager;
-import javax.swing.UnsupportedLookAndFeelException;
+import javax.swing.*;
+
 
 // Swing Border Imports
 import javax.swing.border.BevelBorder;
@@ -41,143 +32,109 @@
 import javax.swing.table.DefaultTableModel;
 import javax.swing.table.JTableHeader;
 import javax.swing.table.TableColumnModel;
-
 /**
  *
  * @author TranSon-Code
  */
-public class ManHinhTraCuuHoaDon extends JPanel {
+public class ManHinhTraCuuHoaDon extends   JPanel {
 
+    // Variables declaration - do not modify
+    private JButton btnFilter, btn_LamMoi, btn_TraCuu, btn_Xoa;
+    private JComboBox<String> ComboBox_DanhMucTimKiem, comboBox_Month, comboBox_Year;
+    private JLabel btnKetQuaTimKiem, lblDanhMucTimKiem, lblNhapNam, lblNhapThang, lblNhapThongTin, lblThongBaoKetQua, lblThongTinTraCuu, lblTieuDeLocTG;
+    private JScrollPane jScrollPane1;
+    private JTable Table_DanhSachHoaDon;
+    private JTextField txt_NhapThongTin;
+// End of variables declaration
+
     /**
      * Creates new form ManHinhTraCuuHoaDon
      */
     public ManHinhTraCuuHoaDon() {
-        initComponents(); // Khởi tạo component từ NetBeans Design
-        customizeComponents(); // Gọi hàm tùy chỉnh giao diện
-        addTableClickListener(); // Gọi hàm thêm sự kiện click bảng
-    }
+        initComponents();
+
+        JTableHeader header = Table_DanhSachHoaDon.getTableHeader();
 
-    /**
-     * Tùy chỉnh giao diện cho các components (ComboBox, Table header, columns...).
-     */
-    private void customizeComponents() {
-        // Tùy chỉnh ComboBox Năm
+
+        header.setBorder(BorderFactory.createEmptyBorder());
+        ((DefaultTableCellRenderer)header.getDefaultRenderer()).setBorder(BorderFactory.createEmptyBorder());
+        header.setBackground(new Color(230, 230, 230));
+        header.setForeground(Color.BLACK);
+        header.setFont(new Font("Helvetica Neue", Font.BOLD, 14));
         Dimension newSize = new Dimension(163, 50);
+
         comboBox_Year.setPreferredSize(newSize);
         comboBox_Year.setMinimumSize(newSize);
         comboBox_Year.setMaximumSize(newSize);
-
-        // Tùy chỉnh Header Bảng
-        styleTableHeader();
+        DefaultTableCellRenderer renderer = (DefaultTableCellRenderer) Table_DanhSachHoaDon.getDefaultRenderer(Object.class);
+        renderer.setVerticalAlignment(SwingConstants.TOP);
 
-        // Tùy chỉnh Cột và Renderer của Bảng
-        setupTableColumnsAndRenderers();
-    }
 
-    /**
-     * Tùy chỉnh giao diện cho Header của Bảng.
-     */
-    private void styleTableHeader() {
-        JTableHeader header = Table_DanhSachHoaDon.getTableHeader();
-        header.setBorder(BorderFactory.createEmptyBorder()); // Tắt viền ngoài
-        ((DefaultTableCellRenderer) header.getDefaultRenderer()).setBorder(BorderFactory.createEmptyBorder()); // Tắt viền ô
-        header.setBackground(new Color(230, 230, 230));
-        header.setForeground(Color.BLACK);
-        header.setFont(new Font("Helvetica Neue", Font.BOLD, 14));
-        ((DefaultTableCellRenderer) header.getDefaultRenderer()).setHorizontalAlignment(SwingConstants.CENTER); // Căn giữa tiêu đề
-    }
-
-    /**
-     * Tùy chỉnh độ rộng cột và Cell Renderer cho các ô dữ liệu.
-     */
-    private void setupTableColumnsAndRenderers() {
-        // Căn lề TOP mặc định cho tất cả các ô
-        DefaultTableCellRenderer defaultRenderer = (DefaultTableCellRenderer) Table_DanhSachHoaDon.getDefaultRenderer(Object.class);
-        defaultRenderer.setVerticalAlignment(SwingConstants.TOP);
-
+        DefaultTableCellRenderer headerRenderer = (DefaultTableCellRenderer) Table_DanhSachHoaDon.getTableHeader().getDefaultRenderer();
+        headerRenderer.setHorizontalAlignment(SwingConstants.CENTER);
         TableColumnModel columnModel = Table_DanhSachHoaDon.getColumnModel();
+        columnModel.getColumn(0).setPreferredWidth(150); // Cột 0 - Mã hóa đơn
+        columnModel.getColumn(1).setPreferredWidth(200); // Cột 1 - Khách hàng
 
-        // Đặt độ rộng cột
-        columnModel.getColumn(0).setPreferredWidth(150); // Mã hóa đơn
-        columnModel.getColumn(1).setPreferredWidth(200); // Khách hàng
-
-        // Tạo renderer căn giữa dữ liệu
         DefaultTableCellRenderer centerDataRenderer = new DefaultTableCellRenderer();
         centerDataRenderer.setHorizontalAlignment(SwingConstants.CENTER);
-        centerDataRenderer.setVerticalAlignment(SwingConstants.TOP); // Giữ căn TOP
+        centerDataRenderer.setVerticalAlignment(SwingConstants.TOP); // Giữ lại căn lề trên
 
-        // Áp dụng renderer căn giữa cho các cột cần thiết
-        columnModel.getColumn(2).setCellRenderer(centerDataRenderer); // Tuyến
-        columnModel.getColumn(3).setCellRenderer(centerDataRenderer); // Số lượng vé
-        columnModel.getColumn(4).setCellRenderer(centerDataRenderer); // Ngày khởi hành
-        columnModel.getColumn(5).setCellRenderer(centerDataRenderer); // Tổng tiền
+        columnModel.getColumn(2).setCellRenderer(centerDataRenderer); // Cột Tuyến
+        columnModel.getColumn(3).setCellRenderer(centerDataRenderer); // Cột Số lượng vé
+        columnModel.getColumn(4).setCellRenderer(centerDataRenderer); // Cột Ngày khởi hành
+        columnModel.getColumn(5).setCellRenderer(centerDataRenderer); // Cột Tổng tiền
 
-        // Tạo renderer kiểu "link" cho cột "Tùy chọn"
+        // Custom cho cột tùy chọn
         DefaultTableCellRenderer linkRenderer = new DefaultTableCellRenderer() {
             @Override
             public Component getTableCellRendererComponent(JTable table, Object value,
                                                            boolean isSelected, boolean hasFocus, int row, int column) {
+
+                // Lấy component (là một JLabel) từ lớp cha
                 Component c = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);
+
+                // 1. Đặt văn bản thành HTML để có gạch chân (underline)
                 if (value != null) {
                     setText("<html><u>" + value.toString() + "</u></html>");
                 }
+
+                // 2. Đặt màu chữ thành xanh dương
                 setForeground(Color.BLUE);
+
+                // 3. Giữ nguyên các cài đặt căn lề từ yêu cầu trước
                 setVerticalAlignment(SwingConstants.TOP);
                 setHorizontalAlignment(SwingConstants.CENTER);
+
                 return c;
             }
         };
-        columnModel.getColumn(6).setCellRenderer(linkRenderer); // Áp dụng cho cột 6
-    }
+        Table_DanhSachHoaDon.getColumnModel().getColumn(6).setCellRenderer(linkRenderer);
 
-    /**
-     * Thêm sự kiện click chuột vào bảng để hiển thị chi tiết hóa đơn.
-     */
-    private void addTableClickListener() {
-        Table_DanhSachHoaDon.addMouseListener(new MouseAdapter() {
+        // THÊM SỰ KIỆN CHO CỘT TÙY CHỌN ĐỂ HIỂN THỊ CHI TIẾT HÓA ĐƠN
+        Table_DanhSachHoaDon.addMouseListener(new     MouseAdapter() {
             @Override
-            public void mouseClicked(MouseEvent evt) {
+            public void mouseClicked(    MouseEvent evt) {
+                // Lấy vị trí cột và hàng mà người dùng click
                 int row = Table_DanhSachHoaDon.rowAtPoint(evt.getPoint());
                 int col = Table_DanhSachHoaDon.columnAtPoint(evt.getPoint());
 
-                if (col == 6 && row >= 0) { // Click vào cột "Tùy chọn"
+                // Kiểm tra xem họ có click vào cột 6 ("Tùy chọn") không
+                if (col == 6 && row >= 0) { // row >= 0 để đảm bảo họ click vào hàng có dữ liệu
+
+                    // Đã click đúng cột "Xem"
+                    // Lấy mã hóa đơn từ cột 0 của hàng đó
                     Object maHoaDonObj = Table_DanhSachHoaDon.getValueAt(row, 0);
                     String maHoaDon = (maHoaDonObj != null) ? maHoaDonObj.toString() : "N/A";
-                    showChiTietPopup(maHoaDon); // Gọi hàm hiển thị popup
+
+                    // Gọi hàm để hiển thị popup
+                    showChiTietPopup(maHoaDon);
                 }
             }
         });
-    }
-
-    /**
-     * Hiển thị popup chi tiết hóa đơn với hiệu ứng nền mờ (overlay).
-     * @param maHoaDon Mã hóa đơn để hiển thị (hiện chưa dùng)
-     */
-    private void showChiTietPopup(String maHoaDon) {
-        JFrame topFrame = (JFrame) SwingUtilities.getWindowAncestor(this);
-        if (topFrame == null) return;
-
-        // Tạo panel chi tiết popup
-        PopUpChiTietHoaDon chiTietPanel = new PopUpChiTietHoaDon();
-        // TODO: (Trong tương lai) Truyền maHoaDon vào chiTietPanel để tải đúng dữ liệu
-        // chiTietPanel.loadDataByMaHoaDon(maHoaDon);
 
-        // Tạo panel nền mờ (overlay)
-        JPanel overlayPanel = new JPanel(new GridBagLayout()) {
-            @Override
-            protected void paintComponent(Graphics g) {
-                super.paintComponent(g);
-                g.setColor(new Color(0, 0, 0, 150)); // Màu đen mờ 50%
-                g.fillRect(0, 0, getWidth(), getHeight());
-            }
-        };
-        overlayPanel.setOpaque(false);
-        overlayPanel.add(chiTietPanel); // Đặt popup vào giữa nền mờ
-
-        // Đặt và hiển thị overlay lên Glass Pane của cửa sổ chính
-        topFrame.setGlassPane(overlayPanel);
-        overlayPanel.setVisible(true);
     }
+    // --- KẾT THÚC CODE THÊM SỰ KIỆN ---
 
     /**
      * This method is called from within the constructor to initialize the form.
@@ -188,18 +145,18 @@
     // <editor-fold defaultstate="collapsed" desc="Generated Code">
     private void initComponents() {
 
-        lblTieuDeLocTG = new JLabel();
-        lblNhapThang = new JLabel();
-        ComboBox_DanhMucTimKiem = new JComboBox<>();
-        lblThongTinTraCuu = new JLabel();
-        txt_NhapThongTin = new JTextField();
-        btn_TraCuu = new JButton();
-        lblNhapThongTin = new JLabel();
-        lblDanhMucTimKiem = new JLabel();
-        comboBox_Month = new JComboBox<>();
-        lblNhapNam = new JLabel();
-        btnKetQuaTimKiem = new JLabel();
-        lblThongBaoKetQua = new JLabel() {
+        lblTieuDeLocTG = new   JLabel();
+        lblNhapThang = new   JLabel();
+        ComboBox_DanhMucTimKiem = new   JComboBox<>();
+        lblThongTinTraCuu = new   JLabel();
+        txt_NhapThongTin = new   JTextField();
+        btn_TraCuu = new   JButton();
+        lblNhapThongTin = new   JLabel();
+        lblDanhMucTimKiem = new   JLabel();
+        comboBox_Month = new   JComboBox<>();
+        lblNhapNam = new   JLabel();
+        btnKetQuaTimKiem = new   JLabel();
+        lblThongBaoKetQua = new   JLabel() {
             {
                 // Tắt chế độ vẽ nền chữ nhật mặc định
                 setOpaque(false);
@@ -209,93 +166,101 @@
             protected void paintComponent(Graphics g) {
                 Graphics2D g2 = (Graphics2D) g.create();
                 g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);
+
+                // 1. VẼ NỀN BO TRÒN:
+                // Nó sẽ tự động lấy màu background (xanh) bạn đã set
                 g2.setColor(getBackground());
+
+                // Bạn có thể thay đổi số 15, 15 để bo tròn nhiều hay ít
                 g2.fillRoundRect(0, 0, getWidth(), getHeight(), 15, 15);
                 g2.dispose();
+
+                // 2. VẼ CHỮ LÊN TRÊN:
+                // Gọi hàm gốc để vẽ chữ (text) lên trên
                 super.paintComponent(g);
             }
         };
-        jScrollPane1 = new JScrollPane();
-        Table_DanhSachHoaDon = new JTable();
-        btnFilter = new JButton();
-        comboBox_Year = new JComboBox<>();
-        btn_Xoa = new JButton();
-        btn_LamMoi = new JButton();
+        jScrollPane1 = new   JScrollPane();
+        Table_DanhSachHoaDon = new   JTable();
+        btnFilter = new   JButton();
+        comboBox_Year = new   JComboBox<>();
+        btn_Xoa = new   JButton();
+        btn_LamMoi = new   JButton();
 
-        lblTieuDeLocTG.setFont(new Font("Helvetica Neue", Font.PLAIN, 28)); // NOI18N
+        lblTieuDeLocTG.setFont(new   Font("Helvetica Neue", 0, 28)); // NOI18N
         lblTieuDeLocTG.setText("Tìm kiếm theo thời gian");
 
-        lblNhapThang.setFont(new Font("Helvetica Neue", Font.BOLD, 16)); // NOI18N
+        lblNhapThang.setFont(new   Font("Helvetica Neue", 1, 16)); // NOI18N
         lblNhapThang.setText("Tháng ");
 
-        ComboBox_DanhMucTimKiem.setBackground(new Color(220, 222, 221));
-        ComboBox_DanhMucTimKiem.setFont(new Font("Helvetica Neue", Font.PLAIN, 18)); // NOI18N
-        ComboBox_DanhMucTimKiem.setForeground(new Color(102, 102, 102));
-        ComboBox_DanhMucTimKiem.setModel(new DefaultComboBoxModel<>(new String[] { "Số điện thoại", "Số CCCD", "Mã hóa đơn" }));
-        ComboBox_DanhMucTimKiem.setMinimumSize(new Dimension(124, 100));
-        ComboBox_DanhMucTimKiem.setPreferredSize(new Dimension(133, 50));
-        ComboBox_DanhMucTimKiem.addActionListener(new ActionListener() {
-            public void actionPerformed(ActionEvent evt) {
+        ComboBox_DanhMucTimKiem.setBackground(new   Color(220, 222, 221));
+        ComboBox_DanhMucTimKiem.setFont(new   Font("Helvetica Neue", 0, 18)); // NOI18N
+        ComboBox_DanhMucTimKiem.setForeground(new   Color(102, 102, 102));
+        ComboBox_DanhMucTimKiem.setModel(new   DefaultComboBoxModel<>(new String[] { "Số điện thoại", "Số CCCD", "Mã hóa đơn" }));
+        ComboBox_DanhMucTimKiem.setMinimumSize(new   Dimension(124, 100));
+        ComboBox_DanhMucTimKiem.setPreferredSize(new   Dimension(133, 50));
+        ComboBox_DanhMucTimKiem.addActionListener(new     ActionListener() {
+            public void actionPerformed(    ActionEvent evt) {
                 ComboBox_DanhMucTimKiemActionPerformed(evt);
             }
         });
 
-        lblThongTinTraCuu.setFont(new Font("Helvetica Neue", Font.BOLD, 18)); // NOI18N
+        lblThongTinTraCuu.setFont(new   Font("Helvetica Neue", 1, 18)); // NOI18N
         lblThongTinTraCuu.setText("Thông tin tra cứu ");
 
-        txt_NhapThongTin.setBackground(new Color(220, 222, 221));
-        txt_NhapThongTin.setFont(new Font("Helvetica Neue", Font.PLAIN, 18)); // NOI18N
-        txt_NhapThongTin.setForeground(new Color(102, 102, 102));
+        txt_NhapThongTin.setBackground(new   Color(220, 222, 221));
+        txt_NhapThongTin.setFont(new   Font("Helvetica Neue", 0, 18)); // NOI18N
+        txt_NhapThongTin.setForeground(new   Color(102, 102, 102));
         txt_NhapThongTin.setText("VD : 0123456789");
-        txt_NhapThongTin.setMinimumSize(new Dimension(124, 40));
-        txt_NhapThongTin.addActionListener(new ActionListener() {
+        txt_NhapThongTin.setMinimumSize(new   Dimension(124, 40));
+        txt_NhapThongTin.addActionListener(new     ActionListener() {
             public void actionPerformed(ActionEvent evt) {
                 txt_NhapThongTinActionPerformed(evt);
             }
         });
 
-        btn_TraCuu.setBackground(new Color(0, 102, 255));
-        btn_TraCuu.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // NOI18N
-        btn_TraCuu.setForeground(new Color(255, 255, 255));
+        btn_TraCuu.setBackground(new   Color(0, 102, 255));
+        btn_TraCuu.setFont(new   Font("Helvetica Neue", 0, 16)); // NOI18N
+        btn_TraCuu.setForeground(new   Color(255, 255, 255));
         btn_TraCuu.setText("Tra cứu");
         btn_TraCuu.setBorder(new SoftBevelBorder(BevelBorder.RAISED));
         btn_TraCuu.setBorderPainted(false);
         btn_TraCuu.setOpaque(true);
-        btn_TraCuu.addActionListener(new ActionListener() {
-            public void actionPerformed(ActionEvent evt) {
+        btn_TraCuu.addActionListener(new     ActionListener() {
+            public void actionPerformed(    ActionEvent evt) {
                 btn_TraCuuActionPerformed(evt);
             }
         });
 
-        lblNhapThongTin.setFont(new Font("Helvetica Neue", Font.PLAIN, 28)); // NOI18N
+        lblNhapThongTin.setFont(new   Font("Helvetica Neue", 0, 28)); // NOI18N
         lblNhapThongTin.setText("Nhập thông tin tra cứu hóa đơn");
 
-        lblDanhMucTimKiem.setFont(new Font("Helvetica Neue", Font.BOLD, 18)); // NOI18N
+        lblDanhMucTimKiem.setFont(new   Font("Helvetica Neue", 1, 18)); // NOI18N
         lblDanhMucTimKiem.setText("Tìm kiếm theo ");
 
-        comboBox_Month.setBackground(new Color(220, 222, 221));
-        comboBox_Month.setFont(new Font("Helvetica Neue", Font.PLAIN, 18)); // NOI18N
-        comboBox_Month.setModel(new DefaultComboBoxModel<>(new String[] { "<html><br><html>", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", " " }));
-        comboBox_Month.setMinimumSize(new Dimension(72, 50));
-        comboBox_Month.addActionListener(new ActionListener() {
-            public void actionPerformed(ActionEvent evt) {
+        comboBox_Month.setBackground(new   Color(220, 222, 221));
+        comboBox_Month.setFont(new   Font("Helvetica Neue", 0, 18)); // NOI18N
+        comboBox_Month.setModel(new   DefaultComboBoxModel<>(new String[] { "<html><br><html>", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", " " }));
+        comboBox_Month.setMinimumSize(new   Dimension(72, 50));
+        comboBox_Month.addActionListener(new     ActionListener() {
+            public void actionPerformed(    ActionEvent evt) {
                 comboBox_MonthActionPerformed(evt);
             }
         });
 
-        lblNhapNam.setFont(new Font("Helvetica Neue", Font.BOLD, 16)); // NOI18N
+        lblNhapNam.setFont(new   Font("Helvetica Neue", 1, 16)); // NOI18N
         lblNhapNam.setText("Năm");
 
-        btnKetQuaTimKiem.setFont(new Font("Apple Braille", Font.PLAIN, 26)); // NOI18N
+        btnKetQuaTimKiem.setFont(new   Font("Apple Braille", 0, 26)); // NOI18N
         btnKetQuaTimKiem.setText("Kết quả tìm kiếm");
 
-        lblThongBaoKetQua.setBackground(new Color(0, 204, 102));
-        lblThongBaoKetQua.setFont(new Font("Helvetica Neue", Font.BOLD, 14)); // NOI18N
-        lblThongBaoKetQua.setForeground(new Color(255, 255, 255));
-        lblThongBaoKetQua.setHorizontalAlignment(SwingConstants.CENTER);
+        lblThongBaoKetQua.setBackground(new   Color(0, 204, 102));
+        lblThongBaoKetQua.setFont(new   Font("Helvetica Neue", 1, 14)); // NOI18N
+        lblThongBaoKetQua.setForeground(new   Color(255, 255, 255));
+        lblThongBaoKetQua.setHorizontalAlignment(  SwingConstants.CENTER);
         lblThongBaoKetQua.setText("2 hóa đơn");
 
-        Table_DanhSachHoaDon.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // NOI18N
+        Table_DanhSachHoaDon.setFont(new   Font("Helvetica Neue", 0, 16)); // NOI18N
         Table_DanhSachHoaDon.setModel(new DefaultTableModel(
                 new Object [][] {
                         {"HD2109202400010005", "<html>Nguyễn Văn Nam<br>0123456789</html>", "Sài Gòn - Hà Nội", "3", "<html>21-09-2024<br>08:30<html>", "2.420.000đ", "Xem"},
@@ -307,10 +272,9 @@
                 }
         ) {
             Class[] types = new Class [] {
-                    String.class, String.class, String.class, String.class, Object.class, String.class, Object.class
+                    java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.Object.class, java.lang.String.class, java.lang.Object.class
             };
 
-            @Override
             public Class getColumnClass(int columnIndex) {
                 return types [columnIndex];
             }
@@ -318,172 +282,288 @@
         Table_DanhSachHoaDon.setRowHeight(60);
         jScrollPane1.setViewportView(Table_DanhSachHoaDon);
 
-        btnFilter.setBackground(new Color(0, 102, 255));
-        btnFilter.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // NOI18N
-        btnFilter.setForeground(new Color(255, 255, 255));
+        btnFilter.setBackground(new   Color(0, 102, 255));
+        btnFilter.setFont(new   Font("Helvetica Neue", 0, 16)); // NOI18N
+        btnFilter.setForeground(new   Color(255, 255, 255));
         btnFilter.setText("Lọc");
         btnFilter.setBorder(new SoftBevelBorder(BevelBorder.RAISED));
         btnFilter.setBorderPainted(false);
         btnFilter.setOpaque(true);
-        btnFilter.setPreferredSize(new Dimension(33, 50));
-        btnFilter.addActionListener(new ActionListener() {
-            public void actionPerformed(ActionEvent evt) {
+        btnFilter.setPreferredSize(new   Dimension(33, 50));
+        btnFilter.addActionListener(new     ActionListener() {
+            public void actionPerformed(    ActionEvent evt) {
                 btnFilterActionPerformed(evt);
             }
         });
 
-        comboBox_Year.setBackground(new Color(220, 222, 221));
-        comboBox_Year.setFont(new Font("Helvetica Neue", Font.PLAIN, 18)); // NOI18N
-        comboBox_Year.setModel(new DefaultComboBoxModel<>(new String[] { "<html><br><html>", "2020", "2021", "2022", "2023", "2024", "2025" }));
-        comboBox_Year.setMinimumSize(new Dimension(72, 50));
-        comboBox_Year.setPreferredSize(new Dimension(74, 50));
-        comboBox_Year.setSize(new Dimension(20, 20));
+        comboBox_Year.setBackground(new   Color(220, 222, 221));
+        comboBox_Year.setFont(new   Font("Helvetica Neue", 0, 18)); // NOI18N
+        comboBox_Year.setModel(new   DefaultComboBoxModel<>(new String[] { "<html><br></html>", "2020", "2021", "2022", "2023", "2024", "2025" }));
+        comboBox_Year.setMinimumSize(new   Dimension(72, 50));
+        comboBox_Year.setPreferredSize(new   Dimension(74, 50));
+        comboBox_Year.setSize(new   Dimension(20, 20));
 
-        btn_Xoa.setBackground(new Color(255, 0, 51));
-        btn_Xoa.setFont(new Font("Helvetica Neue", Font.PLAIN, 16)); // NOI18N
-        btn_Xoa.setForeground(new Color(255, 255, 255));
+        btn_Xoa.setBackground(new   Color(255, 0, 51));
+        btn_Xoa.setFont(new   Font("Helvetica Neue", 0, 16)); // NOI18N
+        btn_Xoa.setForeground(new   Color(255, 255, 255));
         btn_Xoa.setText("Xóa");
         btn_Xoa.setBorder(new SoftBevelBorder(BevelBorder.RAISED));
         btn_Xoa.setBorderPainted(false);
         btn_Xoa.setOpaque(true);
-        btn_Xoa.addActionListener(new ActionListener() {
-            public void actionPerformed(ActionEvent evt) {
+        btn_Xoa.addActionListener(new     ActionListener() {
+            public void actionPerformed(    ActionEvent evt) {
                 btn_XoaActionPerformed(evt);
             }
         });
 
-        btn_LamMoi.setBackground(new Color(255, 153, 0));
-        btn_LamMoi.setForeground(new Color(255, 255, 255));
+        btn_LamMoi.setBackground(new   Color(255, 153, 0));
+        btn_LamMoi.setForeground(new   Color(255, 255, 255));
         btn_LamMoi.setText("Làm mới");
 
-        GroupLayout layout = new GroupLayout(this);
+          GroupLayout layout = new   GroupLayout(this);
         this.setLayout(layout);
         layout.setHorizontalGroup(
-                layout.createParallelGroup(GroupLayout.Alignment.LEADING)
+                layout.createParallelGroup(  GroupLayout.Alignment.LEADING)
+                        .addComponent(jScrollPane1)
+                        .addGroup(layout.createSequentialGroup()
+                                .addGap(73, 73, 73)
+                                .addComponent(lblNhapThang)
+                                .addGap(221, 221, 221)
+                                .addComponent(lblNhapNam)
+                                .addContainerGap(  GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                         .addGroup(layout.createSequentialGroup()
                                 .addGap(63, 63, 63)
-                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
+                                .addGroup(layout.createParallelGroup(  GroupLayout.Alignment.LEADING)
                                         .addGroup(layout.createSequentialGroup()
-                                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
+                                                .addGroup(layout.createParallelGroup(  GroupLayout.Alignment.LEADING)
                                                         .addGroup(layout.createSequentialGroup()
-                                                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
-                                                                        .addComponent(ComboBox_DanhMucTimKiem, GroupLayout.PREFERRED_SIZE, 209, GroupLayout.PREFERRED_SIZE)
-                                                                        .addComponent(comboBox_Month, GroupLayout.PREFERRED_SIZE, 212, GroupLayout.PREFERRED_SIZE)
+                                                                .addGroup(layout.createParallelGroup(  GroupLayout.Alignment.LEADING)
+                                                                        .addComponent(ComboBox_DanhMucTimKiem,   GroupLayout.PREFERRED_SIZE, 209,   GroupLayout.PREFERRED_SIZE)
+                                                                        .addComponent(comboBox_Month,   GroupLayout.PREFERRED_SIZE, 212,   GroupLayout.PREFERRED_SIZE)
                                                                         .addGroup(layout.createSequentialGroup()
                                                                                 .addGap(10, 10, 10)
                                                                                 .addComponent(lblDanhMucTimKiem)))
-                                                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
+                                                                .addGroup(layout.createParallelGroup(  GroupLayout.Alignment.LEADING)
                                                                         .addGroup(layout.createSequentialGroup()
                                                                                 .addGap(71, 71, 71)
                                                                                 .addComponent(lblThongTinTraCuu))
                                                                         .addGroup(layout.createSequentialGroup()
                                                                                 .addGap(58, 58, 58)
-                                                                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
+                                                                                .addGroup(layout.createParallelGroup(  GroupLayout.Alignment.TRAILING)
+                                                                                        .addComponent(txt_NhapThongTin,   GroupLayout.PREFERRED_SIZE, 473,   GroupLayout.PREFERRED_SIZE)
                                                                                         .addGroup(layout.createSequentialGroup()
-                                                                                                .addComponent(comboBox_Year, GroupLayout.PREFERRED_SIZE, 246, GroupLayout.PREFERRED_SIZE)
+                                                                                                .addComponent(comboBox_Year,   GroupLayout.PREFERRED_SIZE, 246,   GroupLayout.PREFERRED_SIZE)
                                                                                                 .addGap(18, 18, 18)
-                                                                                                .addComponent(btnFilter, GroupLayout.PREFERRED_SIZE, 210, GroupLayout.PREFERRED_SIZE))
-                                                                                        .addComponent(txt_NhapThongTin, GroupLayout.PREFERRED_SIZE, 473, GroupLayout.PREFERRED_SIZE))
-                                                                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
-                                                                                .addComponent(btn_TraCuu, GroupLayout.PREFERRED_SIZE, 126, GroupLayout.PREFERRED_SIZE)
+                                                                                                .addComponent(btnFilter,   GroupLayout.PREFERRED_SIZE, 210,   GroupLayout.PREFERRED_SIZE)))
+                                                                                .addPreferredGap(  LayoutStyle.ComponentPlacement.RELATED)
+                                                                                .addComponent(btn_TraCuu,   GroupLayout.PREFERRED_SIZE, 126,   GroupLayout.PREFERRED_SIZE)
                                                                                 .addGap(18, 18, 18)
-                                                                                .addComponent(btn_Xoa, GroupLayout.PREFERRED_SIZE, 59, GroupLayout.PREFERRED_SIZE))))
+                                                                                .addComponent(btn_Xoa,   GroupLayout.PREFERRED_SIZE, 59,   GroupLayout.PREFERRED_SIZE))))
                                                         .addComponent(lblNhapThongTin)
                                                         .addComponent(lblTieuDeLocTG))
                                                 .addContainerGap(74, Short.MAX_VALUE))
                                         .addGroup(layout.createSequentialGroup()
                                                 .addComponent(btnKetQuaTimKiem)
-                                                .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
-                                                .addComponent(lblThongBaoKetQua, GroupLayout.PREFERRED_SIZE, 77, GroupLayout.PREFERRED_SIZE)
-                                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
-                                                .addComponent(btn_LamMoi)
-                                                .addGap(17, 17, 17))))
-                        .addGroup(layout.createSequentialGroup()
-                                .addGap(73, 73, 73)
-                                .addComponent(lblNhapThang)
-                                .addGap(225, 225, 225)
-                                .addComponent(lblNhapNam)
-                                .addContainerGap(706, Short.MAX_VALUE))
-                        .addGroup(layout.createSequentialGroup()
-                                .addContainerGap()
-                                .addComponent(jScrollPane1)
-                                .addContainerGap())
+                                                .addPreferredGap(  LayoutStyle.ComponentPlacement.UNRELATED)
+                                                .addComponent(lblThongBaoKetQua,   GroupLayout.PREFERRED_SIZE, 77,   GroupLayout.PREFERRED_SIZE)
+                                                .addPreferredGap(  LayoutStyle.ComponentPlacement.RELATED,   GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                                .addComponent(btn_LamMoi))))
         );
         layout.setVerticalGroup(
-                layout.createParallelGroup(GroupLayout.Alignment.LEADING)
+                layout.createParallelGroup(  GroupLayout.Alignment.LEADING)
                         .addGroup(layout.createSequentialGroup()
                                 .addGap(34, 34, 34)
                                 .addComponent(lblNhapThongTin)
                                 .addGap(18, 18, 18)
-                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
+                                .addGroup(layout.createParallelGroup(  GroupLayout.Alignment.BASELINE)
                                         .addComponent(lblDanhMucTimKiem)
                                         .addComponent(lblThongTinTraCuu))
-                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
-                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
-                                        .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
-                                                .addComponent(txt_NhapThongTin, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
-                                                .addComponent(btn_TraCuu, GroupLayout.PREFERRED_SIZE, 40, GroupLayout.PREFERRED_SIZE)
-                                                .addComponent(btn_Xoa, GroupLayout.PREFERRED_SIZE, 39, GroupLayout.PREFERRED_SIZE))
-                                        .addComponent(ComboBox_DanhMucTimKiem, GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
+                                .addPreferredGap(  LayoutStyle.ComponentPlacement.RELATED)
+                                .addGroup(layout.createParallelGroup(  GroupLayout.Alignment.LEADING, false)
+                                        .addGroup(layout.createParallelGroup(  GroupLayout.Alignment.BASELINE)
+                                                .addComponent(txt_NhapThongTin,   GroupLayout.DEFAULT_SIZE,   GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                                                .addComponent(btn_TraCuu,   GroupLayout.PREFERRED_SIZE, 40,   GroupLayout.PREFERRED_SIZE)
+                                                .addComponent(btn_Xoa,   GroupLayout.PREFERRED_SIZE, 39,   GroupLayout.PREFERRED_SIZE))
+                                        .addComponent(ComboBox_DanhMucTimKiem,   GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
                                 .addGap(22, 22, 22)
                                 .addComponent(lblTieuDeLocTG)
                                 .addGap(18, 18, 18)
-                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
+                                .addGroup(layout.createParallelGroup(  GroupLayout.Alignment.BASELINE)
                                         .addComponent(lblNhapThang)
                                         .addComponent(lblNhapNam))
                                 .addGap(4, 4, 4)
-                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
-                                        .addComponent(btnFilter, GroupLayout.PREFERRED_SIZE, 40, GroupLayout.PREFERRED_SIZE)
-                                        .addComponent(comboBox_Year, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE) // Chỉnh lại nếu cần
-                                        .addComponent(comboBox_Month, GroupLayout.PREFERRED_SIZE, 50, GroupLayout.PREFERRED_SIZE))
-                                .addGap(72, 72, 72)
-                                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
+                                .addGroup(layout.createParallelGroup(  GroupLayout.Alignment.LEADING)
+                                        .addGroup(layout.createParallelGroup(  GroupLayout.Alignment.BASELINE)
+                                                .addComponent(btnFilter,   GroupLayout.PREFERRED_SIZE, 40,   GroupLayout.PREFERRED_SIZE)
+                                                .addComponent(comboBox_Month,   GroupLayout.PREFERRED_SIZE, 50,   GroupLayout.PREFERRED_SIZE))
+                                        .addComponent(comboBox_Year,   GroupLayout.DEFAULT_SIZE,   GroupLayout.DEFAULT_SIZE,   GroupLayout.PREFERRED_SIZE))
+                                .addGap(76, 76, 76)
+                                .addGroup(layout.createParallelGroup(  GroupLayout.Alignment.BASELINE)
                                         .addComponent(btnKetQuaTimKiem)
-                                        .addComponent(lblThongBaoKetQua, GroupLayout.PREFERRED_SIZE, 30, GroupLayout.PREFERRED_SIZE)
+                                        .addComponent(lblThongBaoKetQua,   GroupLayout.PREFERRED_SIZE, 30,   GroupLayout.PREFERRED_SIZE)
                                         .addComponent(btn_LamMoi))
-                                .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
-                                .addComponent(jScrollPane1, GroupLayout.PREFERRED_SIZE, 242, GroupLayout.PREFERRED_SIZE)
-                                .addContainerGap())
+                                .addGap(18, 18, 18)
+                                .addComponent(jScrollPane1,   GroupLayout.PREFERRED_SIZE, 290,   GroupLayout.PREFERRED_SIZE)
+                                .addContainerGap(75, Short.MAX_VALUE))
         );
     }// </editor-fold>
 
-    private void ComboBox_DanhMucTimKiemActionPerformed(ActionEvent evt) {
+
+
+    private void ComboBox_DanhMucTimKiemActionPerformed(java.awt.event.ActionEvent evt) {
         // TODO add your handling code here:
+        String text = txt_NhapThongTin.getText().trim();
+        if (text.isEmpty() || text.startsWith("VD :")) {
+            txt_NhapThongTin.setText(layPlaceholder(ComboBox_DanhMucTimKiem));
+        }
     }
+
+    // 1. Hàm lấy placeholder theo item combo box
+    private String layPlaceholder(JComboBox<String> combo) {
+        String item = (String) combo.getSelectedItem();
+        switch (item) {
+            case "Số điện thoại": return "VD : 0123456789";
+            case "Số CCCD": return "VD : 077880000560";
+            case "Mã hóa đơn": return "VD : HD0117102500020002";
+            default: return "";
+        }
+    }
+
+    // Khởi tạo placeholder cho txt_NhapThongTin
+    private void khoiTaoPlaceholder() {
+        // Đặt placeholder lúc khởi tạo
+        txt_NhapThongTin.setText(layPlaceholder(ComboBox_DanhMucTimKiem));
+
+        // Khi click vào txt → xóa placeholder nếu đang hiển thị
+        txt_NhapThongTin.addMouseListener(new java.awt.event.MouseAdapter() {
+            @Override
+            public void mousePressed(java.awt.event.MouseEvent evt) {
+                if (txt_NhapThongTin.getText().equals(layPlaceholder(ComboBox_DanhMucTimKiem))) {
+                    txt_NhapThongTin.setText("");
+                }
+            }
+        });
 
-    private void btn_TraCuuActionPerformed(ActionEvent evt) {
+        // Khi focus vào → xóa placeholder nếu đang hiển thị
+        txt_NhapThongTin.addFocusListener(new java.awt.event.FocusAdapter() {
+            @Override
+            public void focusGained(java.awt.event.FocusEvent evt) {
+                if (txt_NhapThongTin.getText().equals(layPlaceholder(ComboBox_DanhMucTimKiem))) {
+                    txt_NhapThongTin.setText("");
+                }
+            }
+
+            @Override
+            public void focusLost(java.awt.event.FocusEvent evt) {
+                if (txt_NhapThongTin.getText().trim().isEmpty()) {
+                    txt_NhapThongTin.setText(layPlaceholder(ComboBox_DanhMucTimKiem));
+                }
+            }
+        });
+    }
+
+    private void txt_NhapThongTinActionPerformed(java.awt.event.ActionEvent evt) {
         // TODO add your handling code here:
     }
 
-    private void comboBox_MonthActionPerformed(ActionEvent evt) {
+
+    private void btn_TraCuuActionPerformed(java.awt.event.ActionEvent evt) {
+        // 1. Lấy tiêu chí tìm kiếm từ ComboBox
+        String loaiTimKiem = (String) ComboBox_DanhMucTimKiem.getSelectedItem();
+
+        // 2. Lấy giá trị tìm kiếm từ JTextField
+        String giaTriTimKiem = txt_NhapThongTin.getText().trim();
+
+        // 3. (Tùy chọn) Kiểm tra xem người dùng đã nhập gì chưa
+        if (giaTriTimKiem.isEmpty()) {
+            // Bạn có thể giữ lại hoặc xóa phần thông báo này tùy ý
+            JOptionPane.showMessageDialog(this, "Vui lòng nhập thông tin cần tra cứu!", "Thông báo", JOptionPane.WARNING_MESSAGE);
+            txt_NhapThongTin.requestFocus();
+            return;
+        }
+
+        // --- Gọi DAO để tìm kiếm ---
+        HoaDonDAO hoaDonDAO = new HoaDonDAO();
+        List<HoaDon> danhSachKetQua = hoaDonDAO.timHoaDon(loaiTimKiem, giaTriTimKiem);
+
+        // --- Tự kiểm tra kết quả tại đây ---
+        System.out.println(danhSachKetQua);
+        // Bạn có thể thêm lệnh in chi tiết danhSachKetQua ở đây nếu muốn
+        // Ví dụ: System.out.println(danhSachKetQua);
+        // hoặc duyệt qua danh sách và in từng hóa đơn
+        // for (HoaDon hd : danhSachKetQua) {
+        //     System.out.println(hd); // Cần có hàm toString() trong lớp HoaDon
+        // }
+
+        // Phần code cập nhật JTable đã được xóa
+    }
+
+    private void comboBox_MonthActionPerformed(java.awt.event.ActionEvent evt) {
         // TODO add your handling code here:
     }
 
-    private void txt_NhapThongTinActionPerformed(ActionEvent evt) {
+    private void btnFilterActionPerformed(java.awt.event.ActionEvent evt) {
         // TODO add your handling code here:
     }
 
-    private void btnFilterActionPerformed(ActionEvent evt) {
-        // TODO add your handling code here:
+    private void btn_XoaActionPerformed(java.awt.event.ActionEvent evt) {
+        // Xóa hết ký tự trong txt_NhapThongTin
+        txt_NhapThongTin.setText("");
+
+        // Đặt lại placeholder theo item đang chọn trong ComboBox
+        txt_NhapThongTin.setText(layPlaceholder(ComboBox_DanhMucTimKiem));
     }
+
+
+
+
+    /**
+     * Hiển thị popup chi tiết hóa đơn với hiệu ứng nền mờ (overlay).
+     * @param maHoaDon Mã hóa đơn để hiển thị
+     */
+    /**
+     * Hiển thị popup chi tiết hóa đơn với hiệu ứng nền mờ (overlay).
+     * @param maHoaDon Mã hóa đơn để hiển thị
+     */
+    private void showChiTietPopup(String maHoaDon) {
+        // 1. Lấy cửa sổ JFrame cha (cửa sổ chính của ứng dụng)
+        JFrame topFrame = (JFrame) SwingUtilities.getWindowAncestor(this);
+        if (topFrame == null) {
+            return; // Không tìm thấy frame cha
+        }
 
-    private void btn_XoaActionPerformed(ActionEvent evt) {
-        // TODO add your handling code here:
-    }
+        // 2. Tạo panel chi tiết (cái popup)
+        // (Trong tương lai, bạn sẽ muốn truyền maHoaDon vào đây để nó tải đúng data)
+        PopUpChiTietHoaDon chiTietPanel = new PopUpChiTietHoaDon();
+
+        // (Tùy chọn: bạn có thể tạo một hàm public trong PopUpChiTietHoaDon
+        // ví dụ: chiTietPanel.loadDataByMaHoaDon(maHoaDon);
+        // và gọi nó ở đây)
+
+        // 3. Tạo lớp nền mờ (Overlay)
+        JPanel overlayPanel = new JPanel(new   GridBagLayout()) {
+            @Override
+            protected void paintComponent(Graphics g) {
+                super.paintComponent(g);
+                // Vẽ nền đen mờ 50% (alpha = 150)
+                g.setColor(new Color(0, 0, 0, 150));
+                g.fillRect(0, 0, getWidth(), getHeight());
+            }
+        };
+        overlayPanel.setOpaque(false); // Quan trọng để cho phép vẽ trong suốt
+        overlayPanel.add(chiTietPanel); // Thêm panel popup vào giữa
 
-    // Variables declaration - do not modify
-    private JButton btnFilter, btn_LamMoi, btn_TraCuu, btn_Xoa;
-    private JComboBox<String> ComboBox_DanhMucTimKiem, comboBox_Month, comboBox_Year;
-    private JLabel btnKetQuaTimKiem, lblDanhMucTimKiem, lblNhapNam, lblNhapThang, lblNhapThongTin, lblThongBaoKetQua, lblThongTinTraCuu, lblTieuDeLocTG;
-    private JScrollPane jScrollPane1;
-    private JTable Table_DanhSachHoaDon;
-    private JTextField txt_NhapThongTin;
-    // End of variables declaration
+        // 4. Lấy Glass Pane của JFrame và đặt overlay vào
+        topFrame.setGlassPane(overlayPanel);
+
+        // 5. Hiển thị nó
+        overlayPanel.setVisible(true);
+    }
 
     public static void main(String[] args) {
         try {
             UIManager.setLookAndFeel("javax.swing.plaf.nimbus.NimbusLookAndFeel");
-        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException e) {
+        } catch (Exception e) {
             e.printStackTrace();
         }
         SwingUtilities.invokeLater(() -> {
@@ -496,4 +576,6 @@
             frame.setVisible(true);
         });
     }
-}
\ No newline at end of file
+}
+
+
Index: src/entity/HoaDon.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package entity;\n\npublic class HoaDon {\n\n\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/entity/HoaDon.java b/src/entity/HoaDon.java
--- a/src/entity/HoaDon.java	(revision 4be61b24890bfa626c5ac99b691918220a3a9022)
+++ b/src/entity/HoaDon.java	(date 1761536486732)
@@ -1,6 +1,55 @@
 package entity;
 
+import java.time.LocalDate;
+import java.time.LocalDateTime;
+
 public class HoaDon {
+    private String maHoaDon;
+    private LocalDateTime ngayLap;
+    private String maKhachHang;
+    private String nhanVienLap;
+    private String maKM;
+    private double tongCong;
+    private double tongTien;
+    private String phuongThucThanhToan;
+
+    // Getter & Setter gọn
+    public String getMaHoaDon() { return maHoaDon; }
+    public void setMaHoaDon(String maHoaDon) { this.maHoaDon = maHoaDon; }
+
+    public LocalDateTime getNgayLap() { return ngayLap; }
+    public void setNgayLap(LocalDateTime ngayLap) { this.ngayLap = ngayLap; }
+
+    public String getMaKhachHang() { return maKhachHang; }
+    public void setMaKhachHang(String maKhachHang) { this.maKhachHang = maKhachHang; }
 
+    public String getNhanVienLap() { return nhanVienLap; }
+    public void setNhanVienLap(String nhanVienLap) { this.nhanVienLap = nhanVienLap; }
 
+    public String getMaKM() { return maKM; }
+    public void setMaKM(String maKM) { this.maKM = maKM; }
+
+    public double getTongCong() { return tongCong; }
+    public void setTongCong(double tongCong) { this.tongCong = tongCong; }
+
+    public double getTongTien() { return tongTien; }
+    public void setTongTien(double tongTien) { this.tongTien = tongTien; }
+
+    public String getPhuongThucThanhToan() { return phuongThucThanhToan; }
+    public void setPhuongThucThanhToan(String phuongThucThanhToan) { this.phuongThucThanhToan = phuongThucThanhToan; }
+
+    // toString
+    @Override
+    public String toString() {
+        return "HoaDon{" +
+                "maHoaDon='" + maHoaDon + '\'' +
+                ", ngayLap=" + ngayLap +
+                ", maKhachHang='" + maKhachHang + '\'' +
+                ", nhanVienLap='" + nhanVienLap + '\'' +
+                ", maKM='" + maKM + '\'' +
+                ", tongCong=" + tongCong +
+                ", tongTien=" + tongTien +
+                ", phuongThucThanhToan='" + phuongThucThanhToan + '\'' +
+                '}';
+    }
 }
Index: src/dao/HoaDonDAO.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package dao;\n\npublic class HoaDonDAO {\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/dao/HoaDonDAO.java b/src/dao/HoaDonDAO.java
--- a/src/dao/HoaDonDAO.java	(revision 4be61b24890bfa626c5ac99b691918220a3a9022)
+++ b/src/dao/HoaDonDAO.java	(date 1761536486726)
@@ -1,4 +1,111 @@
 package dao;
 
+import entity.HoaDon;
+import database.ConnectDB;
+
+import java.sql.Connection;
+import java.sql.PreparedStatement;
+import java.sql.ResultSet;
+import java.sql.SQLException;
+import java.sql.Timestamp;
+import java.time.LocalDate;
+import java.time.LocalDateTime;
+import java.util.ArrayList;
+import java.util.List;
+
 public class HoaDonDAO {
-}
+
+    public HoaDonDAO() {
+        // Constructor
+    }
+
+    /**
+     * Tìm kiếm danh sách hóa đơn dựa trên tiêu chí và giá trị tìm kiếm.
+     * Ánh xạ TongCong(SQL) -> tongCong(Java), TongTien(SQL) -> tongTien(Java).
+     * @param loaiTimKiem Tiêu chí tìm kiếm ("Số điện thoại", "Số CCCD", "Mã hóa đơn").
+     * @param giaTriTimKiem Giá trị cần tìm.
+     * @return Danh sách các đối tượng HoaDon phù hợp.
+     */
+    public List<HoaDon> timHoaDon(String loaiTimKiem, String giaTriTimKiem) {
+        List<HoaDon> ketQuaTimKiem = new ArrayList<>();
+        Connection con = null;
+        PreparedStatement pstmt = null;
+        ResultSet rs = null;
+        // Chọn các cột khớp với entity HoaDon từ bảng HoaDon (HD)
+        String selectColumns = "SELECT HD.MaHD, HD.NgayLap, HD.MaKhachHang, HD.MaNVLap, HD.MaKM, HD.TongCong, HD.TongTien, HD.PhuongThuc "; // Chọn TongCong và TongTien
+        String sql = "";
+
+        try {
+            con = ConnectDB.getConnection();
+
+            // -- Xây dựng câu lệnh SQL dựa trên loại tìm kiếm --
+            if ("Mã hóa đơn".equals(loaiTimKiem)) {
+                sql = selectColumns + "FROM HoaDon HD WHERE HD.MaHD = ?";
+                pstmt = con.prepareStatement(sql);
+                pstmt.setString(1, giaTriTimKiem); // Tìm chính xác MaHD
+
+            } else if ("Số điện thoại".equals(loaiTimKiem)) {
+                // **** GIẢ ĐỊNH: Bảng KhachHang có cột MaKhachHang và SoDienThoai ****
+                sql = selectColumns + "FROM HoaDon HD JOIN KhachHang KH ON HD.MaKhachHang = KH.MaKhachHang WHERE KH.SoDienThoai = ?";
+                pstmt = con.prepareStatement(sql);
+                pstmt.setString(1, giaTriTimKiem);
+
+            } else if ("Số CCCD".equals(loaiTimKiem)) {
+                // **** GIẢ ĐỊNH: Bảng KhachHang có cột MaKhachHang và CCCD ****
+                sql = selectColumns + "FROM HoaDon HD JOIN KhachHang KH ON HD.MaKhachHang = KH.MaKhachHang WHERE KH.CCCD = ?";
+                pstmt = con.prepareStatement(sql);
+                pstmt.setString(1, giaTriTimKiem);
+
+            } else {
+                System.err.println("Loại tìm kiếm không hợp lệ: " + loaiTimKiem);
+                return ketQuaTimKiem;
+            }
+
+            // -- Thực thi và xử lý kết quả --
+            rs = pstmt.executeQuery();
+
+            while (rs.next()) {
+                String maHoaDon = rs.getString("MaHD");
+                Timestamp ngayLapTimestamp = rs.getTimestamp("NgayLap");
+                String maKhachHang = rs.getString("MaKhachHang");
+                String nhanVienLap = rs.getString("MaNVLap");
+                String maKM = rs.getString("MaKM");
+                // --- ÁNH XẠ ĐÚNG THEO CẤU TRÚC MỚI ---
+                double tongCongJava = rs.getDouble("TongCong"); // TongCong SQL -> tongCong Java
+                double tongTienJava = rs.getDouble("TongTien");   // TongTien SQL -> tongTien Java
+                // ------------------------------------
+                String phuongThucThanhToan = rs.getString("PhuongThuc");
+
+                LocalDateTime ngayLap = (ngayLapTimestamp != null) ? ngayLapTimestamp.toLocalDateTime() : null;
+
+                HoaDon hd = new HoaDon(); // Giả sử có constructor mặc định và setters
+                hd.setMaHoaDon(maHoaDon);
+                hd.setNgayLap(ngayLap);
+                hd.setMaKhachHang(maKhachHang);
+                hd.setNhanVienLap(nhanVienLap);
+                hd.setMaKM(maKM);
+                // --- Gán giá trị đã ánh xạ ---
+                hd.setTongCong(tongCongJava);
+                hd.setTongTien(tongTienJava);
+                // -----------------------------
+                hd.setPhuongThucThanhToan(phuongThucThanhToan);
+
+                ketQuaTimKiem.add(hd);
+            }
+
+        } catch (SQLException e) {
+            System.err.println("Lỗi khi tìm kiếm hóa đơn (" + loaiTimKiem + "): " + e.getMessage());
+            e.printStackTrace();
+        } finally {
+            try {
+                if (rs != null) rs.close();
+                if (pstmt != null) pstmt.close();
+                // Không đóng Connection
+            } catch (SQLException ex) {
+                ex.printStackTrace();
+            }
+        }
+
+        return ketQuaTimKiem;
+    }
+}
\ No newline at end of file
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_23\" default=\"true\" project-jdk-name=\"23\" project-jdk-type=\"JavaSDK\">\n    <output url=\"file://$PROJECT_DIR$/classes\" />\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
--- a/.idea/misc.xml	(revision 4be61b24890bfa626c5ac99b691918220a3a9022)
+++ b/.idea/misc.xml	(date 1761500822855)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
-  <component name="ProjectRootManager" version="2" languageLevel="JDK_23" default="true" project-jdk-name="23" project-jdk-type="JavaSDK">
+  <component name="ProjectRootManager" version="2" languageLevel="JDK_25" default="true" project-jdk-name="23" project-jdk-type="JavaSDK">
     <output url="file://$PROJECT_DIR$/classes" />
   </component>
 </project>
\ No newline at end of file
